## Page 1

# SINTRAN III

## System Supervisor

**ND-30.003.007 EN**

![Norsk Data Logo](ND_logo.png) 

**Norsk Data**

---

## Page 2

# SINTRAN III

*System Supervisor*

*ND–30.003.007 EN*

---

## Page 3

# PREFACE

## The product

SINTRAN III is a general purpose operating system for ND-100 and ND-500 computers. This manual describes the Operator and System Supervisor functions for the following products.

| Product                                | Version | Code     |
| -------------------------------------- | ------- | -------- |
| SINTRAN III VSE                        | version K | ND-210174 |
| SINTRAN III VSX                        | version K | ND-210575 |
| SINTRAN III VSX-500                    | version K | ND-210576 |
| COSMOS Basic Module                    | version D | ND-210374 |

VSE and VSX are used on ND-100 computers, while VSX-500 is used on the ND-500 computers. The VSE-500 has now been now phased out (the last version was I).

VSE and VSX are abbreviations for Virtual Storage EXtended. VSE is for ND-100 standard CPUs, while VSX is for ND-100/CX CPUs (Commercially eXtended instruction set). In addition to the ND-100 part of SINTRAN, the VSX-500 contains the ND-500 MONITOR.

The VSE uses 4 page tables, while the VSX now uses 16 page tables. VSX requires Memory Management System II (MMS II), or the new fast ND-110/CX CPU.

## The reader

This manual is intended for System Supervisors and Operators of computers using any of the versions of SINTRAN listed above.

## Prerequisite knowledge

Many of the tasks described can be carried out without any basic knowledge of software or ND equipment, though knowledge of SINTRAN as an ordinary user is an advantage. New operators and supervisors of ND computers are advised to take the special courses offered by ND.

Sections marked "ADVANCED" are written for experienced operators or supervisors. Some of these sections may prove difficult for people who do not have much knowledge of data processing.

Norsk Data ND-30.003.7 EN

---

## Page 4

# The manual

Chapters 1 to 4 contain material of importance to all readers in the above groups.

Operators of ND-500 installations need knowledge of some operations that are exclusive to the ND-500. These operations are described in separate sections.

## Related manuals

### Documentation for all configurations:

| **Document**                           | **Number**   |
|----------------------------------------|--------------|
| SINTRAN III Introduction               | ND-60.125    |
| Timesharing Guide                      | ND-30.132    |
| Release Information K-version          | ND-60.230    |
| Commands Reference Manual              | ND-60.128    |
| How to order it                        | ND-30.053    |
| Utilities Manual                       | ND-60.151    |
| Backup User Guide                      | ND-60.250    |
| Tuning Guide                           | ND-30.049    |
| Software Security Handbook             | ND-30.048    |
| Quick Reference Card                   | ND-60.174 (RC)|
| User Environment Reference Manual      | ND-60.194    |
| ND-100 Operator's Communication Survey | ND-99.016 (RC)|

### Documentation on specific types of computer:

| **Document**                                    | **Number**   |
|-------------------------------------------------|--------------|
| ND-100 Compact Operator Guide                   | ND-30.031    |
| ND-100 Satellite Operator Guide                 | ND-30.041    |
| How To Use Operator Panel ND-323163             | ND-99.030 (RC)|

### Data communication:

| **Document**                         | **Number** |
|--------------------------------------|------------|
| COSMOS Options Operator's Guide      | ND-30.034  |
| SNA Supervisor                       | ND-30.054  |
| SNA RJE Operator Manual              | ND-30.058  |

(RC means reference card)

### Databases and applications using them:

| **Document**                             | **Number** |
|------------------------------------------|------------|
| SIBAS Operator's manual                  | ND-30.009  |
| UNIQUE-II Installation Instructions      | ND-60.217  |
| ND TPS System Supervisor's manual        | ND-30.006  |
| ACCESS DBA Manual                        | ND-30.022  |
| TRUE Operator Guide                      | ND-30.042  |
| NOTIS-DS Supervisor Guide                | ND-30.059  |

Norsk Data ND-30.003.7 EN

---

## Page 5

# Other documentation (related to SINTRAN or maintenance)

| Documentation | Code |
|---------------|------|
| SINTRAN III Monitor Call Guide | ND-60.228 |
| Real Time Guide | ND-60.133 |
| System Documentation | ND-60.062 |
| NORD File System Documentation | ND-60.122 |
| FTX Operator Manual | ND-30.051 |
| NDIX Operator Guide | ND-30.055 |
| TELEFIX Reference Manual | ND-30.040 |
| ND-100 Hardware Maintenance Manual | ND-30.008 |
| ND-500 Hardware Maintenance | ND-30.014 |

---

# Notation used in this manual

SINTRAN prints the character `@` as prompt when it is ready to accept a command. Commands and parameters specified can be abbreviated as long as they do not become ambiguous. SINTRAN and many subsystems have a HELP command to list the commands available.

**EXAMPLE:** `@W-I-O` is legal for "WHO-IS-ON".

The character "`*`" can be used to denote arbitrary characters in commands and parameters.

**EXAMPLE:** `@*****` is equal to `@DATCL`.

**EXAMPLE:** `@LIST-FILES .*SEG` will list files with matching file types such as `:PSEG` and `:DSEG`.

Parameters omitted in an input string are asked for. Each input line must be terminated by CR (Carriage Return). This character is invisible.

Spaces and commas are used to separate parameters. Examples in this manual make use of both conventions.

**EXAMPLE:** `@HELP CREATE TERMINAL` is equal to `@HELP,CREATE,TERMINAL`

Lowercase letters are considered equal to the corresponding uppercase letters in an input line. SINTRAN uses mainly uppercase letters in output to the terminal.

**EXAMPLE:** `@terminal-status` is equal to `@TERMINAL-STATUS`.

Norsk Data ND-30.003.7 EN

---

## Page 6

# Number Systems

Numbers can be specified in two number systems. The radix (number base) specifiers are:

| Specifier | System | Example    |
|-----------|--------|------------|
| B         | octal  | Example: 313B |
| D         | decimal| Example: 203D |

The radix specifier is added after the last digit in the number. SINTRAN usually uses decimal, while the SINTRAN Service Program mainly uses octal numbers. The ND-500 Monitor accepts also hexadecimal numbers.

**EXAMPLE**: 203D is the same as 313B.

In the text in this manual, octal numbers are indicated by the radix specifier 8 or B.

K stands for "binary K" (1024 decimal). In the same way, M stands for "binary M" (1024*1024=1048576 decimal).

**EXAMPLE**: 64K is the same as 64<sub>10</sub> * 1024<sub>10</sub> = 65536<sub>10</sub>.

# Word Length

A word has a length of 16 bits unless otherwise stated. This is in general valid for the ND-100 computer and SINTRAN, while the ND-500 CPU has a word-length of 32 bits.

# Line-Editing Features

Line-editing features are activated by control characters. See SINTRAN Commands Reference Manual.

# Command Syntax Conventions

The following conventions are used throughout this manual in explanations of COMMAND syntax. When typing commands on the terminal, THESE CHARACTERS MUST NOT BE TYPED:

| Character | Description                                                 |
|-----------|-------------------------------------------------------------|
| < >       | parameter name within angular brackets                      |
| ( )       | the enclosed parameter has a default value                  |
| [ ]       | the enclosed parameter is optional                          |
| /         | use one of the alternatives values/expressions either to left or right of the slant. |
| ?         | the parameter is a question to be answered by "Y" or "N"    |

Norsk Data ND-30.003.7 EN

---

## Page 7

# Examples of Different Parameter Types

| Parameter        | Description                                |
|------------------|--------------------------------------------|
| `<file name>`    | has no default value,                      |
| `<output file>`  | has a default value.                       |
| `[unit]`         | is an optional parameter.                  |
| `<input/output>` | is a parameter with two alternatives.      |
| `(<image?>)`     | is a question with default value "N"       |

In examples of interactive communication, two types of commands are shown:

- commands with prompted parameters
- commands fully specified on a line.

For the sake of clarity, user input is _**underlined**_ except in the case of "CR", which is omitted. In examples illustrating mode jobs, nothing is underlined.

Control characters are shown as follows: CTRL-A .

Control characters are typed by pressing the CONTROL-key "CTRL" and holding it down while pressing the other key.

The three most-used functions on the computer's operator panel are illustrated as follows:

|        |        |        |
|--------|--------|--------|
| STOP   | MACL   | LOAD   |
|        | (MAster CLear)  |        |

The activation of these functions depends on the operator-panel type.

---

# Changes from Previous Version

The manual has been completely rewritten and reorganized to reflect SINTRAN III version K.

For an overview of the differences between versions J and K, see SINTRAN Release Information K-version, ND-60.230.2

The Operator functions of the COSMOS Basic Module are also now documented in this manual. This replaces the parts of the COSMOS Operator Manual (ND-30.031) that described these functions.

Norsk Data ND-30.003.7 EN

---

## Page 8

# Contents

## Appendices
| **Appendix** | **Title** | **Page** |
|--------------|-----------|----------|
| A            | SYSTEM NAME | A-1     |

| **Index** | **Topic**     | **Page** |
|-----------|---------------|----------|
|           |               |          |

## List of Code Words
| **Code**   | **Meaning**     |
|------------|-----------------|
| CODE1      | Description1    |
| CODE2      | Description2    |

---

Norsk Data ND-30.003.7 EN

---

## Page 9

# TABLE OF CONTENTS

| Section | Page |
|---------|------|
| **1 SYSTEM SUPERVISION OVERVIEW** | **1** |
| 1.1 Job description for the System Operator | 1 |
| 1.2 Job description for the System Supervisor | 1 |
| 1.3 Categories of user area | 3 |
| 1.4 Software versions required for running SINTRAN III K | 5 |

| **2 HARDWARE OPERATIONS** | **7** |
| 2.1 Using the operator panel | 7 |
| 2.1.1 ND-100 and ND-500 operator panels until 1984 | 9 |
| 2.1.2 All ND computers from 1985 | 13 |
| 2.1.3 OPCOM reference section (ADVANCED) | 16 |
| 2.2 Using disks | 21 |
| 2.2.1 The SMD disks | 22 |
| 2.2.2 The MMD disk | 25 |
| 2.2.3 The FSD and RSD disks | 26 |
| 2.3 Using the streamer magnetic tape | 29 |
| 2.3.1 The 8 inch streamer | 29 |
| 2.3.2 The 5 1/4 inch streamer | 30 |
| 2.3.3 Write-protecting the cartridge | 31 |
| 2.4 Switching on the installation | 32 |
| 2.4.1 The ND-100 and ND-500 computers in large cabinet | 33 |
| 2.4.2 The Compact computers | 35 |
| 2.4.3 The Satellite computers | 36 |
| 2.4.4 The OMNI hardcopy console terminal | 37 |
| 2.4.5 The Tandberg TDV 2200/9 terminal | 38 |
| 2.4.6 The FACIT 4440 - TWIST terminal | 39 |
| 2.4.7 The EPSON RX/80 printer | 40 |

| **3 STOPPING, STARTING AND LOADING SINTRAN III** | **43** |
| 3.1 Controlled stop | 46 |
| 3.1.1 More about stopping different processes | 48 |
| 3.1.2 Stopping ND-500 CPU without stopping the ND-100 | 58 |
| 3.2 Warn start | 61 |
| 3.2.1 SINTRAN memory, image and save-area | 64 |
| 3.2.2 Initial commands | 66 |
| 3.2.3 More about the LOAD-MODE file | 69 |
| 3.2.4 More about starting different processes | 71 |
| 3.2.5 Starting the ND-500 CPU | 75 |
| 3.2.6 Starting the ND-500 Multi-CPU (ND-580/CX) | 80 |
| 3.3 Cold start | 86 |
| 3.3.1 Cold start with SINTRAN running | 86 |
| 3.3.2 More about the HENT-MODE file | 91 |
| 3.3.3 Maintaining the segment files (ADVANCED) | 92 |

Norsk Data ND-30.003.7 EN

---

## Page 10

# Section

| Section | Page |
|---------|------|
| 3.3.4 | Initializing background programs | 94 |
| 3.3.5 | Initializing the MAIL system | 96 |
| 3.3.6 | Reentrant subsystems | 96 |
| 3.3.7 | The ND500-HENT file | 99 |
| 3.3.8 | Ordinary domains and standard domains | 100 |
| 3.3.9 | ND-500 Swap files (ADVANCED) | 105 |
| 3.4 | Loading SINTRAN from floppy diskettes | 109 |
| 3.5 | Configuration program | 119 |
| 3.5.1 | The utility commands | 121 |
| 3.5.2 | The selection commands | 122 |
| 3.5.3 | The DISPLAY command | 128 |
| 3.6 | Initial loading of SINTRAN (ADVANCED) | 130 |
| 3.7 | Example of initial loading (ADVANCED) | 133 |
| 3.8 | Space requirements for K version | 139 |

# 4 FILE SYSTEM SUPERVISION

| Section | Page |
|---------|------|
| 4.1 | Files | 141 |
| 4.1.1 | Creating indexed files | 142 |
| 4.1.2 | Shrinking, renaming and deleting files | 144 |
| 4.1.3 | Retrieving information about files | 146 |
| 4.2 | Directories | 148 |
| 4.2.1 | Creating a directory | 150 |
| 4.2.2 | Formatting a disk or floppy diskette | 155 |
| 4.2.3 | Entering and releasing directories | 159 |
| 4.2.4 | Retrieving information about directories | 161 |
| 4.3 | Administrating user areas and disk space | 163 |
| 4.3.1 | Creating and deleting user areas | 163 |
| 4.3.2 | Defining file access and the number of files that can be created | 165 |
| 4.3.3 | Scratch files | 169 |
| 4.3.4 | Passwords | 170 |
| 4.4 | Efficient directory and file organization (ADVANCED) | 172 |
| 4.4.1 | Two examples of directory organization | 173 |

# 5 COSMOS BASIC MODULE OPERATIONS

| Section | Page |
|---------|------|
| 5.1 | Survey | 179 |
| 5.1.1 | Prerequisites to use the COSMOS BM | 179 |
| 5.1.2 | Defining the network routing | 180 |
| 5.2 | The Connect-To Service program and TADs | 183 |
| 5.2.1 | The SINTRAN TAD commands | 183 |
| 5.2.2 | The Connect-To Service program | 185 |
| 5.3 | The script facility of Connect-To | 190 |
| 5.3.1 | SCRIPT syntax | 193 |
| 5.3.2 | How to start and end a SCRIPT | 193 |
| 5.3.3 | The SCRIPT body | 195 |
| 5.3.4 | Error messages | 198 |
| 5.3.5 | Some additional SCRIPT examples | 201 |
| 5.4 | The File Server Administrator | 204 |
| 5.4.1 | Overview of Remote File Access | 204 |
| 5.4.2 | The FS Administrator program | 206 |

Norsk Data ND-30.003.7 EN

---

## Page 11

# Section

| Section | Page |
| ------- | ---- |
| 5.5 | Advanced part of File-Transfer | 216 |
| 5.5.1 | Checking the network connections | 217 |
| 5.5.2 | Defining transfer conditions | 219 |
| 5.5.3 | Other advanced commands | 219 |
| 5.6 | COSMOS Spooling | 221 |
| 5.6.1 | COSMOS Spooling Service program | 223 |
| 5.6.2 | Maintaining definitions of printers | 224 |
| 5.6.3 | Some other commands | 227 |

# 6 PERIPHERALS AND SPOOLING SUPERVISION

| Section | | |
| ------- | - | --- |
| 6.1 | Peripherals as seen from the file system | 229 |
| 6.1.1 | File access for peripheral files | 231 |
| 6.2 | Spooling system | 231 |
| 6.2.1 | Preparing a printer for spooling | 233 |
| 6.2.2 | Administering spooling pages | 235 |
| 6.2.3 | Starting and stopping spooling | 237 |
| 6.2.4 | Spooling headers, conditions and forms | 237 |
| 6.2.5 | Printing documents or files | 241 |
| 6.2.6 | Controlling the spooling queue | 243 |
| 6.2.7 | Controlling the file currently being printed | 246 |
| 6.2.8 | Spooling using COSMOS Remote File Access | 248 |
| 6.3 | Commands for handling mass-storage devices | 250 |
| 6.4 | Some important commands and variables for terminals | 251 |
| 6.4.1 | Terminal type | 251 |
| 6.4.2 | The ESCAPE function (ESC) | 253 |
| 6.4.3 | Background Allocation System | 254 |
| 6.4.4 | Some variables in the terminal datafield | 258 |
| 6.4.5 | Security primitives | 265 |

# 7 TAKING BACKUP

| Section | | |
| ------- | - | --- |
| 7.1 | Why and how often you should take backup | 267 |
| 7.2 | SINTRAN commands for taking backup | 269 |
| 7.3 | Using the Backup System | 270 |
| 7.3.1 | Device copy | 271 |
| 7.3.2 | Commands for selective copying of files | 273 |
| 7.3.3 | Modifying the copying mode | 283 |
| 7.4 | Running stand-alone programs for taking backup | 284 |
| 7.4.1 | Example of running Filesystem Investigator | 285 |
| 7.4.2 | DISC-TEMA | 286 |
| 7.4.3 | DIR-BACKUP | 287 |

# 8 MAIL SUBSYSTEM

| Section | Page |
| ------- | ---- |
| 8 | MAIL SUBSYSTEM | 289 |

Norsk Data ND-30.003.7 EN

---

## Page 12

# 9 ACCOUNTING (ADVANCED)

| Section | Title                                               | Page |
|---------|-----------------------------------------------------|------|
| 9.1     | Installation                                        | 293  |
| 9.2     | Initializing, starting and stopping ACCOUNTING      | 294  |
| 9.3     | ACCOUNTING Service Program                          | 296  |
| 9.3.1   | Creating and deleting background projects           | 297  |
| 9.3.2   | Creating and deleting RT projects                   | 298  |
| 9.3.3   | Dumping and inspecting ACCOUNTING information       | 299  |
| 9.3.4   | Deleting ACCOUNTING information                     | 303  |

# 10 PREVENTIVE MAINTENANCE AND TEST PROGRAMS

| Section | Title                                               | Page |
|---------|-----------------------------------------------------|------|
| 10.1    | Environmental requirements                          | 305  |
| 10.2    | TPE Monitor and ND-100 test program overview (ADVANCED) | 307 |
| 10.2.1  | Example of running CONFIGURATION                    | 310  |
| 10.3    | TEMICS for the ND-500/2 CPUs (ADVANCED)             | 312  |
| 10.4    | The File System Investigator (ADVANCED)             | 316  |
| 10.4.1  | Directory consistency check                         | 316  |
| 10.4.2  | Correcting errors                                   | 317  |
| 10.4.3  | More hints about correcting errors                  | 323  |

# 11 ERROR SUPERVISING

| Section | Title                                               | Page |
|---------|-----------------------------------------------------|------|
| 11.1    | The main types of serious errors                    | 325  |
| 11.2    | Error logging                                       | 326  |
| 11.3    | Overview of SINTRAN error messages                  | 327  |
| 11.3.1  | Format of error messages related to RT-programs     | 327  |
| 11.3.2  | Format of the tables describing the error messages  | 328  |
| 11.3.3  | SINTRAN run-time error messages                     | 329  |
| 11.3.4  | Some SINTRAN file system error messages             | 335  |
| 11.4    | Using MENTO (ADVANCED)                              | 344  |
| 11.5    | RT-program hang (ADVANCED)                          | 346  |
| 11.6    | Stuck terminals                                     | 347  |
| 11.7    | TELEFIX                                             | 349  |

# 12 PATCHING

| Section | Title                                               | Page |
|---------|-----------------------------------------------------|------|
| 12.1    | Patching when loading SINTRAN from floppy diskettes | 351  |
| 12.2    | Patching with SINTRAN commands                      | 352  |
| 12.3    | Patching with DMAC and FMAC                         | 353  |

Norsk Data ND-30.003.7 EN

---

## Page 13

# Appendices

| Section | Title                                                             | Page |
|---------|-------------------------------------------------------------------|------|
| A       | CONFIGURATION-DEPENDENT INFORMATION                               | 355  |
| B       | BINARY, OCTAL AND HEXADECIMAL NUMBERS                             | 357  |
| C       | MASS STORAGE DEVICE NAMES                                         | 361  |
| D       | SINTRAN K-VERSION, LAYOUT ON DISK (ADVANCED)                      | 365  |
| E       | SINTRAN K-VERSION, PHYSICAL LAYOUT IN COMPUTER (ADVANCED)         | 369  |
| F       | FILE SYSTEM LAYOUT ON DISK (ADVANCED)                             | 379  |
| G       | PHYSICAL CHARACTERISTICS OF DISKS (ADVANCED)                      | 387  |
| H       | FILES USED TO STOP AND START THE SYSTEM                           | 391  |
| I       | EXAMPLE OF INFORMATION FOUND IN CSI                               | 403  |
| J       | EXAMPLE OF PRODUCT DESCRIPTION (PD) SHEETS                        | 405  |
| K       | SWITCH SETTINGS (ADVANCED)                                        | 409  |

---

Index ------------------------------------------------------------------------ 424

---

Norsk Data ND-30.003.7 EN

---

## Page 14

I'm unable to convert the document directly as it appears to be blank with only a page number and document identifier at the bottom. If there is another page with content, please share it for conversion.

---

## Page 15

# LIST OF FIGURES

| Title                                                                 | Page |
|----------------------------------------------------------------------|------|
| 1. The operator panel (until 1984)                                   | 9    |
| 2. The display panel (until 1984)                                    | 11   |
| 3. Operator panel (from 1985)                                        | 13   |
| 4. The display panel (from 1985)                                     | 16   |
| 5. Operator panel on the SMD disks                                   | 22   |
| 6. Removing a SMD disk pack                                          | 23   |
| 7. Locking the SMD disk heads                                        | 24   |
| 8. Operator panel on the MMD disk                                    | 25   |
| 9. The File store cabinets                                           | 26   |
| 10. Front panel of the RSD disk                                      | 27   |
| 11. Removing a RSD disk pack                                         | 28   |
| 12. Inserting cartridge tape into an 8 inch streamer                 | 29   |
| 13. Inserting cartridge tape into a 5 1/4 inch streamer              | 30   |
| 14. Write-protecting the streamer cartridge                          | 31   |
| 15. The ND-100 and ND-500 circuit breakers                           | 33   |
| 16. The ND-100 and ND-500 battery switches                           | 34   |
| 17. The Compact circuit breaker                                      | 35   |
| 18. The Satellite mains switch                                       | 36   |
| 19. The hardcopy console terminal                                    | 37   |
| 20. The Tandberg TDV 2200/9 terminal                                 | 38   |
| 21. The FACIT 4440 - TWIST terminal                                  | 39   |
| 22. The EPSON RX-80 printer                                          | 41   |
| 23. SINTRAN memory, image and save-area                              | 65   |
| 24. ND-500 physical memory configuration                             | 79   |
| 25. ND-500 actual memory configuration                               | 80   |
| 26. Overview of the ND-500 Multi-CPU                                 | 81   |
| 27. How a domain is organized on files                               | 103  |
| 28. Execution of a ND-500 domain (as seen from ND-500)               | 107  |
| 29. The configuration program and the parts of SINTRAN affected      | 120  |
| 30. Example of an indexed file                                       | 142  |
| 31. Example of a contiguous file                                     | 143  |
| 32. Example of directory structure (simplified)                      | 148  |
| 33. Example of directory structure                                   | 152  |
| 34. A small network using HDLC or Megalink                           | 181  |
| 35. A small Ethernet network                                         | 182  |
| 36. Example of interconnection in the Connect-To system              | 184  |
| 37. Example of interconnection using COSMOS remote file access       | 205  |
| 38. Example of interconnection using COSMOS File-Transfer            | 216  |
| 39. Example of interconnection using COSMOS Spooling                 | 221  |
| 40. The spooling system                                              | 232  |
| 41. Simplified model of user dialogue with an application            | 259  |
| 42. Several generations of a complete backup                         | 268  |
| 43. Example of incremental backup using several directories          | 279  |
| 44. SINTRAN VSX - Physical memory layout                             | 369  |
| 45. SINTRAN VSX - Page Index Table layout                            | 371  |
| 46. SINTRAN VSX - Interrupt level usage                              | 373  |
| 47. SINTRAN VSE - Physical memory layout                             | 374  |
| 48. SINTRAN VSE - Page Index Table layout                            | 377  |

Norsk Data ND-30.003.7 EN

---

## Page 16

# Title

|   | Title                                                      | Page |
|---|------------------------------------------------------------|------|
|49 | SINTRAN VSE - Interrupt level usage                        |  378 |
|50 | File system overview                                       |  379 |
|51 | Master block                                               |  380 |
|52 | Bit-file                                                   |  381 |
|53 | User file                                                  |  382 |
|54 | User entry                                                 |  383 |
|55 | Object file block                                          |  384 |
|56 | Object entry                                               |  385 |
|57 | Indexed and contiguous file organization                   |  386 |
|58 | Disk pack                                                  |  387 |
|59 | ND-100 and ND-110 CPU cards                                |  409 |
|60 | The Telefix switches on the operator panel                 |  412 |
|61 | Terminal interfaces                                        |  414 |
|62 | The OMNI hardcopy console                                  |  417 |
|63 | EPSON LX-80 printer connected to Tandberg terminal         |  420 | 

Norsk Data ND-30.003.7 EN

---

## Page 17

# List of Tables

| Title                                                                       | Page |
|-----------------------------------------------------------------------------|------|
| 1. Categories of SINTRAN user area                                          | 3    |
| 2. ND product groups requiring separate start and stop handling             | 45   |
| 3. System-included RT-programs and COSMOS                                   | 56   |
| 4. Values for default memory allocation                                     | 80   |
| 5. Standard SINTRAN user areas                                              | 131  |
| 6. System files                                                             | 132  |
| 7. Formula for calculating disk space for SINTRAN VSX - K                   | 139  |
| 8. Example of different file types                                          | 141  |
| 9. Example of main and default directories                                  | 150  |
| 10. File access codes                                                       | 166  |
| 11. Example of directory organization of a small system                     | 174  |
| 12. Example of directory organization of a large system                     | 177  |
| 13. SCRIPT identifiers in Connect-To                                        | 193  |
| 14. Installation of COSMOS RFA                                              | 205  |
| 15. Installation of COSMOS CFT                                              | 216  |
| 16. Installation of COSMOS Spooling                                         | 222  |
| 17. File access codes for peripherals                                       | 231  |
| 18. Standard ND terminal types                                              | 252  |
| 19. Values to select terminal transmission speed                            | 260  |
| 20. The Backup System commands                                              | 270  |
| 21. ND-100 test programs                                                    | 309  |
| 22. TEMICS main tests                                                       | 313  |
| 23. Commands in the Filesystem Investigator                                 | 317  |
| 24. SINTRAN run-time error messages                                         | 331  |
| 25. Some error codes from floppy and magtape controller                     | 341  |
| 26. Binary, octal, and hexadecimal numbers                                  | 357  |
| 27. Mass storage device names                                               | 363  |
| 28. Physical characteristics of various disk types                          | 390  |
| 29. The ALD setting on the CPU card                                         | 410  |
| 30. Console transmission speed                                              | 411  |
| 31. Console and modem transmission speed when using Telefix                 | 413  |
| 32. Terminal transmission speed                                             | 414  |
| 33. Terminal numbers and device numbers                                     | 416  |
| 34. Some ND-relevant OMNI configuration parameters                          | 418  |

Norsk Data ND-30.003.7 EN

---

## Page 18

Norsk Data ND–30.003.7 EN

---

## Page 19

# SINTRAN III SYSTEM SUPERVISOR
## SYSTEM SUPERVISION OVERVIEW

An ND-100 or ND-500 computer installation needs to be supervised by a trained technician. This person is usually referred to as the System Supervisor or Operator.

### 1.1 Job description for the System Operator

A System Operator is responsible for the day-to-day operation of the computer:

- defining user areas and user privileges in SINTRAN and application programs
- starting and stopping SINTRAN and application programs
- taking backup
- installing disk packs
- maintaining peripheral equipment (e.g. printers, terminals)
- helping users (trouble shooting, training, information)
- installing new application software
- calling ND Service for help if needed
- keeping informed about news from ND (new products and manuals)

### 1.2 Job description for the System Supervisor

The System Supervisor's job may include all of the above functions. In addition, he is responsible for:

- loading new SINTRAN versions and corrections (patches)
- maintaining the accounting system (if used)
- optimizing performance (tuning)

---

## Page 20

# SINTRAN III SYSTEM SUPERVISOR  
## SYSTEM SUPERVISION OVERVIEW

- making patches
- running test programs
- planning the company's future computer-needs

Generally speaking, a System Supervisor needs to have more basic computer knowledge than is usually required of an Operator. The way either of these jobs is defined, however, depends on the size and complexity of the system. In the case of small systems with a small number of applications, the above functions might all be carried out by the same person. Large installations with many computers often employ many technicians with specialised duties.

When a company wishes to make use of Norsk Data's service facilities a service contract is drawn up, setting out the specific requirements of the company concerned. This contract states:

- How much operating/supervising assistance is to be provided by ND.
- How fast the company is guaranteed to receive service

Please ensure that all staff involved in using or operating the system have the documentation and the training they need. ND offers a wide range of product-oriented courses, which can be tailored to your specific requirements.

Norsk Data's monthly publication, **Customer Support Information**, contains news about products and documentation as well as technical hints. It also contains information about modifications and corrections needed for existing software products. This publication is sent free of charge to all ND customers.

The preface to this manual includes a list of current manuals of use to System Supervisors and Operators.

Norsk Data ND-30.003.7 EN

---

## Page 21

# SINTRAN III SYSTEM SUPERVISOR  
## SYSTEM SUPERVISION OVERVIEW  

---

## 1.3 Categories of user area

SINTRAN has three different categories of user area, each with its own privileges:

| User category | SINTRAN III privileges   |
|---------------|--------------------------|
| "public"      | public commands          |
| RT            | public and RT commands   |
| SYSTEM        | all commands             |

*Table 1. Categories of SINTRAN user area*  

---

**NOTE!** In earlier versions of this manual, the term *user* has often been used synonymously with *user area*. In order to avoid confusion, we have chosen now to reserve the term *user* for the human user, except in compounds such as user SYSTEM and user RT, where *user* is still used to mean *user area*.  

All categories of SINTRAN user area have the following in common:

- They are accessed via a terminal, or by submitting batch jobs to a batch processor.

- They are identified when logging in, or as the first command in a batch job, by specifying the SINTRAN user name.

- Many users can simultaneously be logged in on the same user area.

Every user has the freedom to decide whether or not to protect the SINTRAN user area with a password. The privileged user areas SYSTEM and RT should always have PASSWORDS. Otherwise unauthorized persons will be able to log in and damage files or gain access to confidential information. If you are able to log in as user SYSTEM or RT, you are capable of accessing all the information stored in the computer. Passwords should also be changed regularly (for example once a week, month or half year). The command for changing a password is simply:

@CHANGE-PASSWORD <old password> <new password>

---

Norsk Data ND-30.003.7 EN

---

## Page 22

# SINTRAN III SYSTEM SUPERVISOR
## SYSTEM SUPERVISION OVERVIEW

Make a habit of logging out when leaving the terminal for longer periods, and never leave the terminal when logged in as user SYSTEM or RT!

User SYSTEM is a standard SINTRAN user area intended for use by Operators and System Supervisors. Many special commands are available in addition to those for the public and RT user areas. Some of the special commands activate SINTRAN subsystems: The SINTRAN Service Program and the RT-Loader (the latter also available for user RT).

User RT is also a standard SINTRAN user area. It exists on all ND computers and is mainly used for controlling RT programs. RT programs execute closer to the kernel of the operating system and are able to carry out privileged tasks.

Many ND products have special commands related to the operating of the computer. To be able to execute the commands, you must be logged on as user SYSTEM. Examples are the XMSG command program and some of the commands in the MAIL subsystem.

You are strongly advised NOT to experiment with system commands if you do not know what the result will be. The result may be days or weeks of lost work! No user without a thorough knowledge of SINTRAN should be given access to the SYSTEM password.

The shared resources of the installation - hardware devices (such as floppy diskettes and printers) and shared programs (such as compilers and editors) - are all owned by user SYSTEM. The resources are associated with files. In the case of peripheral devices, these are called peripheral files. User SYSTEM is automatically searched for files when another user refers to files not found in her/his own user area.

In addition to such supervisor programs/program parts, you must use the console terminal (terminal number 1) for some of the basic operations, for example loading SINTRAN and operating ND-100. See chapters 2 and 3. When the command @SET-UNAVAILABLE has been given, it is only possible to log in from the console terminal. The system is made available again by giving the command @SET-AVAILABLE. Both commands are restricted to user SYSTEM.

The product USER-ENVIRONMENT (UE) is delivered as a standard software package with new computers. The intention of this program is to make it easier for people who are not computer experts to use the ND computers. USER-ENVIRONMENT also increases the degree of security on ND systems, helping to prevent unauthorized persons from accessing SINTRAN user areas and stealing data. Data security is very important if your computer is part of a data network. It is possible to select which terminals UE shall be enabled for. It is a good idea to make UE obligatory for all terminals that are accessible via the network.

The "visible part" of UE consists of menus handling logging in and out, accessing SINTRAN, starting programs etc. In this way UE can be regarded as a user-interface outside SINTRAN.

Norsk Data ND-30.003.7 EN

---

## Page 23

# SINTRAN III SYSTEM SUPERVISOR

## SYSTEM SUPERVISION OVERVIEW

- UE has its own user category: UE-users. A UE-user is not the same as a SINTRAN user area. A UE-user has a name which can be different from all SINTRAN user names. All UE-users MUST have UE-passwords. This comes in addition to any SINTRAN password. If UE is enabled for the terminal you are working on, you must log in to UE before you can do any work on the computer.
  
- A UE-user can access one or more user areas. UE-users are defined by an authorized UE-user through the UE profile manager (UE-PMAN).

---

## 1.4 Software versions required for running SINTRAN III K

SINTRAN III version K requires the following versions of different subsystems. You should check that you have the correct versions after SINTRAN has been installed. The version identification is part of the file name of all files containing subsystems. For the subsystems with a user interface (for example ND-500 MONITOR), the identification is also displayed as a part of the program heading when activating it.

| Subsystem                  | Version Requirement                                                                          |
|----------------------------|---------------------------------------------------------------------------------------------|
| ND-500 MONITOR             | Only the H version of the ND-500 background Monitor (ND-210333) can be used.                |
| ND-500 SWAPPER             | Only the H version of the ND-500 Swapper (ND-211034) can be used.                           |
| XMSG                       | Only the K version of XMSG (ND-210373) can be used.                                         |
| COSMOS BASIC MODULE        | The D version of COSMOS Basic Module (ND-210374) must be used together with XMSG version K. |
| BACKUP SYSTEM              | The H version of the Backup system (ND-210337) is required to handle more than 256 files per user. |
| FILE MANAGER               | Version C of the File Manager (part of ND-210518) handles 4096 files per user.              |
| FILE SYSTEM INVESTIGATOR   | The O version of the File System Investigator is required to handle more than 256 files per user. |
| LINKAGE LOADER             | The H version of the Linkage Loader (ND-210319) is modified to handle communication with RT programs due to changed RTFIL format. |
| SYMBOLIC DEBUGGER          | The F version of the Symbolic Debugger (ND-210336) may be used for debugging RT programs.   |

Norsk Data ND-30.003.7 EN

---

## Page 24

# SINTRAN III SYSTEM SUPERVISOR  
## SYSTEM SUPERVISION OVERVIEW

| | |
|---|---|
| **TELEFIX-LOCAL** | Version C of Telefix-Local (ND-210775) is required. |
| **USER ENVIRONMENT** | The C version of User Environment (ND-210518) offers a highly improved performance when used together with version K of SINTRAN. |

*Norsk Data ND-30.003.7 EN*

---

## Page 25

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

---

### CHAPTER 2  

## HARDWARE OPERATIONS  

This chapter explains the principal hardware operations carried out by system supervisors and operators:

- using the operator panel
- changing removable disk packs
- using streamer tape for backup on configurations with fixed disk drives (for example Satellite and Compact)
- powering on and off the installation

See the manual ND Backup User Guide (ND-60.250) for the use of magnetic tapes and floppy diskettes.

---

### 2.1 Using the operator panel  

Two main types of operator panel are used on the ND-100 and ND-500 computers. There are separate sets of operating instructions for each panel. The most important operator functions are as follows:

#### | STOP |  
Hardware stop of the ND-100 computer:

The ND-100 CPU is forced to give up execution of instructions. Program execution can be resumed without loss of information. The ND-100 CPU enters OPCOM mode.

#### | MCL |  
Hardware initialization of the ND-100 CPU and interface parts:

Vital information in registers, etc. is cleared. The program execution is stopped and OPCOM mode is entered. The computer becomes ready to be restarted. Program execution cannot be resumed. The contents of the memory remains unchanged (restart without loading possible).

#### | LOAD |   
The ND-100 CPU is instructed to load a program (either SINTRAN or a stand-alone program) from a peripheral device into ND-100 memory. The ND-CPU starts program execution automatically when the loading is finished. The ND-100 CPU leaves OPCOM mode.

Norsk Data ND-30.003.7 EN

---

## Page 26

# SINTRAN III System Supervisor Hardware Operations

Mode. You decide which device to load from by setting a switch on the ND-100 CPU card (ALD switch). The switch setting is described in Appendix K.

Put the ND-100 CPU into OPCOM mode. When in OPCOM mode, you are able to communicate with the ND-100 CPU from the console terminal (and from this terminal only). OPCOM is either used for activating basic operations or for debugging of ND-100.

If your operator panel has a key switch, it has three settings:

| Setting | Description |
|---------|-------------|
| LOCKED  | The operator panel is locked; the panel buttons activate the panel functions. All power supplies are on. This is the normal operating mode. |
| ON      | The operator panel is unlocked, the panel buttons can be used to activate the panel functions. All power supplies are on. |
| -       | The power supplies are turned off. Standby power from a separate battery is still present in some cabinets. |
| OFF     | All power to the computer is turned off. The computer is "dead". Old memory and register contents are lost. |
| STANDBY | The main power supply is turned off. Standby power is present if you turn the key from "ON" to "STANDBY", and memory and registers remain unchanged. |

The standby power feeds energy to the parts of the computer that are vital for preserving the state of execution, in particular the main memory. The energy comes from a separate rechargeable battery. The computer is not able to run in this state. No vital information is lost as long as the battery has energy (guaranteed for at least twelve minutes).

---

**CAUTION!** When the computer is working, the key switch should always be turned to "LOCK" to prevent undesired use of the panel functions, and to ensure that power-fail handling works! You are also strongly advised to remove the key from the operator panel (but keep in mind where you store it).

Norsk Data ND-30.003.7 EN

---

## Page 27

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

**NOTE!** See section 2.4 for powering on the computer. It is NOT SUFFICIENT to turn the key to "ON".  

---

### 2.1.1 ND-100 and ND-500 operator panels until 1984  

![Operating buttons and key switch illustration]

Figure 1. The operator panel (until 1984)

#### OPERATING
- Turn key switch to "ON".
- Select function by pressing one of the following buttons:

| STOP | MCL | LOAD | OPCOM |

- Turn key switch to "LOCKED" after use.

#### IF ND-500 WITH 2 CABINETS
If you have a two-cabinet model of ND-500, you also have an operator panel on the ND-500 cabinet. The only operation available from this panel is hardware initialization of the ND-500 CPU. The ND-500 must be software-stopped from ND-100 before you carry out this operation.

- Turn ND-500 key switch to "ON" and press **MCL**.

Norsk Data ND-30.003.7 EN

---

## Page 28

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

The ND-500 is started by software running in the ND-100: the ND-500 MONITOR. The ND-500 CPU is normally initialized from this monitor.

### LIGHT INDICATORS

- **"POWER"** The main power is present.
- **"RUN"** The ND-100 CPU is running.
- **"STOP"** The ND-100 CPU has stopped (opposite of "RUN").
- **"OPCOM"** OPCOM mode is active.

### IF ND-500 WITH 2 CABINETS

There are two light indicators:

- **"RUN"** The ND-500 CPU is running.

  When the ND-500 is working, this light flashes. The length of the flashes indicates the degree of utilization: the more the ND-500 is being utilized, the longer each flash will be.

- **"POWER"** This light is always on when the main power is on in the ND-500 cabinet.

The display panel gives information about what is going on inside the ND-100. Some of the displayed information relates to the hardware (you don't need to understand all of it to be able to make use of it). The information displayed sometimes changes when using OPCOM.

Norsk Data ND-30.003.7 EN

---

## Page 29

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

![Display Panel](image.png)

**Figure 2. The display panel (until 1984)**

### UTIL (UTILISATION)

An indication of how much time the ND-100 is idle. The amount of idle time is indicated by the number of black segments shown. Usually only a few segments are black.

### HIT (CACHE HIT RATE)

The ND-100 CPU has a small, fast, primary memory where the most recent instructions and data are stored. This is the **cache memory**. When the ND-100 CPU finds the desired information in cache (hit in cache), the program execution becomes faster. The more black segments, the better. Usually almost all segments are black. Cache memory is optional.

### (PROTECT) RING

The ND-100 (and SINTRAN) has a ring protection system. The ring protection is used to separate RT programs into four categories with different privileges. The ring protection is only used when the paging system (MMS) is active (paging on). The ring usage is:

0 Background RT programs (lowest privileges)  
1 RT programs allowed to access RTCOMMON  
2 SINTRAN and RT programs using privileged instructions  
3 SINTRAN segment administration

---

Norsk Data ND-30.003.7 EN

---

## Page 30

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

A program executing on a ring cannot access pages belonging to a lower ring. The active ring changes rapidly when running SINTRAN.

The different rings are symbolized as follows:

|                |     |     |
|----------------|-----|-----|
| Paging off     | Ring 0 | Ring 1 | Ring 2 | Ring 3 |

**MODE**  
When paging is on, "P" is displayed. "I" is displayed when the interrupt system is on.

SINTRAN K VSX always runs with "P" on, while the "I" is turned off for short intervals.

**ACTIVE (INTERRUPT) LEVEL**  
This display shows the most recent interrupt levels used. The interrupt levels are in reality active for imperceptibly short periods at a time. The black segments therefore stay black for longer, in order to be visible to the human eye.

Different software parts run on different levels. The 16 interrupt levels are numbered from 0 to 15. See appendix E for interrupt level usage.

The large number of interrupt levels makes it possible to use external interrupts to activate small program routines directly (drivers handling external devices), or to activate software for specific purposes (direct task).

Norsk Data ND-30.003.7 EN

---

## Page 31

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

---

### 2.1.2 All ND computers from 1985

![Diagram](diagram.png)

*Figure 3. Operator panel (from 1985)*

The operator panel can operate in three different modes:

- Normal
- Advanced
- TELEFIX

The functions that can be affected within an operating mode are lit up on the operator panel. The operating mode field shows the state of the control panel.

To be able to use the operator panel:

- Turn key switch to "ON" (if present).

You now enter the normal mode of operation.

### SINTRAN FROM NORMAL MODE

- To start SINTRAN, press the field `START`

(This corresponds to `MCL` and `LOAD`)

The operating mode field goes from "OPERATING" to "RUNNING".

Norsk Data ND–30.003.7 EN

---

## Page 32

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

- To stop ND-100 CPU, press `STOP` field.  
  The operating mode field goes from "RUNNING" to "OPERATING".  

### ENTERING THE ADVANCED MODE

- Turn key switch to "ON" (if present).  

- Press the rightmost field (1) and keep pressed while pressing the leftmost field "STOP" (2).

```
STOP  |   |   |   |   |   |   
      |   |   |   |   |   |   
 2 ▲  |   |   |   |   | 1 ▲   
```

The operator functions `STOP` `MCL` `LOAD` `OPCOM` are directly available in the advanced mode.  

### RETURN TO NORMAL MODE  

- To go from advanced to normal mode, press the same buttons in the same sequence as for entering the advanced mode.  

The control panel also returns to normal mode if no function is selected within approximately 7 minutes.  

### IF ND-500 CONFIGURATION  

When the ND-500 CPU is running, the operating mode field "OPERATING" flashes. The more the ND-500 CPU is being utilized, the longer each flash will be.  

### TELEFIX MODE  

The TELEFIX mode is only used for remote service diagnosis from the ND Service Centre. The console line into the CPU is connected to a modem when the TELEFIX mode is active (the modem is not an integral part of the the computer).  

The Telefix mode is only entered when the number is dialled (the modem receives a carrier). The operator panel can respond in two different ways when this happens, depending on the setting of a switch on the back of the operator panel. See appendix K.  

Norsk Data ND-30.003.7 EN

---

## Page 33

# SINTRAN III SYSTEM SUPERVISOR

## HARDWARE OPERATIONS

### LISTEN ON/OFF

LISTEN ON means that the ND Service Centre gets a copy of all information sent to the console terminal.

LISTEN OFF means that no output goes to the ND Service Centre.

### REMOTE/LOCAL

REMOTE means that the ND Service Centre controls the input to the console line.

LOCAL means that you control the input to the console line via the console terminal.

The mode LOCAL/LISTEN OFF corresponds to the normal operating mode (as TELEFIX is not used).

You can control the operating mode of the TELEFIX after your modem is dialled:

- Turn key switch to "ON" (if present).

- Select the desired TELEFIX operating mode by using the two rightmost function fields on the operator panel. Each field controls one of the two TELEFIX mode descriptors. Pressing one of them causes the opposite mode descriptor to appear.

| TELEFIX       |
|---------------|
| LOCAL         |
| (□)           |
| REM           |
| (□)           |

| LISTEN ON     |
|---------------|
| (□)           |
| LISTEN OFF    |
| (□)           |

### CAUTION!

Make sure that nobody can dial your computer and get control of it under normal working conditions! Either set the default TELEFIX mode to LOCAL/LISTEN OFF or disconnect the modem.

---

Norsk Data ND-30.003.7 EN

---

## Page 34

# DISPLAY PANEL

The layout of the information displayed on the display panel differs from that on the panel used until 1984. Since there have been no changes in the architecture of the ND-100, the meaning of the information is the same as before. See section 2.1.1 for description.

| UTILIZATION | CACHE HIT RATE | PROTECT RING | INTERRUPT | PAGING |
|-------------|----------------|--------------|-----------|--------|
| 0           | 0              | -2           | ON        | OFF    |
| DAY: 16     | TIME: 21:32:40 |              |           |        |
| ACTIVE LEVEL | [15][14][13][12] | [11][10][9] | [8][7][6][5] | [4][3][2][1][0] |

*Figure 4. The display panel (from 1985)*

## 2.1.3 OPCOM Reference Section (ADVANCED)

OPCOM is an acronym for OPerator's COMmunication. It is a small micro program inside the ND-100 CPU. It can only be used from the console terminal. It is mainly of interest for debugging and service purposes. Some of the commands are also relevant for supervisors and operators.

Entering OPCOM mode does not affect the operating mode of the CPU. If it is running, it continues to run. If you run a program from the console and enter OPCOM, input from the keyboard goes to the ND-100 CPU, while output from the program is unaffected. While in the OPCOM mode, it is not possible for you to use the console to communicate with SINTRAN. When you leave OPCOM, you resume normal communication with your program.

OPCOM accepts only uppercase letters. Some commands must not be terminated by CR. All characters that you must type (both visible and invisible) are therefore shown in this reference section. In both input and output, OPCOM uses only octal numbers (use of radix specifier is not possible).

Norsk Data ND-30.003.7 EN

---

## Page 35

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

### How to activate the most important operator functions via OPCOM:

**ENTER OPCOM**  
Use the command @OPCOM from user SYSTEM or activate OPCOM from the operator panel.

The prompt # appears on the console terminal to indicate that OPCOM is activated and ready to accept commands.

You can give these commands either by pressing a button on the operator panel or by typing the command on the console keyboard:

| Command | Action |
|---------|--------|
| STOP    | #STOP↵ |
| MCL     | #MCL↵  |

**NOTE:** You are advised to use the MCL button on the operator panel if you have an ND-110/CX CPU. (in order to renew the micro-program).

When initializing is finished, two number signs are displayed: ##  

MAKE SURE THAT BOTH NUMBER SIGNS ARE DISPLAYED BEFORE GIVING THE LOAD COMMAND.

| Command | Action |
|---------|--------|
| LOAD    | #&     |

This load is performed in accordance with the setting of the Automatic Load Descriptor (ALD switch). See appendix K for switch setting.

**LOADING FROM FLOPPY**  
#1560&  

This command loads from FLOPPY-DISC-1, unit 0. Loading from floppy is mainly used for running stand-alone programs (backup or test programs) or loading a new copy of SINTRAN. When there are two floppy units, this unit is usually placed at the left-hand side.

Norsk Data ND-30.003.7 EN

---

## Page 36

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

To load from FLOPPY-DISC-2, unit 0, use:

#1570&

This floppy unit is seldom present. It is not possible to select any other floppy drive than unit 0.

### ALD VERIFY

You examine the setting of the ALD switch by:

#112/xxxxxx

where xxxxxx is the switch setting. The most often used values for xxxxxx are:

|      | Description                                    |
|------|------------------------------------------------|
| 21540| ECC/SMD disk controller 1, unit 0.             |
| 20500| ST-506 "winchester" disk controller 1, unit 0. |

The corresponding SINTRAN disk names are: DISC-<logical disk format identifier>-1, unit 0. See appendix C for a list of legal names.

It is not possible to select any other disk drive than unit 0 in connection with the ALD descriptor (see appendix K). Loading from disk is always done from disk unit 0.

### LOAD FROM DISK CONTROLLER 2

If you have to load from disk controller 2, you must give one of the following commands in OPCOM:

|      | Description                                    |
|------|------------------------------------------------|
| 21550| ECC/SMD disk controller 2, unit 0.             |
| 20510| ST-506 disk controller 2, unit 0.              |

The corresponding SINTRAN disk names are: DISC-<logical disk format identifier>-2, unit 0

### LEAVE OPCOM

OPCOM is left automatically when the load is completed and the ND-100 is running, but you can also do this manually.

Norsk Data ND-30.003.7 EN

---

## Page 37

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

Using OPCOM sometimes affects the display panel information. To restore the normal display when leaving OPCOM, give the following commands:

```
#ACT/
```

| Key  | Description                                                               |
|------|---------------------------------------------------------------------------|
| ESC  | (It is only possible to leave OPCOM if the ND-100 is running)             |

### PROGRAM CONTROL

Make ND-100 continue program execution from current instruction:

```
#! (This is of interest if the STOP function has been used by accident.)
```

Restart of SINTRAN if MACM is loaded (cold start):

```
#22!
```

Simulated powerfail restart of SINTRAN:

```
STOP followed by #20!
```

Start a program from location xxxxxx:

```
#xxxxxx!
```

### USER REGISTER

The U register is also accessible from programs. DISC TEMA (for taking backup) uses this register to indicate how fast the backup is taking place, by recording the number of the disk cylinder currently being copied:

```
U/xxxxxx
```

This number is displayed on the operator display.

## The following OPCOM functions are mainly for debugging purposes:

### MEMORY EXAMINE

The memory contents can be displayed both with the CPU running and stopped. It is possible to make both virtual (paging on) and physical examine (paging off) of the memory:

### PHYSICAL EXAMINE

Select physical examine by: E↓

Norsk Data ND-30.003.7 EN

---

## Page 38

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### VIRTUAL EXAMINE

Select virtual examine via page table x (0 to 17B).  
See appendix E for page table usage.

Calculate input to OPCOM:

a) ND-100 with MMS II: y = x / 4,  
   z = y * 10B + (x - y*4B)  
   (y is always a whole number, obtained by ignoring any numbers after the decimal point)

b) ND-110/CX: z = x

Input to OPCOM: zE↓

Examine the contents of a memory location xxxxxx (0 ≤ xxxxxx ≤ 177777):

```
xxxxxx/yyyyyy     (yyyyyy is the contents)
```

Examine and change the contents of a memory location (only allowed when CPU is in STOP mode):

```
xxxxxx/yyyyyy zzzzzz↓ (zzzzzz is the NEW contents)
```

Examine the contents of the memory area from xxxxxx to yyyyyy:

```
xxxxxx<yyyyyy↓
```

### REGISTER DUMP

If SINTRAN stops unexpectedly (system crash), you should perform a register dump in combination with a dump of memory contents (by the stand-alone program MEMTOF). The output from the dump is used by ND Service for fault finding. See also chapter 11 for how to do this.

The registers that are the most relevant to examine are those that are used by user programs and by SINTRAN: the register block; and those that are used only by SINTRAN: internal registers.

### REGISTER BLOCK

To dump the register block (that is the registers S D P P B L A T X on all interrupt levels):

```
0Q17RD↓
```

### INTERNAL REGISTERS

To dump the internal registers:

```
IRD↓
```

Norsk Data ND-30.003.7 EN

---

## Page 39

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

---

### 2.2 Using disks

It is only possible to change disk packs on a disk drive with a removable pack. Such disk drives are always placed in external cabinets outside the computer. They must also be switched on/off manually.

Internal disk drives (as in Compact and Satellite) are of the fixed disk pack type. You cannot change disk packs on these. They are switched on/off automatically when the computer is powered on/off.

The current types of removable disk pack delivered with ND computers are the SMD (Storage Module Drive) and RSD (Removable Storage Drive) families.

The FSD (Fixed Storage Drive) and MMD (Mini Module Drive) disks are fixed. The FSD and RSD disks are placed in File Store cabinets.

| CAUTION! |
|----------|
| If you suspect a disk pack to have been subjected to a head-crashed drive, DO NOT MOVE IT TO ANOTHER DRIVE. The result may be another ruined disk drive. Also, DO NOT INSTALL ANY OTHER DISK PACK IN THE SUSPECTED DRIVE. |

| CAUTION! |
|----------|
| Keep disk packs containing valuable data stored in a safe place (fireproof, smokeless, dustfree, no static electricity, no strong magnetic fields). NEVER DROP OR SHOCK A DISK PACK. |

---

Norsk Data ND-30.003.7 EN

---

## Page 40

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### 2.2.1 The SMD disks

#### SMD OPERATOR PANEL

The SMD disk packs are delivered in two sizes with the different storage capacities 75 and 288 MB. They are mounted in disk drives which are similar to operate.

| READY | START | FAULT | PROTECT |
|-------|-------|-------|---------|
| •     | •     | •     | •       |
|       |       |       |         |

Unit No. plug

*Figure 5. Operator panel on the SMD disks*

#### START SMD DISK DRIVE

- Install disk pack.
- Push the "START" button. The "START" light should come on.
- Wait for the "READY" light to come on.

The "READY" light flashes until the rotational speed of the disk is correct. Then it stays on without flashing to indicate that the disk is accessible from the computer.

#### STOP SMD DISK DRIVE

- Push the "START" button. The "READY" light begins flashing.
- Wait for the "READY" light to go off.

#### UNIT NO. PLUG

The unit number plug is used to give a disk drive a fixed unit number on the disk controller inside the computer.

#### WRITE PROTECT

Push the "PROTECT" button if you want to protect the disk pack from being accidentally overwritten by other data. The "PROTECT" light comes on automatically when protection is turned on. It is now only possible to READ from the disk. Push the "PROTECT" button again to allow writing on the disk pack.

Norsk Data ND-30.003.7 EN

---

## Page 41

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### FAULT

The "FAULT" light comes on if errors occur during read or write. If the light goes off when you press the "FAULT" button, this means that the error was not serious. If it does not go off, call ND Hardware Service.

### REMOVING DISK PACK

After the disk drive has stopped rotating:

| Step | Description |
|------|-------------|
| 1    | To open the lid, push the lid release as shown (use both hands if necessary). |
| 2    | Place the blue, transparent cover over the disk pack as shown. |
| 3    | Turn the locking bar counter-clockwise until you hear a series of clicks. |
| 4    | Lift the disk pack out and place it on the tray, while at the same time pressing the two small bars underneath the tray together. |
| 5    | When you release the two bars, the tray is locked onto the disk pack. |

*Figure 6. Removing a SMD disk pack*

Norsk Data ND-30.003.7 EN

---

## Page 42

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

Installing a new disk pack is done in exactly the opposite way as removing it.

**CAUTION!** Place the disk on the tray AT ONCE to avoid damage from dust, shocks and static electricity!

## LOCKING THE DISK HEADS

**CAUTION!** You must ensure that the disk heads are locked before the disk drive is moved. If not, they will be damaged!

1. Turn the power off.
2. Lift the top cover as shown.
3. Insert the disk head locking pins in these three holes.

*Figure 7. Locking the SMD disk heads*

Norsk Data ND-30.003.7 EN

---

## Page 43

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

---

## 2.2.2 The MMD disk

### MMD OPERATOR PANEL

| READY | FAULT CLEAR | WRITE PROTECT |
|-------|-------------|---------------|
|       |             |               |

Light indicators are placed inside the operating buttons.

*Figure 8. Operator panel on the MMD disk*

- **START MMD DISK DRIVE**
  - Push the "READY" button.
  - Wait for the "READY" light to come on.

The "READY" light comes on when the disk is rotating at the correct speed and is accessible from the computer.

- **STOP DISK DRIVE**
  - Push the "READY" button. The "READY" light goes off.

- **FAULT CLEAR AND WRITE PROTECT**
  - See corresponding description for the SMD disks.

---

**NOTE!** The disk heads are automatically locked when the power is turned off. No locking needed before moving the disk.

---

Norsk Data ND-30.003.7 EN

---

## Page 44

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### 2.2.3 The FSD and RSD disks

FSD and RSD disk drives are often placed in the same File Store cabinet. The large File Store cabinet is used in ordinary ND-100 and ND-500 configurations, while the small cabinet is used in ND-100 Compact configurations.

![Figure 9. The File store cabinets](image-link)

Norsk Data ND-30.003.7 EN

---

## Page 45

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

The FSD and RSD operator panels are identical in layout and use.

![Front panel of the RSD disk](image-url)

**Figure 10. Front panel of the RSD disk**

### START DISK DRIVE

- If RSD disk, install disk pack.
- Push the "START" button.
- Wait for the "START" light to come on.

The "START" light flashes until the disk rotates at the correct speed. The light then stays on without flashing and you hear a click. The door is now locked and the disk is accessible from the computer.

### STOP DISK DRIVE

- Push the "START" button.  
  The "START" light begins flashing.
- Wait until the "READY" light goes off and a click is heard (door unlocked).

Norsk Data ND-30.003.7 EN

---

## Page 46

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### UNIT SELECTED INDICATOR

The indicator light comes on when the disk drive is selected by the computer.

### FAULT CLEAR AND WRITE PROTECT

See corresponding description for the SMD disks.

### REMOVING AN RSD DISK PACK

After the disk drive has stopped:

- Pull the door handle to open the door.
- Pull the disk pack carefully out of the disk drive.

Keep the door fully opened while doing this to release the disk pack completely from the drive.

The RSD disk pack has also a write protection mechanism, so you can choose between this and write-protecting on the disk drive.

![Removing a RSD disk pack](data:image/gif;base64,REMOVED)

*Figure 11. Removing a RSD disk pack*

When installing a disk pack, the procedure you follow is the exact reverse of the procedure followed when removing a disk pack.

| NOTE! The disk heads are automatically locked when the power is turned off (and the disk pack removed). The door is locked when the power is turned off. |

Norsk Data ND-30.003.7 EN

---

## Page 47

# SINTRAN III SYSTEM SUPERVISOR

## HARDWARE OPERATIONS

### 2.3 Using the streamer magnetic tape

Two different streamer drives are used on ND computers: an 8 inch drive (Archive) and a 5 1/4 inch drive (Tandberg). Both use the same cartridge tapes.

When the streamer drive is in use the indicator light on its front panel comes on.

### 2.3.1 The 8 inch streamer

- Slide the cartridge into the streamer until it stops.

This streamer drive has no door and no possibility for locking the streamer cartridge in the drive.

![Inserting cartridge tape into an 8 inch streamer](image)

**Figure 12. Inserting cartridge tape into an 8 inch streamer**

Norsk Data ND-30.003.7 EN

---

## Page 48

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

### 2.3.2 The 5 1/4 inch streamer

- Open the streamer door by pushing the knob (springy mechanism).

- Slide the cartridge into the streamer until it stops.

- Close the door (you hear a click when it locks).

![Inserting cartridge tape into a 5 1/4 inch streamer](path/to/image.png)

*Figure 13. Inserting cartridge tape into a 5 1/4 inch streamer*  

Norsk Data ND-30.003.7 EN

---

## Page 49

# SINTRAN III SYSTEM SUPERVISOR

## HARDWARE OPERATIONS

### 2.3.3 Write-protecting the cartridge

You can protect data on a cartridge from accidental overwrite by turning the write-protect plug to the position marked "SAFE". You are now only able to READ from the cartridge. You should do this for all valuable backups you have taken from disk(s) to the streamer.

![Write-protecting the streamer cartridge](image.png)

*Figure 14. Write-protecting the streamer cartridge*

Norsk Data ND-30.003.7 EN

---

## Page 50

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

### 2.4 Switching on the installation

This section describes how to switch on the various types of computer and some of the most common peripheral equipment.

The computer and its peripheral equipment shall normally be left in operational condition (powered on) after the computer has stopped running. If for some reason you must stop the installation totally (for example for moving or hardware service), this should be done in the following sequence:

- software-stop the computer (see chapter 3).
- power off printers.
- power off the computer.
- stop and power off external disks (not present for Satellite and most Compacts).
- power off the terminals and remaining peripherals.

| CAUTION! Remove streamer tape and floppy diskettes from the drives before the computer is switched off. If this is not done, they may be damaged by electric shock. |

See also separate vendor manuals for your particular peripheral equipment.

SINTRAN "hangs" if you try to start the ND-100 computer with a system disk that is not ready (not rotating at the correct speed). By "hangs" we mean that SINTRAN repeatedly attempts to communicate with the disk, but fails to do so. The system disk cannot be removed while SINTRAN is running. REMEMBER ALWAYS TO RELEASE THE DIRECTORIES BEFORE DISKS OR FLOPPY DISKETTES ARE REMOVED FROM THE DRIVES.

Norsk Data ND-30.003.7 EN

---

## Page 51

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

---

### 2.4.1 The ND-100 and ND-500 computers in large cabinet

This procedure is valid for all ND-100/ND-500 computers placed in large cabinets. Make sure that your service contract allows you to do this.

Do the following for each computer cabinet in your configuration:

**FROM THE FRONT**
- Remove the front panel to access the circuit breakers.
- Switch the circuit breakers S1 - S9 on by placing the circuit-breaker handles in the upper position marked "1". Start with S1 and continue in ascending order.

S8 and S9 are the main circuit breakers.

| Front Cover Removed |
|---------------------|
| 220V AC LINE        |

|    |    |    |    |    |    |    |    |    |
|----|----|----|----|----|----|----|----|----|
| S9 | S8 | S7 | S6 | S5 | S4 | S3 | S2 | S1 |

*Figure 15. The ND-100 and ND-500 circuit breakers*

Norsk Data ND-30.003.7 EN

---

## Page 52

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### FROM THE REAR

- Remove the rear panel of each cabinet to access the power supply.

- Set the battery switches located under the power control panel to "ON".

This enables the standby battery to be used in the case of power failure.

#### CAUTION!

In the case of some configurations, the "STANDBY" light on the power control panel comes on **after the mains is switched off**. 

**IN THESE CASES, THE BATTERY SWITCHES MUST ALSO BE TURNED OFF WHEN POWERING OFF THE COMPUTER.**

This prevents the standby battery from being completely discharged and thereby permanently damaged!

![Figure 16. The ND-100 and ND-500 battery switches](asset_path)

- Replace the front and rear panels. Turn the key switch on the operator panel to "ON". The computer is now ready to be software-started (see chapter 3).

Norsk Data ND-30.003.7 EN

---

## Page 53

# SINTRAN III SYSTEM SUPERVISOR

## HARDWARE OPERATIONS

---

### 2.4.2 The Compact Computers

This procedure is valid for all Compact computers and the small File Store cabinet (same cabinet type):

- If present, turn the key switch to "ON".

![Image](https://via.placeholder.com/150)

*Figure 17. The Compact circuit breaker*

The computer is now ready to be software-started (see chapter 3).

---

Norsk Data ND-30.003.7 EN

---

## Page 54

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### 2.4.3 The Satellite computers

- Turn the mains switch on (located at the rear of the terminal
- Turn the key switch to "ON".

![Figure](attachment)

*Figure 18. The Satellite mains switch*

The computer is now ready to be software-started (see chapter 3).

Norsk Data ND-30.003.7 EN

---

## Page 55

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

---

### 2.4.4 The OMNI hardcopy console terminal

This terminal (Texas Instruments OMNI 825) was the standard console terminal until 1985. All communication with the computer is written on paper. When this console terminal is used, it is also usually the error device. Such a line-oriented terminal must use screen-oriented programs (such as the NOTIS series) in line mode (terminal type 2).

Switching on the terminal:

- Turn the power switch on (located at the rear of the terminal).
- Set the LOCAL/LINE switch to "LINE".

See appendix K for switch settings.

![Hardcopy console terminal](image.jpg)

*Figure 19. The hardcopy console terminal*

Norsk Data ND-30.003.7 EN

---

## Page 56

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS  

### 2.4.5 The Tandberg TDV 2200/9 terminal  

This screen terminal is used as an all-round terminal, both for the ordinary user and as the standard console terminal for the operator (from 1985).

- Turn the power switch on (located at the left side of the terminal).  

Here you will also find dials to control light intensity and contrast.

- The terminal should be in ON-line mode. If this is the case, the indicator light marked "LINE" will be on. If this light is not on, press the LOCAL key.  

![Tandberg TDV 2200/9 terminal](data:image/png;base64)  

*Figure 20. The Tandberg TDV 2200/9 terminal*

Norsk Data ND-30.003.7 EN

---

## Page 57

# SINTRAN III SYSTEM SUPERVISOR  
## HARDWARE OPERATIONS

---

## 2.4.6 The FACIT 4440 - TWIST terminal

- Turn the power switch on (at the bottom right-hand side of the terminal).  

All other control functions are software-controlled by setup menus.

To set the terminal in ON-line mode:

- Strike the SET-UP key (top left-hand corner of the keyboard)

- The words "SET-UP A" are displayed in the upper, left-hand corner of the screen. You have now entered menu A.

- Strike the 4 key until the word "ON LINE" appears in the upper, right-hand corner of the screen. Strike the SET UP key again to leave the menu system.

For more information on switch setting, see Appendix K.

![FACIT 4440 - TWIST terminal illustration](path/to/illustration.png)

_Figure 21. The FACIT 4440 - TWIST terminal_

---

Norsk Data ND-30.003.7 EN

---

## Page 58

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

### 2.4.7 The EPSON RX/80 printer

This printer is now used as the standard error device. Together with a screen terminal, this device replaces the former OMNI hardcopy terminal. The error device receives all special error messages reported from SINTRAN and some application programs.

To tell the computer which output device is the error device, give the command:

**@SET-ERROR-DEVICE <terminal number>**

You find the terminal number of the error device by giving the command:

**@GET-ERROR-DEVICE**

To switch the printer on:

- Turn the power switch on (at the bottom right-hand side of the printer).

- Press the "ON LINE" button. The "ON LINE" indicator light comes on.

If the indicator "PAPER OUT" is lit, you must change the paper.

To feed the paper, set the printer in LOCAL mode by pressing the "ON LINE" button before using FF (Form Feed) or LF (Line Feed).

See appendix K for installation hints.

Norsk Data ND-30.003.7 EN

---

## Page 59

# SINTRAN III SYSTEM SUPERVISOR
## HARDWARE OPERATIONS

![Epson RX-80 Printer](image-link)

*Figure 22. The EPSON RX-80 printer*

---

**NOTE:** The error device must always be on-line. If not, this results in reduced performance in SINTRAN, as an error program will use much of the CPU resources trying to output unprinted messages.

---

Norsk Data ND-30.003.7 EN

---

## Page 60

I'm sorry, the page appears to be blank. If there's specific content you want to extract, please let me know!

---

## Page 61

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

---

## CHAPTER 3  
### STOPPING, STARTING AND LOADING SINTRAN III

Except for time needed for backup and maintenance, the computer should normally run 24 hours a day, 7 days a week. As a general rule this applies also to peripheral equipment such as disks, printers and terminals.

### CONTROLLED STOP

In some cases, however, such as when running a test program, taking backup, or modifying the system, you will need to stop and start SINTRAN. In order to be able to do this, you must first log in as user SYSTEM.

Before you stop the system, you must make sure that nobody is logged in on the computer. Otherwise valuable work could be lost. See section 3.1.

The amount of work required to do this, depends on your configuration. For example, a Satellite running just a few applications requires less supervision than an ND-500 carrying many applications.

| CAUTION! | When SINTRAN is started, the user programs are aborted and all users are logged off the computer. |
|----------|--------------------------------------------------------------------------------------------------|

There are two different ways of starting/restarting SINTRAN:

### WARM START

A warm start reloads minor parts of SINTRAN, restarts it, and initializes some parts of the system information. Currently-executing programs cease executing after the warm start is completed.

During normal operation of the system, you use warm start mainly for restarting the system after backup. It is also useful for correcting small error situations occurring in SINTRAN. In this manual **warm start** refers to the warm start procedure described in section 3.2.

---

Norsk Data ND-30.003.7 EN

---

## Page 62

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### COLD START

A cold start reloads a complete copy of SINTRAN, and performs a warm start.

During normal operation of the system, you use cold start only after reconfigurations. Cold start can also be used to rectify some problems which cannot always be cured by a warm start. It should, however, not be used unnecessarily as most error information is lost by a cold start. This makes failures more difficult to diagnose for the Service people. The procedure is described in section 3.3.

Cold start also involves other procedures, depending on the method used for loading SINTRAN:

### LOADING SINTRAN FROM FLOPPY

New versions of SINTRAN and revisions (patch files) are loaded from diskettes.

In the event of an unsuccessful cold start when correcting errors in SINTRAN, you can reload SINTRAN from a diskette.

A disk crash can also necessitate loading SINTRAN from a diskette.

When SINTRAN is running within your configuration, it is tailored to run this configuration. If you want to make changes in your configuration (for example more terminals or printers), it might be necessary to install a new copy of SINTRAN.

If you run a generated version of SINTRAN, you must order a new copy of SINTRAN from ND to be able to make changes in your configuration.

You may have SINTRAN III VSX as a standard system able to support many configurations. You use the configuration program to manipulate configuration parameters, then you do a cold start. Section 3.5 describes the configuration program.

See section 3.4 for how to load SINTRAN from floppy diskettes.

Norsk Data ND-30.003.7 EN

---

## Page 63

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

### INITIAL LOAD

Initial loading means loading SINTRAN into a brand new system disk. It implies somewhat more than a load of SINTRAN because some definitions about users, files and system information for SINTRAN must be made.

The initial loading of SINTRAN is normally done at ND when new computers are ordered. The procedure is described in section 3.6. It may also be necessary to do an initial load after a disk crash of the system disk.

Some of the applications programs running under SINTRAN require additional, separate procedures when stopping and starting the computer. See table 2 for which main product groups require such procedures. It is beyond the scope of this manual to give the procedures here. It is also good practice to read the PD-sheets that accompany the software products to find out what procedures are required. If you have applications programs not developed by ND, be sure that you also have the information needed to make such decisions about these products.

Note that XMSG and User Environment are part of the standard software package delivered by ND. These products are so closely integrated with SINTRAN that some information about them is included in this manual. The operator functions of the COSMOS Basic Module are described in chapter 5.

| Operating system environment:      |
|------------------------------------|
| User Environment (UE)              |
| NDIX                               |
| Fault Tolerance EXtension (FTX)    |

| Data communication:   | Databases and related tools: |
|-----------------------|-------------------------------|
| XMSG                  | SIBAS                         |
| COSMOS Basic Module   | UNIQUE                        |
| COSMOS options        | TPS                           |
| SNA                   | TRUE                          |
| X.21/X.25/X.29        | ISAM                          |
|                       | NOTIS-DS                      |
|                       | NOTIS-ID                      |
|                       | ACCESS                        |

*Table 2. ND product groups requiring separate start and stop handling*

Norsk Data ND-30.003.7 EN

---

## Page 64

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

### 3.1 Controlled stop  

Before you stop the system, you should request all users to log out. You must also stop all active batch processors and all printers. XMSG, ND-500, UE and some special RT-programs must also be stopped. The special RT-programs to be stopped, are in general those which have RT open files, for example SIBAS, NOTIS-DS and UE. See also table 2.

It is useful to have a mode file for stopping all activity in the system. Appendix H.1 gives an example.

Before stopping the system, the following must be carried out:

- Set the system unavailable to make it impossible for new users to log in (except from the console terminal).

- Broadcast a message via the mail system requesting all users to log out.

- Fetch the system information about activity in the system.

- Give the users a chance to terminate their jobs before stopping the remaining activity.

---

Norsk Data ND-30.003.7 EN

---

## Page 65

# SINTRAN III System Supervisor
## Stopping, Starting, and Loading SINTRAN III

### Example of checking a system for activity

**SET-UNAVAILABLE**  
TEXT: **REGULAR BACKUP**  
@MAIL  
**DIRECT-BROADCAST**  
TYPE YOUR MESSAGE, TERMINATED BY CONTROL L:

```
***********************************
* BACKUP STARTS IN 15 MINUTES.    *
* ESTIMATED DURATION 1/2 HOUR.    *
* PLEASE LOG OUT!                 *
***********************************
```

Put a frame around the informative text. End it by typing CTRL+L.

**EXIT**

A few minutes later.

### @TERMINAL-STATUS,,

| LOG.NO | USER   | MODE    | CPU-MIN | OUT OF | LAST COMMAND       |
|--------|--------|---------|---------|--------|-------------------|
| 1      | SYSTEM | COMMAND | 1       | 6      | TERMINAL-STATUS,, |

### @LIST-BATCH-PROCESS

1 IDLE, NO USER LOGGED IN

### @ABORT-BATCH 1

### @LIST-SPOOLING-QUEUE LINE-PRINTER,,

QUEUE IS EMPTY

### @STOP-SPOOLING LINE-PRINTER

### @LIST-RTOPEN-FILES,,  

Check that no files are RT-open.

### @LIST-RT-PROGRAMS,,

| NAME  | STATUS |
|-------|--------|
| DUMMY | READY  |
| STSIN | PASSIVE|

Check that there are no active RT-programs, and that no files are open.

### @LIST-OPEN-FILES,,
### @STOP-SYSTEM

The line printer with spooling is an option in this example.

---

Norsk Data ND-30.003.7 EN

---

## Page 66

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### 3.1.1 More about stopping different processes

If you for some reason need to set the system available again (making it possible for users to log in) before restarting the system, the command to use is:

@SET-AVAILABLE

---

### Terminals

If it becomes necessary to log out users after having used @TERMINAL-STATUS, the command is:

@STOP-TERMINAL `<terminal number>`

| CAUTION! All activity on the terminal is aborted immediately. |  
| ————————————————————————————————————————— |  
| The users have NO chance of saving their work. |  
| Therefore, BE CAREFUL! | 

The command TERMINAL-STATUS `<terminal number>` `<interval>` gives information about the following processes:

1. Users logged in on terminals directly connected to the computer. Terminal numbers are 1, 36, 37 .. 63, 544, 545 .. 575.

2. Users logged in via the communication network COSMOS. These terminals are called TADs (Terminal Access Device). Terminal numbers are 768, 769 .. 863.

3. Started batch processors. Terminal numbers are 670, 672 ... 686 (in steps of two).

The field "Last command" is a copy of the command input line in SINTRAN. Many application programs developed by ND use this line to tell what the user is doing.

Although it is possible to stop batch processors by giving the @STOP-TERMINAL command, we advise that this method should only be used for stopping terminals belonging to groups 1 and 2 above.

Norsk Data ND-30.003.7 EN

---

## Page 67

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example of stopping a terminal

@TERMINAL-STATUS,.

| LOG.NO | USER  | MODE    | CPU-MIN OUT OF | LAST COMMAND       |
|--------|-------|---------|----------------|--------------------|
| 1      | SYSTEM| COMMAND | 1              | 20 TERMINAL-STATUS.|
| 38     | MICKY | COMMAND | 1              | 100 CC WP L eng 500|
| 768    | DAVE  | COMMAND | 0              | 7 DATCL            |

User MICKY is running NOTIS-WP. He may have files that need to be written back. Ask him!

@STOP-TERMINAL 768

You logged DAVE off the computer. On terminal 768 this message appears:

*** ABORTED BY SYSTEM ***

---

### TADs

If you want to know about the activity on COSMOS TADs, there is also a dedicated command in SINTRAN for this:

@TADADM

TADADM is an acronym for TAD ADMINISTRATOR. It gives information about all TADs in the system, both passive and active. Note that there are also some COSMOS applications (servers) that make use of the TADs. In the following example, you see a server called FS Administrator. This server is used for **remote file access**, which enables you to read and write files on remote computers. If somebody is using the File Server at the moment you stop the TAD, this operation is aborted.

See chapter 5 for how to stop COSMOS activities.

Norsk Data ND-30.003.7 EN

---

## Page 68

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example of using TADADM

```
@TADADM

-------------------------------------------------------------------
TADADM Version K.    System: SPINX
-------------------------------------------------------------------
TAD/TYP  RESERV  ESCAP  PORTNO - PORTNO  TERMNO  USER                  SYSTEM
768/0      No    Enab   Discon
769/0      No    Enab   Discon
770/255    No    Enab     7       -        6     FS Administrator
771/0    BAK26   Enab    12      12       58     COSMOS-FACTORY EAGLE
-------------------------------------------------------------------
                    | 
                    | Terminal number, user name and network name
                    | of the computer. All referring to the remote
                    | computer.
                    |
Name of the reserving background program.
```

TAD number (same as found by @TERMINAL-STATUS).

---

### Batch processors

The command to stop a batch processor is

@ABORT-BATCH <batch number>

This command should be used for batch processors which are not passive. The commands @LIST-BATCH-PROCESS and @LIST-BATCH-QUEUE <batch number> list information about activity on the batch processors. Be careful not to stop any important batch job! The job currently being processed is not included in the queue information. You can remove it by the command @ABORT-JOB.

All jobs in a batch processor queue are removed by the command @CLEAR-BATCH-QUEUE. This queue is also automatically cleared when the system is restarted. This means that all the jobs in the queue will need to be appended manually afterwards if they are to be processed.

Norsk Data ND-30.003.7 EN

---

## Page 69

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

Some applications make use of the batch processors, for example the ADP product ACCESS. If user DATA-DICTIONARY is logged on a batch processor, make sure that nobody is using the ACCESS application before you abort the batch job.

### Example of stopping batch processors

**@LIST-BATCH-PROCESS**

|   |   |
|---|---|
| 1 | ACTIVE, USER MADAME-MARIE LOGGED IN |
| 2 | ACTIVE, USER DATA-DICTIONARY LOGGED IN |

You must ascertain that MADAME-MARIE's job is not important, and that no-one is using ACCESS.

**@LIST-BATCH-QUEUE 1**

|   |   |
|---|---|
| 1 | (ELENORE)BATCH-JOB (ELENORE)BATCH-LIST |

This job may need to be appended after system restart so that user ELENORE does not lose important work.

**@ABORT-BATCH 1**

**@ABORT-BATCH 2**

**@LIST-BATCH-PROCESS,,**

|   |   |
|---|---|
| 1 | PASSIVE |
| 2 | PASSIVE |

---

### Printers and spooling

If you find out that some printers are active after having used the command @LIST-SPOOLING-QUEUE {peripheral file name},({output file}), the command to stop a printer is:

**@STOP-PRINT {peripheral file name}**

The printer is temporarily disabled.

---

Norsk Data ND-30.003.7 EN

---

## Page 70

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The command

**@ABORT-PRINT <peripheral file name>**

skips the file currently in print and advances to the first entry in the spooling queue.

In addition, the spooling process for the printer has to be stopped:

**@STOP-SPOOLING <peripheral file name>**

The file currently being printed is lost in a warm start. A cold start normally empties the spooling files. You can change this if you like.

### Example of stopping a printer

```
@LIST-SPOOLING-QUEUE PHILIPS::

FILE CURRENTLY BEING PRINTED ON: PHILIPS::1
PHILIPS::2
LAST USED BY DAHL
LAST COPY. APPROX. 7168 BYTES LEFT TO PRINT

QUEUE IS EMPTY
```

There are only a few pages left to print, so you wait for the printer to finish its work before you stop it.

```
@STOP-PRINT PHILIPS

@STOP-SPOOLING PHILIPS
```

Norsk Data ND-30.003.7 EN

---

## Page 71

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### User Environment

If UE is running, it should be stopped:

#### Stopping UE

| Command                               | Note                            |
|---------------------------------------|---------------------------------|
| @UE-FUNC STOP-PROFILE-MANAGER         | This is for the English version.|

Specify the whole "command" on one line. UE-FUNC is NOT a SINTRAN command, but an ADP program.

---

### XMSG

All programs using XMSG (for example COSMOS and UE) should have been stopped before stopping XMSG itself. XMSG is stopped as follows in the SINTRAN-SERVICE program:

#### Stopping XMSG

| Command                            | Result               |
|------------------------------------|----------------------|
| @SINTRAN-SERVICE-PROGRAM           |                      |
| \*STOP-XMSG                        | OK: XMSG terminated. |
| \*EXIT                             |                      |

---

Norsk Data ND-30.003.7 EN

---

## Page 72

# ND-500

If an ND-500 CPU is present, it must be stopped. In the following example it is assumed that all processes running on ND-500 are already stopped (i.e. that all users are logged out and that all applications are stopped).

## Example of stopping the ND-500

```
@ND-500-MONITOR

ND-500 MONITOR Version H .......
N500: WHO-IS-ON

===>   1 USED BY SYSTEM   ON TERMINAL   1

You are now the only user of ND-500.

N500: STOP-ND-500

You return directly to SINTRAN after having stopped ND-500.
```

# RT-programs and open files

Before the system is stopped, take a look to see if there are any files that have been opened by RT-programs. If so, the RT-programs which have opened the files should be aborted, and the opened files closed. If there are other user-written RT-programs which are NOT passive, they should also be aborted. This is not necessary for the system-included RT-programs, which are more or less parts of SINTRAN. The command to list RT-programs is:

```
@LIST-RT-PROGRAMS (<output file>)
```

When you list RT-programs, the system-included RT-programs are written out first, followed by RT-programs used by application programs and the ones written by users.

Norsk Data ND-30.003.7 EN

---

## Page 73

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

The command to abort a RT-program is:

`@ABORT <RT-program name>`

The commands to list and close RT-opened files are:

`@LIST-RTOPEN-FILES (<output file>)`

`@RTCLOSE-FILE <file number>`

If the procedure for stopping has been followed until now, it is not necessary to stop system-included RT-programs. Table 3 lists all the system-included RT-programs. See PD sheets and manuals for the other applications you run which can have separate RT-programs.

All open files should now be closed. The scratch files for the background processes are closed when the terminals, TADs and batch processors are stopped. An exception is your own terminal, which you have used for stopping the processes. Therefore, make sure that all your open files are also closed:

### Example of closing a user's files

`@LIST-OPEN-FILES`

| FILE NUMBER | DESCRIPTION |
|-------------|-------------|
| 000100 | {PACK-ONE:SCRATCH}SCRATCH01:DATA;1 |
| 000101 | {PACK-ONE:SYSTEM}ANOTHER-FILE:SYMB;1 |

`@CLOSE -2`

> CLOSE has as parameter `<open file number>`, which is the number output in front of the file name from LIST-OPEN-FILES. `-1` closes all the user's files except scratch file. `-2` closes all.

---

Norsk Data ND-30.003.7 EN

---

## Page 74

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

| Name   | Belongs to - used for/comments |
|--------|--------------------------------|
| 1SWAP  | SINTRAN kernel - used for queuing swapping requests. |
| 5SWAP  | ND-500 MONITOR kernel - used for swapping ND-500 programs. |
| ACCRT  | SINTRAN kernel - used for RT accounting. |
| BAKxxx | Background process no. xx. Stopped by separate command. |
| BKxxx  | -- " -- |
| BCHxxx | Batch processor no. xx. Stopped by separate command. |
| BPTIMP | SINTRAN kernel - used for handling timeouts of background programs in configurations where background allocation is used. |
| COSPO  | COSMOS spooling server. Stopped by separate program. |
| DUMM2  | Dummy program used by the spooling system. |
| DUMMY  | SINTRAN kernel - used as idle process in execution queue. |
| FDRTx  | SINTRAN kernel - data transfer for floppy controller no. x. |
| FIXRT  | SINTRAN kernel - handles fixing of ND-100 segments in memory. |
| FSART  | COSMOS File Server Administrator. Stopped by separate program. |
| RTDIL  | SINTRAN kernel - logging activity for DISC-ACCESS-LOG facility. |
| RTERR  | SINTRAN kernel - prints error messages on error device. |
| RTRFA  | COSMOS remote file access server. |
| RTSLI  | SINTRAN kernel - time-slices background processes (by changing priority in the executing queue). |
| RWRTxx | SINTRAN kernel - block-oriented external and internal devices. |
| SPRTx  | Spooling processor no. x. Stopped by separate command. |
| STSIN  | SINTRAN initialization. Starts system-included RT-programs. |
| TADxx  | Terminal Access Device no. xx. Stopped by separate commands. |
| TADAD  | COSMOS TAD Administrator. Need not to be aborted. |
| TERMP  | SINTRAN kernel - does user-defined termination handling of RT programs. |
| TIMRT  | SINTRAN kernel - used for timeout on peripheral devices. |
| XROUT  | XMSG - Management of computer names and network routing. Used by COSMOS. Stopped by separate command. |

**Table 3. System-included RT-programs and COSMOS**

---

| CAUTION! |
|----------|
| "SINTRAN kernel" means that the program belongs to the inner parts of the operating system. It should not be stopped! |

Norsk Data ND-30.003.7 EN

---

## Page 75

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III  

---

## Example of stopping a user-written RT-program  

```
@LIST-RTOPEN-FILES,1

FILE NUMBER 00100 : (PACK-ONE:KNUTH)ALGORITHMS:DATA::1

@LIST-RT-PROGRAMS,1
```

| NAME   | RT-DESC | STATUS |
|--------|---------|--------|
| DUMMY  | 56730B  | READY  |
| STSIN  | 56756B  | PASSIVE|

**These are system-included RT-programs. They shall not be stopped.**

---

| XROUT | 61276B | PASSIVE |
| XTRACE| 61324B | PASSIVE |

**These belong to XMSG.**

---

| UEXPS | 61426B | PASSIVE |

**This belongs to UE.**

---

| KNUTH     |       | RTWAIT |

**Here you have a user-written RT-program.**

---

You assume that the RT opened file belongs to the RT-program KNUTH, because of the name conformity. You decide to abort the RT-program because it is NOT PASSIVE.

---

## Example continued

```
@ABORT KNUTH

@RTCLOSE-FILE 100

@LIST-RT-PROGRAMS,1
```

**The file number is used as parameter when closing a file.**

You list the RT-programs another time to ascertain yourself that KNUTH has become passive.

---

Norsk Data ND-30.003.7 EN

---

## Page 76

# SINTRAN III SYSTEM SUPERVISOR

## STOPPING, STARTING AND LOADING SINTRAN III

At this point, all the activity in the system should be stopped. You can now stop SINTRAN itself. The command to use is:

**@STOP-SYSTEM**

The command cannot be abbreviated. After the command has been given, the computer enters stop mode, and stops executing instructions. OPCOM is activated (described in chapter 2) and prints out its prompt # on the console terminal.

The STOP-SYSTEM commands cause SINTRAN to save all working registers in the ND-100 CPU before stopping. Then it forces the CPU to enter stop mode. This means that the ND-100 CPU is no longer executing any SINTRAN code in memory.

The saving of the CPU's registers makes it possible to resume (continue) processing of SINTRAN and programs that were running at the moment the command @STOP-SYSTEM was executed. So, if you regret that you stopped the system, the command to use in OPCOM is:

**20!**

This simulates a power fail restart. If this does not work, you must carry out a warm start.

The **STOP** function on the operator panel does NOT have the same effect as the @STOP-SYSTEM command (see also chapter 2). It just makes the ND-100 CPU stop execution of instructions without SINTRAN being able to carry out a controlled stop by itself.

---

### 3.1.2 Stopping ND-500 CPU without stopping the ND-100

The ND-500 CPU can be stopped separately without stopping the ND-100. If you for example need hardware service on the ND-500 CPU, the users still have access to the ND-100. Stopping ND-100 without stopping the ND-500 CPU is impossible, as the kernel of the operating system runs in the ND-100. 

---

Norsk Data ND-30.003.7 EN

---

## Page 77

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

A typical example of stopping the ND-500 CPU is shown in the following:

### Example of stopping ND-500 separately

```
@ND-500-MONITOR

ND-500 MONITOR Version H.......

N500: SET-ND-500-UNAVAILABLE
```

You make it impossible for others to enter ND-500.

You check who is using the ND-500 at the moment.

```
N500: PROCESS-STATUS
```

| PROC. NO. | TERM. NO. | USER              | STATUS | ND-500 CPU     |
|-----------|-----------|-------------------|--------|----------------|
| 1         | 38        | SWEDISH-EXPERT    | ACTIVE | 5.0 S          |
| 2         | 39        | FLOPPY-USER       | ACTIVE | 32.6 S         |
| 3         | 1         | SYSTEM            | IDLE   | 0.0 S          |

| Information similar to that found by @WHO-IS-ON. | Status for each user logged on (using) the ND-500 CPU. | How much time each user has got from the ND-500 CPU. |

You have logged in as user SYSTEM from the console. You see from the status above that there are two active users (running programs) on the ND-500 CPU. Your ND-500 status is IDLE because you have only entered the ND-500 MONITOR.

You request the active users to terminate their jobs, then you check the process status another time. If you exit from the ND-500-MONITOR, be aware that users are allowed to log in!

Norsk Data ND-30.003.7 EN

---

## Page 78

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example continued

**FLOPPY-USER** did NOT respond to your request. You decide to log him off the ND-500 CPU!

| Command                  | Description                                                                 |
|--------------------------|-----------------------------------------------------------------------------|
| **N500: LOGOUT-PROCESS 2** | The parameter "2" is the process number found in the leftmost column from PROCESS-STATUS. |
|                          | You are now the only user of ND-500.                                        |
| **N500: STOP-ND-500**    |                                                                             |
| @                        | You return directly to SINTRAN.                                             |
| @ND-500-MONITOR          | The ND-500 CPU is restarted.                                                |
| **N500: START-SWAPPER**  |                                                                             |

Norsk Data ND-30.003.7 EN

---

## Page 79

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### 3.2 Warm start

You perform a warm start from the console terminal (as user SYSTEM) or by using the computer's operator panel. Chapter 2 describes how the operator functions are activated by the different operator panel types.

The procedure for warm start is as follows:

- Make a controlled stop of the computer (see section 3.1), if SINTRAN is running.
- The ND-100 CPU should now have entered OPCOM mode.
- Press the STOP and MCL buttons on the operator panel:

| STOP | MCL |
|------|-----|

- Wait a few seconds for the prompt # to be displayed on the console, then load SINTRAN by pressing the LOAD button on the operator panel:

| LOAD |
|------|

- After you have done this, the warm start itself is carried out by SINTRAN. When a fresh copy is loaded into the computer, and the SINTRAN started, the message

```
"SINTRAN III RUNNING"
```

is displayed on the console. All users can now log in and continue working on the computer.

- If you do NOT get this message at all, repeat the warm start procedure.

Make sure that OPCOM is activated before you repeat.

OPCOM is activated after the command @STOP-SYSTEM to SINTRAN is executed. There is also a separate command for activating OPCOM from SINTRAN:

```
@OPCOM
```

---

Norsk Data ND-30.003.7 EN

---

## Page 80

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

OPCOM is a small operator program residing in the ND-100 CPU. It can only be used from the console terminal. When OPCOM is activated, the prompt # will appear on the screen. While OPCOM is active, the console terminal can only be used to communicate with this program. It is impossible to reach SINTRAN before you leave OPCOM. When SINTRAN is restarted, the ND-100 CPU leaves the OPCOM mode. If you want to leave OPCOM manually, press the "ESC" key on the console.

There is another way of performing a warm start that is even shorter:

- After taking all necessary precautions (see section 3.1), stop all activity on the system.

- Release all directories except the MAIN directory (containing SINTRAN). This is not absolutely necessary, but it ensures that you have the minimum number of open files.

- If you are not logged in on the console terminal, use the command @SET-ERROR-DEVICE (terminal number) to switch all system messages to your terminal.

- Type the command @RESTART-SYSTEM unabbreviated from user SYSTEM.

The command:

```
@RESTART-SYSTEM
```

has the same effect as pressing `STOP` and `LOAD`.

If this procedure does NOT work, carry out a warm start as described in the first procedure.

Norsk Data ND-30.003.7 EN

---

## Page 81

# Example of Warm Start Based on the Command @RESTART-SYSTEM

All users except SYSTEM are logged off the computer, and programs are stopped.

## @LIST-DIRECTORIES-ENTERED

| DIR INDEX | DISC-70MB-1 UNIT | PACK          |
|-----------|------------------|---------------|
| 0         | 0                | PACK-ONE      |
| 1         | 1                | PACK-TWO      |
| 2         | 2                | PACK-SPECIAL  |

You must release all directories except the main. If you do not know which is the main one, you must check.

## @DIRECTORY-STATISTICS PACK-ONE

| DIR INDEX | DISC-70-MB-1 UNIT | PACK          |
|-----------|-------------------|---------------|
| 0         | 0                 | PACK-ONE      |

(Main and Default Directory)

Here is the main directory!

## @RELEASE-DIRECTORY PACK-TWO

## @RELEASE-DIRECTORY PACK-SPECIAL

If you get the error message "FILES OPEN ON THIS DIRECTORY" you must find out which files are open, and close them.

You are logged in as user SYSTEM on terminal 39 far away from the computer room.

## @SET-ERROR-DEVICE 39

## @RESTART-SYSTEM

If you want future error messages to come on the console, use @SET-ERROR-DEVICE 1 afterwards.

---

Norsk Data ND-30.003.7 EN

---

## Page 82

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

## 3.2.1 SINTRAN Memory, Image and Save-area

In this section, you will find an account of the main things that the computer and SINTRAN do in a warm start. This will give you a better understanding of what kinds of error situations you can correct by carrying out a warm start, and what kind of event you can manipulate during the warm start.

The parts of SINTRAN that play an important role during warm and cold starts are located on three different areas:

- memory, that is in physical ND-100 memory.
- image, on the system disk.
- save-area, also on the system disk.

These three areas constitute a small part of SINTRAN located on the files SINTRAN:DATA, MACM-AREA:DATA, and SEGFILE:DATA. These files are the first three files found on user SYSTEM. Each of the areas contains a separate copy of the same part of SINTRAN.

The three files contain:

- The MONITOR kernel, including code to handle MONITOR calls. This make it possible to have a time-shared operating system.
- Page tables to make a virtual storage concept for user programs.
- Code and system information for administrating the different processes running (RT-programs).
- Code to handle data transfers to and from peripheral equipment.
- Configuration-dependent system information.
- Code for start and restart of SINTRAN.

The save-area is not used for anything in a warm start, but is important in a cold start. The remaining parts of SINTRAN (for example code for executing commands and using the file system) are located on the files MACM-AREA:DATA and SEGFILE:DATA. The SEGFILE is divided into parts called segments. The ones belonging to SINTRAN, or closely related products, are called system-included segments.

Norsk Data ND-30.003.7 EN

---

## Page 83

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

## Disk Page 0  
### SYSTEM DISK (MAIN DIRECTORY)

| BOOTSTRAP AND DIRECTORY ENTRY |
|-------------------------------|
| SINTRAN SAVE-AREA             |
| END OF SAVE-AREA              |
| SINTRAN IMAGE AREA            |

The file  
SINTRAN:DATA

A small part of the file  
MACM-AREA:DATA  
(only SINTRAN III VSX)

A part of the file  
SEGFILO:DATA

## Physical Memory Page 0  
| SINTRAN MEMORY AREA |
|---------------------|
| swapping area etc   |

*Figure 23. SINTRAN memory, image and save-area*

Norsk Data ND-30.003.7 EN

---

## Page 84

# SINTRAN III SYSTEM SUPERVISOR

## STOPPING, STARTING AND LOADING SINTRAN III

See appendix D for details of SINTRAN layout on disk, and appendix E for layout in physical memory.

After you have performed the operator functions to carry out a warm start, the following things happen:

- The bootstrap is read into physical memory by the ND-100 CPU, and is started. This is then the only executing program.

- The bootstrap program copies the SINTRAN IMAGE AREA to the MEMORY AREA.

- SINTRAN starts.

- Some rather important predefined SINTRAN commands residing in a buffer on the SINTRAN IMAGE AREA are executed. They are called initial commands.

---

### 3.2.2 Initial commands

You control the warm-start procedure by defining the initial commands. The definition of the initial commands is found in the mode file usually called HENT-MODE:MODE, used in a cold start. More details of this are given in the description of the cold start (section 3.3).

You must normally use the initial commands to carry out the following:

- Enter the main directory, because no disk is entered and ready to be used by SINTRAN just after a warm start.

- Start a batch processor, and append to it a batch job that starts different processes and applications in your configuration.

The file appended to the batch processor is usually called LOAD-MODE, and this name is used throughout this manual. This file should start the software you had to stop when carrying out a controlled stop.

The definition of the very first initial command is made by giving the command:

@INITIAL-COMMAND `<command and parameters>`

The next initial commands are defined by repeating the command:

@NEXT-INITIAL-COMMAND `<command and parameters>`

Norsk Data ND-30.003.7 EN

---

## Page 85

# SINTRAN III SYSTEM SUPERVISOR

## STOPPING, STARTING AND LOADING SINTRAN III

The parameter `<command>` must be specified on one line, and it shall NOT be preceded by a @ as when making mode jobs. It may be necessary to abbreviate the commands, if you must have many of them. The buffer they are stored in is limited to a total of 256 characters for all these commands together. If your software configuration is large, you may need to move more of what is normally associated with initial commands into mode files.

If you need to make any changes in the initial commands, you must rewrite the whole list. The @INITIAL-COMMAND clears the buffer, and there is no command to remove and insert a single command.

You can see what initial commands are defined by giving the command:

**@LIST-INITIAL-COMMANDS (<output file>)**

### Example of Initial Commands

| Command                                                                                 |
| --------------------------------------------------------------------------------------- |
| @LIST-INITIAL-COMMANDS,                                                                 |
| ENTER-DIRECTORY PACK-ONE DISC-45MB-1 0                                                  |
| BATCH 1                                                                                 |
| CONNECT-FILE SYSTEM-OUTPUT-1 105 W                                                      |
| CLOSE 105                                                                               |
| APPEND-BATCH 1 LOAD-MODE:BATCH SYSTEM-OUTPUT-1                                          |

It would be normal to include these initial commands in most configurations, but the parameters in ENTER-DIRECTORY vary considerably from one configuration to another.

If the batch job is aborted due to commands that could not be accepted by SINTRAN, you can read SYSTEM-OUTPUT into an editor and take a look at what has happened.

---

Norsk Data ND-30.003.7 EN

---

## Page 86

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### Warn start missing initial commands

If you accidentally carry out a warm start without having any initial commands, you can log in as user SYSTEM and give them manually as shown in the following example.

#### Warn start missing initial commands

| Step                                              | Description                                                                 |
|---------------------------------------------------|-----------------------------------------------------------------------------|
| **You have carried out the warm-start procedure, and logged in as SYSTEM.** |                                                                             |
| ESC                                               |                                                                             |
| ENTER SYSTEM                                      |                                                                             |
| PASSWORD:                                         |                                                                             |
| NO MAIN DIRECTORY OK                              | **This error message indicates that no initial commands have been executed.** |
| @ENTER-DIRECTORY                                  | **Enter the main directory.**                                               |
| DIRECTORY-NAME: PACK-ONE                          |                                                                             |
| DEVICE-NAME: DISC-45MB-1                          |                                                                             |
| DEVICE-UNIT: 0                                    |                                                                             |
| @LOGOUT                                           |                                                                             |
| ESC                                               |                                                                             |
| ENTER SYSTEM                                      | **SINTRAN still thinks that no users are entered. Correct this by logging out and logging in again as user SYSTEM.** |
| PASSWORD:                                         |                                                                             |
| OK                                                |                                                                             |
| @BATCH                                            | **Start the first batch processor, and run the batch job LOAD-MODE.**       |
| BATCH NUMBER = 1                                  |                                                                             |
| @APPEND-BATCH 1 LOAD-MODE:BATCH SYS-OUTPUT-1      | **Correct the initial commands.**                                           |

---

Norsk Data ND-30.003.7 EN

---

## Page 87

# User RT has space on a directory different from system directory

If user RT has a different default directory than the system directory, two initial commands must be added:

| Changes to LOAD-MODE file                                   |
|-------------------------------------------------------------|
| ENTER-DIRECTORY <name of system disk>                       |
| ....                                                        |
| ENTER-DIRECTORY <name of user RT's default directory>       |
| SET-DEFAULT-DIRECTORY <name of user RT's default directory> |
| ....                                                        |
| APPEND-BATCH 1 LOAD-MODE:BATC SYSTEM-OUTPUT-1               |

The command **RTENTER** must be included as one of the first commands in LOAD MODE. The reason is that user RT's default directory is set equal to the system directory when the initial commands are executed.

## 3.2.3 More about the LOAD-MODE file

The file LOAD-MODE must be tailored to suit each configuration. In configurations running many applications, many commands can be needed to start things, while smaller configurations require fewer. An example of such a file is given in appendix H.2.

It is, of course, possible to give the commands found in the LOAD-MODE file manually, but it is practical to make it start all applications that are used more or less daily.

The standard part of the LOAD-MODE file should do the following (see also appendix H.2):

- Enter all directories not entered by the initial commands.
- Define the entered directories as default.
- Define the floppy disk drives in the directory table.
- Set the system available for the users.
- Inform the users that they can log in and start working.

Norsk Data ND-30.003.7 EN

---

## Page 88

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

Setting the system available is the last thing to do. It is normal to use the LOAD-MODE file to start the following:

- Batch processors not started by the initial commands.
- Spooling processes.
- Communication, for example XMSG and COSMOS.
- User Environment.
- ND-500.

It is not necessary to give any commands to start the terminals. All files are closed after the warm start. RT-programs are passive - apart from any included by SYSTEM or started by commands in mode files.

Please note that you cannot use any arbitrary sequence when starting up the software. Some products require that others are already running before they can be started up. For example: starting COSMOS requires that XMSG is already running.

Some applications, such as COSMOS, need a lot of commands and information to start them. These applications are started with the help of separate mode files. All that needs to be in the LOAD-MODE file is then reduced to mode commands that start execution of the related mode files. Such mode files are delivered with the product from ND.

When making changes in the LOAD-MODE file or other important files needed for operating the system, it is good practice to:

- Read and follow the installation description (PD sheets) or other information accompanying the product.
- Write comments in the mode file about why the command(s) are there and what they are intended for!
- Test that the commands have the desired effect. Give the commands manually the first time (avoid surprises later on), or test your changes as a separate mode job.
- The first command in a batch job run from SYSTEM must be the ENTER SYSTEM (<system password>) (<project password>) (<maximum time>). When you change the password on user SYSTEM, remember also to change it in the LOAD-MODE file. The public file access for files containing batch jobs should be NONE to prevent other users from reading the password (data security).
- Remember that a batch job must be terminated by the control character CTRL+ESC twice. In PED (or NOTIS-WP) you make this character by typing: CTRL+O followed by CTRL+ESC.

Norsk Data ND-30.003.7 EN

---

## Page 89

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

- If you are editing a mode file or batch job in NOTIS-WP, make sure that you store the file in the 7-bits format. This is the ASCII character set. SINTRAN will not accept 16-bits or the newer standard (S) format produced by the NOTIS products. The actual format qualifier is written in left-hand corner of the status line on the screen in NOTIS-WP. PED handles only 7-bits format.

- Commands in SINTRAN-SERVICE-PROGRAM and MAIL must be preceded by a @, instead of the * which is used by these programs as prompt when used interactively.

---

## 3.2.4 More about starting different processes

All processes that can be started more or less automatically in the warm start can also be started as separate processes. This section gives some short examples of how the most common processes are started (those that were stopped in section 3.1.1).

### Batch processor

A batch processor is started, and made ready to receive batch jobs, by giving the command:

`@BATCH [<batch number>]`

- If the parameter `<batch number>` is not given, the first passive batch processor is started.

| Example of starting a batch processor |
|---------------------------------------|
| `@BATCH 2`                            |
| BATCH NUMBER = 2                      |
| This answer means that you succeed!   |

---

Norsk Data ND-30.003.7 EN

---

## Page 90

# Printers with Spooling

A printer with spooling is started by the command:

    @START-SPOOLING <peripheral file name>

If there are already some files in the spooling queue that are not empty, the printer starts printing these. Users can now append files to the spooling queue.

| Example of starting a printer |
|-------------------------------|
| @START-SPOOLING LINE-PRINTER  |

# XMSG

XMSG should be started before the applications using it. The procedure is:

| Starting XMSG                      |
|------------------------------------|
| @SINTRAN-SERVICE-PROGRAM           |
| *START-XMSG                        |
| OK: XMSG started                   |
| *EXIT                              |

> If you are using a network with several computers, routing definitions have also to be done. See chapter 5.

Norsk Data ND-30.003.7 EN

---

## Page 91

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

## User Environment

The UE is started by:

| Starting UE |  
|-------------|  
| @UE-FUNC START-PROFILE-MANAGER |

Before you give this command, you can decide which terminals UE shall control. The users on these terminals must then log in as UE users before they can do any work. The command for controlling this is:

    @UE-AUTOMATIC-LOGIN <all terminals?> <enable=1/disable=0> [<terminal number>]

This can be useful if you or some of your users do not want to use UE.

### Example of disabling UE on some terminals

Suppose that you want to disable UE on terminals 1 and 51.

| @UE-AUTOMATIC-LOGIN |  
|----------------------|  
| ALL TERMINALS ? N    |  
| ENABLE=1/DISABLE=0:0 |  
| TERMINAL NUMBER: 1   |

> If you want to disable all terminals, type Y.

| @UE-AUTOMATIC-LOGIN |  
|----------------------|  
| ALL TERMINALS ? N    |  
| ENABLE=1/DISABLE=0:0 |  
| TERMINAL NUMBER: 51  |

Repeat the command for each terminal to disable or enable.

---

Norsk Data ND-30.003.7 EN

---

## Page 92

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### RT-programs

The commands that start COSMOS in the LOAD-MODE file are described in chapter 5. RT-programs that you stopped (aborted) manually when stopping the installation, can be activated by the command:

`@RT <RT-program name>`

The legal RT-program names in your configuration are found by the command `@LIST-RT-PROGRAMS`. You cannot abbreviate the name of the RT-program in any of these commands, so exact match is required.

The only RT-programs that you normally need to start explicitly are those made by users. RT-programs belonging to any of your applications are in general started by separate service programs or by mode files included automatically in the warm start.

#### An alternatively way of starting UE

```
@LIST-RT-DESCRIPTION UEXPS
PASSIVE
```

|                                             |
|---------------------------------------------|
| The state of the RT-program is PASSIVE, so UE has not been started yet (UEXPS = UE Profile Server). |

```
@RT UEXPS
@LIST-RT-DESCRIPTION UEXPS
IN TIME QUEUE, TIME LEFT:
```

|                                             |
|---------------------------------------------|
| The program has moved from PASSIVE state into a queue. That means it is started. |

The example does exactly the same as the use of the UE-FUNC in the example showing start of UE.

---

Norsk Data ND-30.003.7 EN

---

## Page 93

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### 3.2.5 Starting the ND-500 CPU

The ND-500 CPU is normally started automatically during the warm start. This section explains the different ways of starting it manually.

The ND-500 CPU can be both stopped and started while the ND-100 (and SINTRAN) is running. But the ND-500 cannot run without the ND-100. This is because SINTRAN runs on the ND-100.

The operating system part of the ND-500 is called the ND-500 MONITOR. You use this for control of the ND-500. If you have read the previous sections, you have already seen this monitor used in both procedures and examples.

Normally, the start of ND-500 should be this simple:

| Simple start of ND-500    |
|---------------------------|
| @ND-500-MONITOR           |
| ND-500 MONITOR Version H  |
| %500: START-SWAPPER       |
| Some system information is displayed.  |
| %500: EXIT                |

If you do NOT intend to carry out ADVANCED OPERATIONS on the ND-500 CPU, you need not read the remainder of this section.

After the START-SWAPPER command is given, the ND-500 MONITOR carries out the necessary functions to start ND-500. This is done by using default values for important system parameters:

- The ND-500 hardware is initialized. This has the same effect as Master Clear.

- The ND-500 instruction set is loaded into the CPU. This is because the instructions themselves consist of software (the micro-programming principle). This software disappears when the power is turned off. The micro-program is supplied in different versions for different models of ND-500.

When started in this way, the micro-program is loaded from the file (SYSTEM)CONTROL-STORE:DATA. The ND-500 MONITOR expects this file name and contents.

Norsk Data ND-30.003.7 EN

---

## Page 94

# SINTRAN III SYSTEM SUPERVISOR

## STOPPING, STARTING AND LOADING SINTRAN III

- The ND-100 starts the micro-program in ND-500, and thereby enables the ND-500 CPU to run programs.

- The swapper process is loaded into physical memory and started. The ND-500 MONITOR expects that the swapper process is on files placed under user SYSTEM with file names SWAPPER. The swapper is a vital part of the operating system that make it possible to run many programs timeshared.

The next example shows how you can control the loading of the micro-program version and starting the swapper.

You must now specify the default values of the parameters in the simple start procedure. The control store version you wish to load must be present on a data file.

Norsk Data ND-30.003.7 EN

---

## Page 95

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Advanced start of ND-500

#### @ND-500-MONITOR
ND-500 MONITOR Version H

##### N500: MASTER-CLEAR
| Initialization of control store and registers. |

##### N500: LOAD-CONTROL-STORE (SYSTEM)CONTROL-STORE:DATA
| Here you load the standard micro-program, but the file name could be changed to the name of another version, or your own! |

##### N500: MICRO-START 0
| The micro-program starts running. The parameter is the start address in the control store. |

##### N500: LOAD-SWAPPER
File name: (SYSTEM)SWAP

| Load the swapper process into the physical Multiport memory. If you use a separate command to load, you can change the name of the swapping process file as well. |

##### N500: START-SWAPPER
| Start the swapper process. Process number is 0. |

##### N500: GIVE-N500-PAGES 1000B
| This gives ND-500 a swapping area corresponding to 1 MB. |

When the command LOAD-SWAPPER is used, there is no default memory allocation for ND-500 (no swapping area for user processes is reserved in ND-500). Some pages must therefore be given to the ND-500.

##### N500: EXIT

Norsk Data ND-30.003.7 EN

---

## Page 96

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

When SINTRAN is started, the memory configuration in the system is defined. There are two different kinds of memory:

- **ND-100 local memory.** This is for the exclusive use of ND-100 programs (including the ND-500 Monitor).

- **Shared Multiport memory.** This memory is accessible for both ND-100 and ND-500 programs.

When the computer is warm-started, the memory configuration is initialized. This is usually done automatically by default values if the command DEFINE-MEMORY-CONFIGURATION is not given. The default values correspond to the physical memory configuration.

An example of defining the memory configuration manually:

```
@ND-500-MONITOR

ND-500 MONITOR Version H

N500: DEFINE-MEMORY-CONFIGURATION

N100 PAGE NO FOR PHYS. ADR. ZERO: 1000B

000001.MEMORY PART  
SIZE (IN 2K BYTES): 2000B  
ND-100 ACCESS: YES  
ND-500 PROGRAM ACCESS: YES  
ND-500 DATA ACCESS: YES  
LAST MEMORY PART DEFINED: YES
```

This configuration has 1 MB local memory, and 2 MB shared. 1 MB = 1000B pages. It is possible to define different memory parts with different access rights, but this is seldom done.

```
N500: START-SWAPPER
```

|      | Start the ND-500 CPU. |

Norsk Data ND–30.003.7 EN

---

## Page 97

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

---

## Memory Configuration

```
┌─────────────────────────────┐
│ Local ND-100   │ Shared Multiport memory    │
│ memory        │ (MPM)                       │
└─────────────────────────────┘
```

- **A**: ND-100 page no. for ND-500 physical address zero  
- **B**: 1 memory part size  

*Figure 24. ND-500 physical memory configuration*

---

If you have many ND-100 "user" processes, it is a good idea to extend the swapping area for use by the ND-100 CPU. This is done by taking some pages from the ND-500 CPU and giving them to the ND-100.

If for example you have only 1 MB of local ND-100 memory and several MBs in the Multiport you can give the ND-100 another half MB. You should be aware, though, that the access to Multiport memory is slower than for the local memory.

---

## Example of giving the ND-100 extra swapping pages

```
┌──────────────────────────────────────────────┐
│ @ND-500-MONITOR                             │
│                                              │
│ ND-500 MONITOR Version H ........            │
│ N500: TAKE-N500-PAGES                        │
│ NUMBER OF PAGES: 400B             │ This corresponds to half a MB. │
│                                              │
│ NUMBER OF PAGES AVAILABLE FOR ND-500 PROCESSES: ........ 1088 │
│ NUMBER OF PAGES USED BY THE SWAPPER PROCESS: ........... 104 │
│ NUMBER OF PAGES USED FOR MAILBOXES AND DATA BUFFERS: ..... 60 │
│ NUMBER OF PAGES AVAILABLE FOR SWAPPING IN SINTRAN III: .... 483 │
│                                              │
│ These important parameters have been affected. GIVE-N500-PAGES │
│ command has the opposite effect. The physical configuration │
│ in this example is 3 MB shared and 1 MB local memory.       │
└──────────────────────────────────────────────┘
```

---

Norsk Data ND-30.003.7 EN

---

## Page 98

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### ND-500 Actual Memory Configuration

```
| Local ND-100 memory | Shared Multiport memory |
|---------------------|------------------------|
| SIII memory         | proc. 0 GIVE           | TAKE |
| ND-100 swapping area| Swapping area shared between the CPUs |

Figure 25. ND-500 actual memory configuration
```

Note that the minimum local ND-100 swapping area is the one given by the local ND-100 memory.

The default memory allocation is as follows (N is total number of pages for swapping, local + shared memory):

| Swapping areas | ND-100    | ND-500     |
|----------------|-----------|------------|
| N < 2 MB       | N/2 MB    | N/2 MB     |
| 2 MB ≤ N < 4 MB | 1 MB     | N - 1 MB   |
| 4 MB ≤ N < 8 MB | 1.5 MB   | N - 1.5 MB |
| 8 MB ≤ N       | 2 MB      | N - 2 MB   |

*Table 4. Values for default memory allocation*

---

### 3.2.6 Starting the ND-500 Multi-CPU (ND-580/CX)

The ND-500 Multi-CPU configuration runs from two to four ND-570 CPUs under SINTRAN VSX-500 version K. The ND-570 CPUs support the need of scientific and technical users for more computing power than is available in a single ND-570 CPU system. The Multi-CPU configurations use a special swapper and micro program version.

---

Norsk Data ND-30.003.7 EN

---

## Page 99

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

---

### Overview of the ND-500 Multi-CPU configuration

The operating software in the ND-500 Multi-CPU configuration is shown in the diagram below.

```
ND-500 MONITOR
      |
ND-210697       SWAPPER PROCESS       SWAP FILE(S)
"MULTISWAPPER"      .......       .......
      |                     |
      |                     |
ND-500 CPU no 1        ND-500 CPU no 4
MICRO PROGRAM IN       MICRO PROGRAM IN
CONTROL STORE 1        CONTROL STORE 4

                    ND-210701
                    "ND-500/2 CX
                     MULTI CPU
                     MICRO-PROGRAM"
```

*Figure 26. Overview of the ND-500 Multi-CPU*

The operating software outlined in the diagram above performs these main functions:

- The ND-500 Monitor and swapper process is common to all parts of the configuration.
- The swapper process handles the administration of the physical, shared MPM-5 memory between the CPUs. There is no change in the use of the swap file(s).
- Each ND-570 CPU has its own control store.

---

Norsk Data ND-30.003.7 EN

---

## Page 100

# Installation

1. **Run the additional Multi-CPU patch-file after SINTRAN has been loaded from floppy. IT MUST BE RUN AFTER THE STANDARD PATCH FILE, BUT BEFORE ANY COLD START!**

   ```
   @MODE (ND:SYSTEM)START-MULTIPATCH:MODE.,. (separate floppy)
   ```

2. **Copy the new software onto the system disk.**

   The floppy ND-210697 contains the swapper files:

   ```
   MULTISWAPPER-xx:PSEG and MULTISWAPPER-xx:DSEG
   ```

   The floppy ND-210701 contains the file CONT-STORE-151xx

   xx means version and revision level.

3. **Make the ND-500 MONITOR use the correct versions of the swapper and the control store files.**

   There are several ways of doing this, but the two most common ways are here described as alternatives A and B.

   ### Alternative A:

   In many single ND-500 CPU configurations, the starting of the ND-500 is done as follows (or in a similar way) when making a warm start:

   ```
   @ND-500-MONITOR
   ND-500 MONITOR
   N500: START-SWAPPER
   ```

   ```
   Loading of control store and swapper by default values.
   ```

   ```
   N500: EXIT
   ```

   The default values in alternative A are:

   - CONTROL-STORE:DATA
   - SWAPPER:PSEG
   - SWAPPER:DSEG

   You transfer the new software by copying to these default files.

---

Norsk Data ND-30.003.7 EN

---

## Page 101

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

```
@COPY-FILE SWAPPER:PSEG,MULTISWAPPER:PSEG

@COPY-FILE SWAPPER:DSEG,MULTISWAPPER:DSEG

@COPY-FILE CONTROL-STORE:DATA,CONT-STORE-151:DATA
```

### Alternative B:

If you are an advanced user, running different instruction sets, you are accustomed to giving commands to load the control store. Therefore, as an advanced user you only need to make the ND-500 use the default swapper process. Do the copying:

```
@COPY-FILE SWAPPER:PSEG,MULTISWAPPER:PSEG

@COPY-FILE SWAPPER:DSEG,MULTISWAPPER:DSEG
```

### 4. Make a controlled stop of the ND-500 CPUs (stop all active ND-500 processes).

### 5. Update the LOAD-MODE file.

The old procedure for starting one ND-500 CPU is here replaced with a new procedure for starting several ND-500 CPUs.

If you used alternative A in step 3, make these changes in the LOAD-MODE file:

```
@CC START THE ND-500 MULTI-CPU CONFIGURATION
@CC
@CC START THE ND-500 CPU NO 1 AND SWAPPER BY DEFAULTS
@CC
@ND-500-MONITOR 1
START-SWAPPER
EXIT
```

@CC REPEAT THE FOLLOWING FOR EACH ADDITIONAL ND-500 CPU
```
@CC
@ND-500-MONITOR 2    | The logical ND-500 CPU number.
MASTER-CLEAR
LOAD-CONTROL-STORE,...
MICRO-START 0
EXIT
```

Norsk Data ND-30.003.7 EN

---

## Page 102

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

You add the logical ND-500 CPU number when entering the ND-500-MONITOR to select a specific ND-500 CPU on which to operate. Two ND-500 CPUs were started in the previous example.

If you, as an advanced user, selected alternative **B** in **step 3**, then your LOAD-MODE should be made similar to the following:

```
@CC START THE ND-500 MULTI-CPU CONFIGURATION
@CC
@CC START THE ND-500 CPU NO 1 AND SWAPPER
@CC
@CC
@ND-500-MONITOR 1
MASTER-CLEAR
LOAD-CONTROL-STORE (SYSTEM)CONT-STORE-151:DATA,...
MICRO-START 0
START-SWAPPER
EXIT

@CC REPEAT THE FOLLOWING FOR EACH ADDITIONAL ND-500 CPU
@CC
@CC
@CC
@ND-500-MONITOR 2 [The logical ND-500 CPU number.]
@CC
MASTER-CLEAR
LOAD-CONTROL-STORE (SYSTEM)CONT-STORE-151:DATA
MICRO-START 0
EXIT
```

### 6. Do a warm start.

After the warm start has been completed, all your ND-500 CPUs should be ready to run programs. The swapper process is common to all ND-500 CPUs, and runs on the ND-500 CPU that it is serving at any given time. Thus, the load of the swapper is shared equally between the ND-500 CPUs.

If you suspect that the loaded micro program may not be the correct one, you can use the following procedure to verify the version:

```
@ND-500-MONITOR 1
N500: VERSION

| SUBSYSTEM PART: | <date of generation> |
| SYSTEM PART:    | <revision status>    |
| SWAPPER:        | <date of generation> |
| MICRO PROGRAM:  | 151xx [Micro program version.] |
```

Norsk Data ND-30.003.7 EN

---

## Page 103

# Running processes on the ND-500 Multi-CPUs

A user does not need to know which physical ND-500 CPU his/her application is running on. Applications are therefore started in just the same way as before. This also applies to standard domains.

## Example of running PED-500

|               |
|---------------|
| @ND-500-MONITOR |
| ND-500-MONITOR |
| N500: PED-500  |

A process is started on the ND-500 CPU that has the fewest processes in the execution queue. Assignment of the CPU that a process shall run on is done by the time slicer each time it is active. Thus, the ND-500 CPUs will automatically share the total workload. A process not being time-sliced will continue to run on the CPU where it was started.

You may also force any process always to run on the same ND-500 CPU. You do this by specifying the logical CPU number when entering the ND-500 Monitor.

## Example of running PED-500 on CPU no. 3

|               |                                             |
|---------------|---------------------------------------------|
| @ND-500-MONITOR 3 | The logical ND-500 CPU number.              |
| ND-500-MONITOR |                                             |
| N500: PED-500  |                                             |

Norsk Data ND-30.003.7 EN

---

## Page 104

# 3.3 Cold start

A cold start must be carried out after a reconfiguration of the system, i.e. after running the configuration program (section 3.5).

A cold start is also useful to clear up error situations where a warm start is not sufficient. Such error situations occur when the segment file(s) has become erroneous (SEGFILE:DATA).

The main tasks of the cold start are to load a new copy of SINTRAN from save-area and to rebuild the segment file(s) with a fresh copy of code and data.

## 3.3.1 Cold start with SINTRAN running

If SINTRAN is running, you can carry out the cold start as follows:

- Stop all activity in the system (see section 3.1).

- Give the command `@COLD-START [<terminal number>]` unabbreviated from user SYSTEM. The optional parameter is the terminal to be used for the rest of the cold start procedure. Default is the console.

- Log in as user SYSTEM when SINTRAN starts.

- Enter the system directory containing SINTRAN (usually the main directory).

- Log out and in again as user SYSTEM.

- Run the file HENT-MODE as a mode job. This file is very configuration-dependent.

- Carry out a warm start (see section 3.2.)

- Update the software clock if necessary (@UPDAT or @CLADJ).

The next page gives an example of such a cold start.

During the cold start the following things happen (see also figure 23):

- SINTRAN save-area is copied to the SINTRAN image-area. The system-included segments on the files SINTRAN:DATA and MACM-area are copied to SEGFILE:DATA (among other things, this includes the RT-Loader, spooling RT-programs, SINTRAN Service program, MAIL, XMSG and ND-500 System Monitor).

Norsk Data ND-30.003.7 EN

---

## Page 105

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

- SINTRAN image-area is copied to the SINTRAN memory area and SINTRAN starts itself. This is quite similar to a warm start.
- You must run the HENT-MODE file because a lot of information is still missing and the segment file(s) must be rebuilt. Some of the commands in this mode file are system dependent, while others are always present.

### Example of cold start with SINTRAN running

| Stop all activity. | Wait a minute or two. |
|--------------------|-----------------------|

`@COLD-START`

| NUMBER OF PAGES THE SYSTEM WILL USE ON THE SEGMENT FILE(S): | 15070B |
| FIRST SYSTEM SEGMENT STARTS ON PAGE:                        | 2765B  |
| NUMBER OF BACKGROUND PROCESSES                              | 39     |
| EACH BACKGROUND PROCESS NEEDS `<pages>`:                    | 205B   |

The displayed information is useful for calculating the size of the segment file(s).

```
09.13.44    17. MAY 1986
SINTRAN III - VSX/500 K REVISION 0B
CPU (SYSTEM NUMBER): 6586
GENERATED: 16.39.00   15 MAY 1986

SINTRAN III RUNNING -

PAGES FOR SWAPPING: 14033B
```

This is the amount of swapping pages shared between the ND-100 and ND-500 CPUs.

| ESC              | Ordinary logging in.                                                                        |
|------------------|---------------------------------------------------------------------------------------------|
| ENTER ⏎<br>PASSWORD: ⏎ | Just give CR when SINTRAN asks for user name and password.<br>This error message is correct in this case. No mass storage units are entered at the moment. |

`@ENTER-DIRECTORY`

| DIRECTORY-NAME: PACK-ONE | Enter the main directory. The different parameters must be in accordance with your disk configuration. |
| DEVICE-UNIT: 0           |                                                                                                   |

Norsk Data ND-30.003.7 EN

---

## Page 106

# SINTRAN III System Supervisor
## Stopping, Starting and Loading SINTRAN III

### Example Continued

`@LOGOUT`
- **ESC**: SINTRAN still thinks that no users are entered. Log in again.

ENTER SYSTEM  
PASSWORD: _______

`OK`

`@MODE HENT-MODE:MODE,...`
- Run the HENT-MODE file to rebuild the segment file(s) and initialize some parts of SINTRAN.

`@UPDAT 58 16 30 6 1986`
- Format Min Hour, Day Month Year.

The HENT-MODE should end by appending LOAD-MODE to a batch processor.

### Automatic Cold Start Procedure

There is also an automatic way of making a cold start if SINTRAN is running. It is based on letting SINTRAN enter the main directory and then starting the HENT-MODE job after SINTRAN is loaded.

- Stop the activity in the system, but do NOT stop SINTRAN (see section 3.1).

- Use the command `*SET-COLDSTART-MODE-FILE` in the Sintran Service PROGRAM to specify that the HENT-MODE file shall be run automatically in the cold start.

- Give the command `COLD-START` unabbreviated from user SYSTEM.

Be careful when specifying the parameters in the command `*SET-COLDSTART-MODE-FILE`. They are not checked for legality before the cold start is performed. The definition survives both warm and cold starts. If you want to do an ordinary manual cold start after the mode file has been specified, use the command `*RESET-COLDSTART-MODE-FILE`.

Norsk Data ND-30.003.7 EN

---

## Page 107

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example of cold start with automatic run of HENT-MODE

```
Stop all activity.
```

`@SINTRAN-SERVICE-PROGRAM`

```
*SET-COLDSTART-MODE-FILE
PARAMETERS TO THE ENTER-DIRECTORY COMMAND
WHEN ENTERING THE MAIN DIRECTORY: PACK-ONE,DISC-70MB-1,0
COLDSTART INPUT FILE: HENT-MODE:MODE
COLDSTART OUTPUT FILE: TERMINAL
*EXIT
@COLD-START 1
```

The cold start is now performed from the console terminal's background program. The output is displayed on this terminal due to the specification of the cold start output file.

|  |  |
|---|---|
| ⓔ | The mode job is finished. LOAD-MODE should be running on a batch processor. |

---

**CAUTION!** Do NOT press the ESC button on the console terminal before the cold start is finished! Otherwise you abort the HENT-MODE job!

---

### Cold start with SINTRAN NOT running

If SINTRAN is not running, you must use the SINTRAN floppy diskette containing MACM to load SINTRAN.

---

Norsk Data ND-30.003.7 EN

---

## Page 108

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example of Cold Start with SINTRAN Not Running

Suppose you have a COMPACT computer with a 45MB internal disk.

Insert the SINTRAN floppy diskette 1 in the floppy drive, unit 0.

```
#1560&
MACM is loaded from floppy into memory.
```

```
MACM-1718-0
APR 25, 1986
```

#### GIVE DISK TYPE AS ONE OF THE FOLLOWING NUMBERS:

| Number | Disk Type  |
|--------|------------|
| 0      | DISC-14MB  |
| 1      | DISC-21MB  |
| 7      | DISC-45MB  |
| 20     | DISC-450MB |

See your SINTRAN order form to find your disk type. In this example it is 7.

```
DISC TYPE: 7!
```

**TYPE ANY MACM COMMAND:**

```
)HENTJ
Fetch SINTRAN from save-area.
```

```
22!
Start SINTRAN.
```

### SINTRAN III Running

Log in using "CR" for user name and password.

```
NO MAIN DIRECTORY
OK
```

```
@ENTER-DIRECTORY PACK-ONEJ
DEVICE-NAME: DISC-45MB-1J
DEVICE-UNIT: 0J
```

You must enter the main directory.

Log out and in again as user SYSTEM. Use password this time.

```
@MODE HENT-MODE:MODE,,,J
```

Run HENT-MODE file to rebuild the segment file(s) etc.

---

*Norsk Data ND-30.003.7 EN*

---

## Page 109

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

---

## 3.3.2 More about the HENT-MODE file

The HENT-MODE must also be tailored separately for each configuration. An example of such a file is given in appendix H.3.

The standard part of the HENT-MODE file should do the following:

- Define the initial commands because these are cleared during the cold start.
- Enter all directories required to perform the cold start and set them default. These are the directories containing files referred to by different mode files run via HENT-MODE.
- Define SEGFIL0 as the first segment file in SINTRAN Service program.
- Execute the command @INITIALIZE-BACKGROUND-PROGRAMS
- Execute the command @RTENTER to allow RT-programs access files. User RT is associated with the owner of RT-programs.
- Load DMAC to segment 7. DMAC is used for patching of segments.
- Initialize the ND-500 CPU if it is included in the configuration.

The following configuration-dependent operations are normally carried out by the HENT-MODE file:

- Initialize the SINTRAN mail system.
- Empty spooling files.
- Load configuration-dependent software which make use of segments (XMSG, COSMOS, UE and so on).
- Install reentrant ND-100 programs.
- Initialize the ND-500 configuration and define standard domains.

Some of the tasks mentioned are usually performed by separate mode files. Having separate mode files for dedicated tasks improves the structure of the mode files. See appendix H.3 to H.6 for an example of all mode file necessary to perform a cold start. See your PD sheets for instructions about what to put into the mode files.

---

Norsk Data ND-30.003.7 EN

---

## Page 110

# 3.3.3 Maintaining the Segment Files (ADVANCED)

If you load a new version of SINTRAN that requires more space, you can risk the segment file not having sufficient extra space to contain the new version. The space required for SINTRAN is printed out on the error device in the cold start. The PD sheet for each product specifies how much space it needs on the segment file. In this case, SINTRAN gives the error message "NOT ENOUGH SPACE ON THE SEGMENT FILE(S)" during the cold start. There are two main solutions to this problem:

- A: Expand the existing segment file.
- B: Create a new, additional segment file.

The cold-start procedure must be repeated after this problem has been solved.

## A: Example of Expanding SEGFILE0:DATA

```
@EXPAND-FILE SEGFILE0:DATA
NUMBER OF PAGES: 500
```

The number 500 was chosen arbitrarily (trial and error method). If the error message "SPACE ALREADY ALLOCATED" appears, it is impossible to expand the segment file. Use the other solution.

## Example Continued

Delete and redefine the segment file in SINTRAN Service Program.

```
@SINTRAN-SERVICE-PROGRAM
*DELETE-SEGMENT-FILE Y Y
SEGMENT FILE NUMBER (OCT): 0

*DEFINE-SEGMENT-FILE Y Y
SEGMENT FILE NUMBER (OCT): 0
```

---

## Page 111

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

If it is impossible to expand the segment file, create a new segment file.

### Example of defining a new segment file

```
@CREATE-FILE SEGFIL1:DATA
NUMBER OF PAGES: 500
```

The segment files should by convention be named SEGFILx, where x is in the range 0 - 3. The segment file can be placed on any directory, although it is normal to place it on the main directory. If it is not placed on the main directory, you must include an additional command in the beginning of the HENT-MODE file to enter this directory.

#### Example continued

```
@SINTRAN-SERVICE-PROGRAM
*DEFINE-SEGMENT-FILE Y Y
SEGMENT FILE NUMBER (OCT): 1
SEGMENT FILE NAME: SEGFIL1:DATA
```

You will now have two segment files (SEGFIL0 and SEGFIL1).

You are also advised to include this command in the HENT-MODE file, although it is only really needed after loading SINTRAN from a diskette. SEGFIL0 is automatically defined by SINTRAN.

The command SET-SEGMENT-FILE must be given in the RT-Loader to ensure loading on the desired file. The definition becomes permanent, as the RT-Loader saves it on the RTFIL. Your HENT-MODE should be modified as shown in the following example:

### Modifying HENT-MODE to load onto two segment files

```
@CC ALL DIRECTORIES ARE NOW ENTERED AND SET DEFAULT

@RT-LOADER
@SET-SEGMENT-FILE 0
....
@RT-LOADER
@SET-SEGMENT-FILE 1
```

Load onto SEGFIL0 until it becomes full. Then switch to SEGFIL1.

* * *

Norsk Data ND-30.003.7 EN

---

## Page 112

# Sintran III System Supervisor
## Stopping, Starting and Loading Sintran III

---

**Note:** If you already have four segment files that are not possible to expand, the files on the disk must be reorganized.

---

## 3.3.4 Initializing Background Programs

Each terminal, batch processor and TAD is controlled by a background process. The background programs are system-included RT-programs. The command

`@INITIALIZE-BACKGROUND-PROGRAMS`

allocates space on the segment file for the background programs. The command must be executed before terminals, batch processors and TADs can be used. The only exception is the console terminal which always has a background program present.

Each background program consists of a data segment and a system segment. The system segment is usually 5K words big. It keeps user-dependent information for each SINTRAN user (e.g. open-file table and local variables for program routines). The SINTRAN-SERVICE command

`INITIALIZE-SYSTEM-SEGMENT <segment name/number>`

copies a new system segment from the SINTRAN save-area onto an existing system segment. This can be useful for clearing up a system segment without performing a cold start.

The data segment is by default 128K words big, but this can be changed if necessary. This is done by the command

`@CHANGE-BACKGROUND-SEGMENT-SIZE <segment name/number>`

During execution of a background program (ordinary program), the data segment contains a copy of the user's program. Only a very small part of the program is at any time present in physical memory. The size of the data segment determines the size of programs that can be run on a background process. 128K words corresponds to a 2-bank program, and 64K words to a 1-bank program (a bank corresponds to the logical address range of the ND-100 CPU). You should only change the size of the background segment size from 2-bank to 1-bank if you have special reasons for saving space on the segment file. ND software applications consist today of a mixture of 1-bank and 2-bank programs.

---

Norsk Data ND-30.003.7 EN

---

## Page 113

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The following procedure is used to find the segments of an active background process belonging to a particular terminal:

### Finding the segments used by a terminal

| @LIST-DEVICE 51.0 | Get the terminal number by giving the @WHO command. BAK03 has reserved this terminal. |
|-------------------|-------------------------------------------------------------------------------------|
| RESERVED BY: BAK03 |                                                                                     |

| @LIST-RT-DESCRIPTION BAK03 |             |
|----------------------------|-------------|
| BACKGROUND PROGRAM         |             |
| ACTIVE I/O WAIT            |             |

| SEGMENTS 1 AND 2 | REENT | NPIT | APIT | RING | PRIORITY |
|------------------|-------|------|------|------|----------|
| INITIAL          | 3B    | 1374B | 11B  | 7B   | 2        | 100B     |
| ACTUAL           | 1375B | 1374B | 5B   | 7B   | 2        | 41B      |

The initial segments for the background process are the segments used by the background process when it is activated. Segment 1 is the terminal's data segment when an ND-100 program is run, and segment 2 is always the system segment. When a SINTRAN command is given, the data segment is exchanged with segment number 3, the SINTRAN command segment. If the file system is called from the background program, the data segment is exchanged with segment number 6; the SINTRAN file system segment.

### Example continued

| @RT-LOADER | The RT-Loader can be used for checking that you have found the correct segments. |
|------------|----------------------------------------------------------------------------------|

REAL TIME LOADER, SINTRAN III VSX - K

```none
*WRITE-SEGMENT 1374,,

| SEG. NO. | SEG. NAME | LOWER ADDR. | UPPER ADDR. |  |
|----------|-----------|-------------|-------------|--|
| 1374     | 130000    | 141777      |             | This address range corresponds to 5 pages. It is the system segment. |

*WRITE-SEGMENT 1375,,

| SEG. NO. | SEG. NAME | LOWER ADDR. | UPPER ADDR. |  |
|----------|-----------|-------------|-------------|--|
| 1375     | 000000    | 377777      |             | This address range corresponds to 128 pages. It is the data segment. |
```

Norsk Data ND-30.003.7 EN

---

## Page 114

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

If the SINTRAN feature **Background Allocation** is used in your configuration, there is no fixed connection between a background program and a terminal. Background allocation means that the first free background program is allocated for the user at the time of logging in. When logging out, the background program is released. You must therefore change the background segment size for all background programs if you have decided to change the size for a particular terminal.

---

### 3.3.5 Initializing the MAIL system  

The SINTRAN mail system is initialized by the command:  

**\*INITIALIZE <max. no of messages\>**

The parameter is the maximum number of unread messages that can be stored in the mailbox file. When the INITIALIZE command is given, all existing messages are lost. A maximum of 10 or 20 messages should in most cases be sufficient.

After the INITIALIZE command is given, the MAIL system is started by the command  

**\*RUN-MAIL-SYSTEM\***

The file `(SYSTEM)MAILBOX:DATA` contains the unread messages. It should not be inspected by the editors PED or NOTIS-WP but only by the commands in the MAIL system.

---

### 3.3.6 Reentrant subsystems  

Reentrant subsystems are normal programs (file types :PROG or :BPUN) that are loaded "permanently" onto the segment file.

If an ordinary ND-100 program is started, the file containing the program is copied onto the background data segment of the terminal demanding the program. If another user starts the same program, s/he also gets a new copy of the same program. The result is more than one copy of the same program on the segment file.

The advantage of a reentrant subsystem is the fact that it is always present on a segment. No copying onto the background program is needed before starting it. It is therefore started rapidly.

Norsk Data ND-30.003.7 EN

---

## Page 115

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

The reentrant segment is not owned by a particular user but is a common resource for everybody. All users share the program code of the reentrant subsystem. Thus, reentrant subsystems save pages in memory when more than one user runs the program at the same time. You are therefore strongly advised to make reentrant subsystems of the programs that are frequently used by many users simultaneously. The maximum number of reentrant subsystems in a system is 75.

The following command establishes an ordinary ND-100 program (file type :PROG) as a reentrant subsystem:

```
@DUMP-PROGRAM-REENTRANT <name> <file name> [<segment name/number>]
```

The name is used later on to identify the reentrant subsystem. A reentrant subsystem is started by simply giving this name or an unambiguous abbreviation of it to SINTRAN. If the name is also a legal abbreviation of a command name, it must be started by the command @RECOVER.

After an arbitrary text string is given to SINTRAN, the search strategy is:

- command table
- reentrant subsystem table
- files with file type :PROG on the user's default directory
- files with file type :PROG on user SYSTEM's default directory

If the text string contains user name specifications in parentheses, the search is limited to this user's files with file type :PROG.

User SYSTEM must have read access to the file at the moment it is dumped. The program is dumped onto the first unused segment on the segment file. The RT-Loader is activated after the command is given to SINTRAN.

### Making a reentrant subsystem out of an ordinary program

| Command | Description |
|---------|-------------|
| `@DUMP-PROGRAM-REENTRANT PLANC,(UTILITY)PLANC-100::PROG` |  |
| `@PLANC` | The simplest way of starting the subsystem. |
| - ND-100 PLANC COMPILER | ... |
| `@RECOVER PLANC` | Another way to start the subsystem. |
| - ND-100 PLANC COMPILER | ... |

Norsk Data ND-30.003.7 EN

---

## Page 116

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

If the program to be dumped is in BPUN format (file type :BPUN - Binary PUNched), another command must be used to make a reentrant subsystem out of it:

```
@DUMP-REENTRANT <name> (<start address>) (<restart address>) 
<file name> [<segment name/number>]
```

You should find the start and restart addresses documented on the PD sheets delivered with the ND software products. If the command `@CONTINUE` is used, the subsystem is executed from the restart address. See also appendix H.4 for a relevant example.

### Making a reentrant subsystem out of a program in BPUN format

```
@DUMP-REENTRANT ASSEMBLER,,(BPUN-FILES)ASSEMBLER-500:BPUN
```

| The user BPUN-FILES is usually created in all systems to keep the files in BPUN format. |

```
@ASSEMBLER
ND-500 ASSEMBLER ...
```

The following command removes a reentrant subsystem from the reentrant subsystem table and clears the reentrant segment on the segment file:

```
@DELETE-REENTRANT <name>
```

### Deleting a reentrant subsystem

```
@DELETE-REENTRANT ASSEMBLER
```

| Deleting the subsystem. |

```
@ASSEMBLER
"ASSEMBLER"
NO SUCH FILE NAME
```

| It is no longer available. |

Norsk Data ND-30.003.7 EN

---

## Page 117

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III  

Some of the application programs developed by ND (e.g. COSMOS) make use of another SINTRAN feature:  

### @DEFINE-REENTRANT-PROGRAM `<name>` `<start address>` `<segment name/number>` `<restart address>`

When the command is given, the reentrant subsystem must already have been loaded onto a segment by the RT-Loader. This is an alternative way of making a reentrant subsystem. This command can be used to define more than one subsystem (with different entry points) at the same segment.  

#### Example of how COSMOS uses the @DEFINE-REENTRANT-PROGRAM  

| Command |
|---------|
| @DUMP-PROGRAM-REENTRANT CONNECT-TO (UTILITY)COS-CONN-TO:PROG CCT |
| @DEFINE-REENTRANT-PROGRAM LIST-SYSTEMS 2 3 CCT |

The segment called CCT is defined and loaded by the RT-Loader by the first command. The second command defines the name "LIST-SYSTEMS" as an alias for the same segment. Owing to the different start addresses for the two reentrant systems, the subsystem LIST-SYSTEMS is only a command within the CONNECT-TO program.

The command

### @LIST-REENTRANT `<subsystem name>`

is used for listing available subsystems. This command is available for all users.

---

### 3.3.7 The ND500-HENT file  

The ND500-HENT mode file is normally included from the HENT-MODE file. An example of such a file is given in appendix H.5. These standard tasks are performed by the mode file:  

- Define the ND-500 Monitor as a reentrant subsystem.  
- Defining standard domains. The number of standard domains to be defined and which to select depends on the configuration.  
- Defining swap file(s).  

Norsk Data ND-30.003.7 EN

---

## Page 118

# 3.3.8 Ordinary domains and standard domains

An executable program on ND-500 is called a domain. A domain is made up of logical segments. These segments are placed on files under the users who have created them. An ordinary ND-500 program can only be started via the ND-500 Monitor.

## Example of starting an ordinary domain

```
@ND-500-MONITOR

This is how to start the ND-500 Monitor after it has been defined as a reentrant subsystem.
```

```
N500: LIST-DOMAIN

DOMAIN NAME: (DOMAINS)
```

| Domain no. | Domain Name       |
|------------|-------------------|
| 0          | SCRATCH-DOMAIN    |
| 1          | LINKAGE-LOADER    |
| 2          | PED-500-EN        |
| 3          | FORTRAN-500       |

The domains available under DOMAINS.

```
N500: (DOMAINS)PED

Starting a domain that belongs to DOMAINS.
```

```
@ND-500-MONITOR (DOMAINS)PED

This is an alternative way of starting the same domain from SINTRAN mode. The ND-500 Monitor becomes more or less invisible, and you return to SINTRAN after program execution. This can often be abbreviated to @END <domain name>.
```

It is possible to define ordinary domains as standard domains. A standard domain is a domain that is known to SINTRAN. This means you do not need to enter the ND-500 Monitor to start such a domain. The names of the standard domains are placed in the reentrant subsystem table. The start-up time for a standard domain is about the same as for an ordinary domain for the first user who starts it. The second user who starts the same domain saves some initialization time. The number of standard domains is limited to 64.

---

Norsk Data ND-30.003.7 EN

---

## Page 119

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### Example of defining a standard domain

```
@ND-500-MONITOR

N500: DEFINE-STANDARD-DOMAIN

STANDARD DOMAIN NAME: MY-PED

DOMAIN NAME: (DOMAINS)PED-500

N500: EXIT
```

> The name becomes an alias for PED-500.

> User name and domain name for the owner of the domain.

```
@LIST-REENTRANT

START RESTART SEGMENT NAME

0B 0B 114B PERFORM

ND-500 STANDARD DOMAIN: MY-PED
```

> Both reentrant ND-100 programs and ND-500 standard domains are listed.

```
@MY-PED
```

> The program is now started directly from SINTRAN.

---

The ND-500 Monitor command `LIST-STANDARD-DOMAINS` can also be used to find the standard domains. In addition, it gives information about related file names referred to by the domain.

The command `DELETE-STANDARD-DOMAIN <domain name>` removes the definitions of a standard domain. The SINTRAN command `@DELETE-REENTRANT` cannot be used because it is necessary to delete more than the domain from the reentrant subsystem table.

Ordinary end-users do not often need know about the ND-500 Monitor at all. If they use only a small number of ND-500 programs these can be defined as standard domains.

The user DOMAINS is normally present in an ND-500 configuration to keep the ND-supported application programs for ND-500. See appendix H.6 for an example of a mode file used for defining the standard domains in a cold start.

The standard-domain feature also makes it easier to control which domains public users are allowed to run. If public users are not allowed to enter the ND-500 MONITOR, they are only able to run standard domains. In the SINTRAN Service program, it is possible to set the command protection both for commands and programs defined in the reentrant subsystem table.

---

Norsk Data ND-30.003.7 EN

---

## Page 120

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

### How to make the ND-500 Monitor inaccessible for public use

```
@SINTRAN-SERVICE-PROGRAM

*SET-COMMAND-PROTECTION  
COMMAND: ND-500-MONITOR  
PROTECTION (SYSTEM, RT OR PUBLIC): RT  
MEMORY? Y  
SAVE-AREA? Y  

This definition survives a cold start.  
*EXIT  
```

The reentrant subsystem ND-500 Monitor is now only accessible from user RT and SYSTEM. The error message "PROTECTED COMMAND" is the result if any public user tries to run the domain.

When deleting ND-500 domains or copying them to another user, they must be handled somewhat differently from ND-100 programs. To help you to understand why this is, a short explanation of domains follows.

A domain can consist of up to 32 program segments and 32 data segments. Each program or data segment is stored on a separate file of file type `:PSEG` or `:DSEG`, respectively.

A program segment consists of pure code (machine executable instructions) and a data segment of data and variables.

Information about how these segments are linked together is stored on the file with name `<domain name>:LINK`. There is one file for each domain.

The information about where the different files associated with a domain are stored, is found in the `DESCRIPTION-FILE:DESC`. There is one such file for each user owning domains. All domains owned by the user are described in this file. Figure 27 gives an overview of the files that a domain consists of.

Norsk Data ND-30.003.7 EN

---

## Page 121

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Domain information : MY-DOMAIN
(a part of the description file)

#### Link information : MY-DOMAIN:LINK

| File type | Program segment | Data segment | File type |
|-----------|-----------------|--------------|-----------|
| :PSEG     | Program segment x | Data segment x | :DSEG     |
|           | Program segment y | Data segment y |           |
|           | Program segment z | Data segment z |           |

*Figure 27. How a domain is organized on files*

Standard domains have the same type of information as found in the description file stored on a system-included segment on SEGFILE0 (segment number 20B).

A domain's files should never be deleted by the SINTRAN command `@DELETE-FILE`. If one of these files is deleted, it is no longer possible to run the domain, and it has to be reloaded. Instead, the Linkage-Loader is used for loading and maintaining ND-500 programs. When a domain is deleted or moved to another user, the DESCRIPTION-FILE:DESC has to be updated. This is why dedicated commands in the Linkage-Loader should be used for deleting and copying domains. If the DESCRIPTION-FILE for a user is deleted, none of the user's domains can be run.

Norsk Data ND-30.003.7 EN

---

## Page 122

# How to delete a domain

| Command         | Description                                                         |
|-----------------|---------------------------------------------------------------------|
| N500: LINKAGE-LOADER | ND-Linkage-Loader |
| N11: LIST-DOMAIN    |   |
| Domain no. 0 | SCRATCH-DOMAIN |
| Domain no. 1 | MY-OLD-PROGRAM |
| N11: DELETE-DOMAIN  | The domain's files are deleted and the description file updated. |
| Domain-name: MY-OLD-DOMAIN |   |

# How to copy a domain from user A to user B

This procedure should be used if the user receiving the copy already has a DESCRIPTION-FILE:DESC. It is good practice to log in as the user receiving the domain. This user must have read-access to all domain files to be copied.

| Command              | Description                                                                 |
|----------------------|-----------------------------------------------------------------------------|
| @END LINKAGE-LOADER  |                                                                             |
| N11: COPY-DOMAIN     |                                                                             |
| Source domain: (A)TEST-DOMAIN | The domain is created by appending double quotes to the domain name. |
| Destination domain: "TEST-DOMAIN" |                                                             |

If you are copying domains between computers, e.g. new applications from a floppy diskette, you should copy to a user with no domains.

# How domains can be copied to a user without domains

| Command               | Description                             |
|-----------------------|-----------------------------------------|
| N500: LIST-DOMAINS    | Use this command to find a user with no domains. |
| N500: EXIT            |                                         |

Copy the files by @COPY-FILE, BACKUP-SYSTEM or the COSMOS program TRANSFER-FILE. Copy all the domain files and the description file. The description file still contains the definitions valid for the user the domain is copied from. This must be corrected.

Norsk Data ND-30.003.7 EN

---

## Page 123

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### Example continued

```
@ND_LINKAGE-LOADER

N1: RENAME-DEFAULT-DIRECTORY-AND-USER
(New-directory;new-user): (PACK-ONE:B)
```

Give the directory name and user name in full. The parentheses must not be omitted.

Now, the command N500: COPY-DOMAIN should be used for copying to the user who is to own the domain, i.e. DOMAINS.

---

### 3.3.9 ND-500 Swap files (ADVANCED)

When ND-500 domains are executed, they need, like the ND-100 programs, room on a disk to which they can be swapped. The disk-swapping files should conventionally be called SWAP-FILE-0:SWAP ... SWAP-FILE-3:SWAP. This makes it possible to have 4 swapping files. The files must occupy contiguous areas on the disk (similar to ND-100 segment files). They can belong to any user on any directory, but user SYSTEM must have read and write access to these files. This means they need not be placed on the system disk.

It is difficult to estimate how many pages the swapping files should have. This always depends on the number of users simultaneously using the ND-500 and on the amount of space used by the domains they run. You must also consider how much disk space you can afford, taking the disk size into account. It is normal to use between 5000 and 10000 disk pages for swapping in a medium-sized ND-500 system with about 20 to 30 simultaneous users. This corresponds to approximately 10-20 MB swapping-pages.

---

Norsk Data ND-30.003.7 EN

---

## Page 124

# How to create a ND-500 swapping file

```
@CREATE-FILE SWAP-FILE-1:SWAP
NUMBER OF PAGES: 2000
```

This is the second swapping file. The first exists already. This file becomes contiguous.

```
@ND-500-MONITOR
N500: DEFINE-SWAP-FILE
File name: SWAP-FILE-1
N500: LIST-SWAP-FILE-INFO
Swap file number: 1
```

To ensure yourself that everything is correct.

|                          |                          |
|--------------------------|--------------------------|
| SWAP-FILE-NUMBER:        | 1                        |
| SWAP-FILE-NAME:          | (PACK-ONE:SYSTEM)SWAP-FILE-1:SWAP |
| SIZE IN PAGES:           | 2000                     |

The ND-500 must be restarted to make the swapper use the new swapping file. Never delete a swapping file that is currently being used by ND-500.

Only a small part of an ND-500 segment using its total address range can be placed in physical memory at any time. The addressing range for a segment is 27 bits, which corresponds to 64K pages (more than 130 MB!). In addition, a domain can refer up to 32 program segments and 32 data segments altogether.

The ND-500 CPU has its own swapper process, which always runs as process 0 under the ND-500 Monitor. Its pages are resident in memory. They are never swapped out! When the computer is warm-started, the swapper process is copied from the files (SYSTEM)SWAPPER:PSEG and (SYSTEM)SWAPPER:DSEG to physical memory.

The swapping strategy of the ND-500 is different from the one SINTRAN uses. The hardware architecture guarantees that the program and data is always separated on different segments, and the main swapping strategy is determined at load time.

Norsk Data ND-30.003.7 EN

---

## Page 125

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

```
 ------------------------------- 
|            DISK FILES:        |
|                               |     
|         ____________          |
|        | SWAP-FILE-1:SWAP |   |
|        | ----------------- |  |
|        | SWAP-FILE-2:SWAP |   |
|        | ----------------- |  |  
|         -------------------   |  
|                               |  
|         MY-DOMAIN:PSEG        |  
|         MY-DOMAIN:DSEG        |  
 -------------------------------  
```
```
--------------------------------   
| PHYSICAL MULTIPORT MEMORY:   |    
|  __________________________  |     
| | ND-500 Swapper           | |  
| | (process 0)              | |     
| | ------------------------ | |  
| | Other system info.       | |   
| | ------------------------ | |   
| | Memory area to shared    | |   
| | between simultaneously   | |  
| | running processes.       | |  
|  --------------------------  |  
--------------------------------  
```

*Figure 28. Execution of a ND-500 domain (as seen from ND-500)*

A domain cannot contain any local data that can change contents. The program segments of a domain need therefore never be written back when a program page in memory is to be exchanged with another. There will only be one copy of the same program segment page in memory, even if more than one user at a time refers to it.

By specifying different segment attributes at load time, the swapping of the data segment takes place either on the system-defined swapping file or on the original data segment itself. Default is the system-defined swapping file, and this is also widely used by application programs supported by ND. Most domains consist of only one program segment and one data segment. User-developed domains usually have one or more library segments.

As the domains can take up quite a lot of room, swapping-files defined by the system must be allocated several swapping-pages. If two or more users run the same domain, each has a separate copy of the domain's data segment on the swapping file.

Norsk Data ND-30.003.7 EN

---

## Page 126

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III  

An example of how to find out how much swapping space a domain uses  

@LINKAGE-LOADER  
The Linkage-Loader can be used to find information about segments.  

Nil: LIST-SEGMENT  
Domain-name: PED-500  
Segment-name: (DOMAINS)  

Give only the domain name as 1st parameter the 2nd can contain directory and user name identification.  

| Domain no. | Segment no. |  
|------------|-------------|  
| 9:PED-500-ENG-K | 1: (PACK-ONE:DOMAINS)PED-500-ENG-K xxxxP 144770D WC |  

| :PSEG address range | :DSEG address range |  
|---------------------|---------------------|  
| segment attributes  | segment attributes  |  

Segment attributes:  

W = Write is allowed into the data segment (default)  
R = Read but NOT write is allowed into data segment  
C = Copying onto system defined swapping file (default)  
O = Original data segment is used as swapping file  

Nil: EXIT  

@FILE-STATISTICS (DOMAINS)PED-500:DSEG  
26 PAGES , 51705 BYTES IN FILE  

In this example, each user who runs PED-500, occupies 26 pages on the system-defined swapping file.  

Norsk Data ND-30.003.7 EN

---

## Page 127

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### 3.4 Loading SINTRAN from floppy diskettes

If a new SINTRAN version or a new patch file is delivered, you will need to load SINTRAN into your system from floppy diskettes.

The patch file contains updates (corrections and enhancements) of SINTRAN. It is necessary to install the patches on a fresh copy of SINTRAN. The patch file should always be run to make sure your system has the latest updates.

If you have a standard configuration of SINTRAN VSX, you must remember to run the S3-Configuration program after loading (see section 3.5).

The next pages describe the VSE- and VSX-dependent part of the load procedure.

---

Loading SINTRAN III version K from floppy (both VSB and VSX)

|                                                       |
|-------------------------------------------------------|
| Stop the processes in your system. Find out the device name of your main directory (containing SINTRAN.) |

```
©DIRECTORY-STATISTICS.

DIR INDEX 0 : DISC-70MB-1 UNIT 0 : PACK-ONE 
(MAIN AND DEFAULT DIRECTORY)             Here is your system disk!
...

DIR INDEX 40: FLOPPY-DISC-1 UNIT 0: MY-FLOPPY
```

You must also know the **CPU number** of your system. Take a look at your confirmed SINTRAN order from ND, or use the SINTRAN command `@LIST-TITLE`. All ND computers have a unique CPU number assigned by ND. It is also called **system number**.

---

Norsk Data ND-30.003.7 EN

---

## Page 128

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example Continued

| @LIST-TITLE           | @LIST-TITLE           |
|-----------------------|-----------------------|
| SINTRAN III - VSX/500 K | SINTRAN III - VSE K   |
| ND-570/CX - SAMBA     | ND-100/VSE - MAMBA    |
| REVISION:              | REVISION:             |
| OB                    | OB                    |
| CPU (SYSTEM NUMBER):   | CPU (SYSTEM NUMBER):  |
| 6586                  | 755                   |

Your CPU number.

---

**NOTE!** If you make any mistake during the loading of SINTRAN, start again from this point!

### Example Continued

@STOP-SYSTEM

OPCOM is entered. You should have a # on the console terminal. Do the operator functions (refer chapter 2):

**STOP**  **MCL**

Wait a few seconds for the second # to be displayed.

Insert the SINTRAN floppy diskette 1 (N-<system no>-I) into the floppy disk drive, unit 0 (FLOPPY-DISC-1).

---

**NOTE!** In the following, all characters that shall be TYPED by you are shown, including "CR".

---

**NOTE!** VSE EXAMPLE CONTINUES ON PAGE 116.

---

Norsk Data ND-30.003.7 EN

---

## Page 129

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

---

### Example continued for SINTRAN VSX

`#1560&`

|        |                                          |
|--------|------------------------------------------|
| MACM-1718-0 | MACM is now loaded from the floppy disk. |

APR 25, 1986

---

### GIVE DISK TYPE AS ONE OF THE FOLLOWING OCTAL NUMBERS:

For some disk types, alternative disk types are given in parentheses. The alternatives differ only in disk storage capacity.

| Number | Type                                  | Alternative                 |
|--------|---------------------------------------|-----------------------------|
| 0      | DISC-14MB                             |                             |
| 1      | DISC-21MB                             |                             |
| 2      | DISC-23MB                             |                             |
| 3      | DISC-28MB                             |                             |
| 4      | DISC-30MB                             | (DISC-60MB/DISC-90MB)       |
| 5      | DISC-33MB                             |                             |
| 6      | DISC-38MB                             |                             |
| 7      | DISC-45MB                             |                             |
| 10     | DISC-66MB                             |                             |
| 11     | DISC-70MB                             | This is the device name used for this example, it is the main directory. |
| 12     | DISC-74MB                             |                             |
| 13     | DISC-75MB                             |                             |
| 14     | DISC-140MB                            | (DISC-2-70MB)               |
| 15     | DISC-2-75MB                           |                             |
| 16     | DISC-288MB-R                          | (DISC-225MB-R/DISC-3-75MB/DISC-4-70MB-R) |
| 17     | DISC-288MB-F                          | (DISC-4-70MB-F)             |
| 20     | DISC-450MB                            | (DISC-2-225MB/DISC-6-70MB-F)|

If you specify the wrong disk type, this can sometimes be redefined. Disk type 11, for instance, can be redefined to type 6 or 13.

---

### DISK TYPE: 11

INITIALIZED FOR:  
DISC-38MB-1, DISC-70MB-1, DISC-75MB-1

### REMEMBER THE MACM COMMANDS:

- `)REDEF` => REDEFINE DISC TYPE
- `)HENT` => GET SINTRAN FROM SAVE-AREA
- `22↑` => START SINTRAN
- `10.0S` => LOAD SINTRAN FROM DISKETTE

#### TYPE ANY MACM COMMAND:

`10.0S`  
Loading SINTRAN from a floppy diskette.

---

```plaintext
%============================================================%
%== SINTRAN-III/VSX VERSION K LOAD SINTRAN-DISKETTE-I ==%
%============================================================%
```

A list of available patch macros is displayed.

---

Norsk Data ND-30.003.7 EN

---

## Page 130

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

If you have a SINTRAN system delivered on single side/single density floppies, repeat this procedure for SINTRAN floppies II, III and IV:

- Replace the inserted SINTRAN floppy diskette with the next one when asked for by the MACM program.
- Give the command `10,0$`. Some of the information below is related to our example with only 2 SINTRAN floppy diskettes.

### Example continued for VSX

```
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%% THE SINTRAN III SYSTEM MAY NOW BE STARTED BY TYPING: 22!
%%
%% LATER COLD STARTS MAY BE DONE EITHER BY LOADING MACM FROM
%% SINTRAN DISKETTE I, TYPE: )HENT (CR), WAIT FOR LINE FED AND
%% TYPE: 22!, OR BY PERFORMING THE SINTRAN COMMAND: COLD-START
%%
%% THIS DISKETTE ALSO CONTAINS A PROGRAM CALLED NEW-SYSTEM. THIS
%% PROGRAM SHOULD BE STARTED AS SOON AS THE THE MAIN DIRECTORY HAS
%% BEEN ENTERED. THE PROGRAM WILL GUIDE YOU THROUGH SOME OF THE
%% PROCEDURES THAT HAVE TO BE PERFORMED AFTER LOADING A NEW SYSTEM.
%%
%% DISKETTE II CONTAINS THE SYMBOL-LISTS FOR YOUR SYSTEM.
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
```

| LINE             |                                              |
|------------------|----------------------------------------------|
| **** 000000 DIAGNOSTICS **** | If you do not get 000000 diagnostics, try again from the NOTE! |
| 22!               | SINTRAN will now be started in a minute or two! |

The same system information as shown for the cold start will be displayed.

Norsk Data ND-30.003.7 EN

---

## Page 131

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

### Example continued for VSX

#### SINTRAN III RUNNING

- ESC
  - Ordinary logging in.

- ENTER ↓ PASSWORD: ↓
  - Just give CR when SINTRAN asks for user name and password.

- NO MAIN DIRECTORY OK

- @ENTER-DIRECTORY↓
  - DIRECTORY-NAME: PACK-ONE↓
  - DEVICE-NAME: DISC-70MB-1↓
  - DEVICE-UNIT: 0↓

  ```
  Enter the main directory. The parameters are the same as what you noted in the beginning of the procedure.
  ```

Log out and in again as user SYSTEM. Use password this time.

If you have only two SINTRAN floppy diskettes, insert number II in the floppy drive. Otherwise insert number V.

### Example continued for VSX

- @ENTER-DIRECTORY, FLOPPY-DISC-1,0↓

- @Ⓔ(N:SYSTEM)NEW-SYSTEM↓
  - Start the NEW-SYSTEM program.

#### SINTRAN-III K-version VSX installation MAY 12, 1986

| Parameter        | Value                                      |
|------------------|--------------------------------------------|
| CPU number       | 5000                                       |
| Computer         | ND-100 with 32 bit floating point arithmetic |
| Instruction set  | Commercial extended with "micro segadm" (CX)|
| Operating system | SINTRAN-III VSX-500 K-version              |
| Revision level   | 000000                                     |
| Generated        | 86. 5.15                                   |

Time according to SINTRAN: 23.53.28 2 JUNE
- Do you want to update the clock (def=NO)? N↓

```
This is not so very important at the moment!
```

* * *

Norsk Data ND-30.003.7 EN

---

## Page 132

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III  

## Example continued

Creating files for symbol-lists/tadadm/fmac/dmac...  
Copying files from SINTRAN floppy(ies) to user SYSTEM...  
Copying...FILSYS-SYMBOLS:SYMB  
Copying...RTLO-SYMBOLS:SYMB  
Copying...FMAC-1920C:PROG  
Copying...DMAC-1915F:BPUN  
Copying...COS-TADADM:BPUN  
Copying...SYMBOL-1-LIST:SYMB  
Copying...SYMBOL-2-LIST:SYMB  
Copying...LIBAARY-MARKS:SYMB  
Copying...N500-SYMBOLS:SYMB  

| Note |                                                              |
|------|--------------------------------------------------------------|
|      | If you have 6 SINTRAN floppies, you are asked to change floppy diskette before continuing here! |
|      | Only needed if this is an ND-500 computer.                   |

The copied files are very important to be able to run SINTRAN. They assign values to symbolic constants used in the different SINTRAN parts. FMAC and DMAC are special versions of MAC.

## Example continued for VSX

Checking CPU number ... Wait ...  
> Give CPU number (in decimal): 6586  
--- OK  
Checking CPU type ... Wait ...  
> Give CPU type (in decimal):  
--- OK  

| Note |                                                              |
|------|--------------------------------------------------------------|
|      | The correct CPU number for SAMBA! You can also change the CPU number (if you need to for any reason). |

If ND has given you a CPU type (see your SINTRAN order), then you must give this as input here! The CR given above means that no CPU type was assigned for SAMBA!

> Do you want to run the patch-file (def=Y)? Y  
> Defining SEGFILE and loading DMAC (def=Y)? Y  

It is strongly recommended that you now run the patch file after SINTRAN has been loaded (to correct all known errors and add modifications.

Norsk Data ND-30.003.7 EN

---

## Page 133

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

**NOTE!** If any errors have been diagnosed after running the patch file, you should try to load SINTRAN once more!

---

**NOTE!** If you have additional patches to the system, they should be added now! Appendix H.7 gives an example of such a file. It defines important terminal parameters.

If you have a standard version of VSX, you may now change the configuration of your system by using the S3-Configuration program. If you have not already copied the program onto your disk, install the floppy diskette containing it, and give the following commands:

| Example continued for VSX                                     |
|---------------------------------------------------------------|
| @ENTER-DIRECTORY 211024\_FLOPPY-DISC-1\_0J                    |
| @COPY-FILE "S3-CONFIGURATION:PROG" (211024:):S3-CONFIG:PROG\| |

Turn to section 3.5 for information on how to use this program. You should at least adjust the number of background processes, spooling programs and ND-500 processes, and define spooling device numbers.

Do an ordinary cold start (i.e. @COLD-START followed by run of HENT-MODE.) If you get disk space problems, you have probably loaded a more space-consuming SINTRAN configuration or forgotten to define the necessary segment files.

---

Norsk Data ND-30.003.7 EN

---

## Page 134

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example continued for VSE

Insert the SINTRAN floppy diskette 1 (N-<system no>-1) into the floppy disk drive, unit 0 (FLOPPY-DISC-1).

```
#1560& MACM is now loaded from the floppy diskette.
```

```
MACM-1718-0
```

APR 25, 1986

INITIALIZED FOR:

| DISC-38MB-1 | DISC-70MB-1 | DISC-75MB-1 |
|-------------|-------------|-------------|

REMEMBER THE MACM COMMANDS:

```
)REDEF => REDEFINE DISC TYPE
)HENT => GET SINTRAN FROM SAVE-AREA
22↑ => START SINTRAN
10,0$ => LOAD SINTRAN FROM DISKETTE
```

Legal MACM commands.

TYPE ANY MACM COMMAND:

```
10,0$ Loading SINTRAN from floppy diskette.
```

```
%%==================================================================
%% SINTRAN-III/VSE VERSION K LOAD SINTRAN-DISKETTE-1
%%==================================================================
```

A list of available patch macros is displayed.

---

If you have a SINTRAN system delivered on single-sided/single-density floppies, repeat this procedure for SINTRAN floppy diskettes II, III, and IV:

- Replace the inserted SINTRAN floppy diskette with the next one when asked for by the MACM program.

- Give the command `10,0$`. Some of the information below is related to the example with only 2 SINTRAN floppy diskettes.

Norsk Data ND-30.003.7 EN

---

## Page 135

# SINTRAN III SYSTEM SUPERVISOR

## STOPPING, STARTING AND LOADING SINTRAN III

### Example continued for VSE

```
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
%  THE SINTRAN III SYSTEM MAY NOW BE STARTED  %
%  BY TYPING: 221                             % 
%                                             %
%  LATER COLD STARTS MAY BE DONE EITHER BY    %
%  LOADING MACM FROM SINTRAN DISKETTE I,      %
%  TYPE: }I;ENT (CR), WAIT FOR LINE FEED AND  %
%  TYPE: 221, OR BY PERFORMING THE SINTRAN    %
%  COMMAND: COLD-START                        %
%                                             %
%  THIS DISKETTE ALSO CONTAINS A PROGRAM      %
%  CALLED NEW-SYSTEM. THIS PROGRAM SHOULD BE  %
%  STARTED AS SOON AS THE MAIN DIRECTORY HAS  %
%  BEEN ENTERED. THE PROGRAM WILL GUIDE YOU   %
%  THROUGH SOME OF THE PROCEDURES THAT HAVE   %
%  TO BE PERFORMED AFTER LOADING A NEW SYSTEM.%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
```

#### LINE

| **** 000000 DIAGNOSTICS **** | If you do not get .000000 diagnostics, try again from the NOTE! |
|------------------------------|----------------------------------------------------------------------|

#### 221
SINTRAN will now be started in a minute or two!

The same system information as shown in the cold start is displayed.

### SINTRAN III RUNNING

| ESC | Ordinary logging in. |
|-----|----------------------|

| ENTER ʞ<br>PASSWORD: ʞ<br>NO MAIN DIRECTORY<br>OK | Just give CR when SINTRAN asks for user name and password. |

| @ENTER-DIRECTORY;<br>DIRECTORY-NAME: PACK-ONE;<br>DEVICE-NAME: DISC-70MB-1;<br>DEVICE-UNIT: 0; | Enter the main directory. The parameters are the same as you noted in the beginning of the procedure. |

Logout and in again as user SYSTEM. Use password this time.

If you have only two SINTRAN floppy diskettes, insert number II in the floppy drive. Otherwise insert number V.

---

Norsk Data ND-30.003.7 EN

---

## Page 136

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

Example continued for VSE

```
@ENTER-DIRECTORY, FLOPPY-DISC-1.0#
@(N:SYSTEM)NEW-SYSTEM#
```

| | |
|---|---|
| CPU number | 755 |
| Computer | ND-100 |
| Instruction set | SINTRAN VSE |
| Operating system | SINTRAN-III VSE K-version |
| Revision level | 000000 |
| Generated | 86. 6. 6 |

Start the NEW-SYSTEM program.

**SINTRAN-III K-version VSE installation MAY 12, 1986**

MAMBA has been generated with the same CPU number as before.

```
Time according to SINTRAN: 24.50.20 2 JUNE
Do you want to update the clock (def=NO)? N
```

This is not so very important at the moment!

Creating files for symbol-lists/tadadm/fmac/dmac

Copying files from SINTRAN floppy(ies) to user SYSTEM...

```
Copying... FILSYS-SYMBOLS:SYMB
Copying... RTLO-SYMBOLS:SYMB
Copying... FMAC-1920C:PROG
Copying... DMAC-1915F:BPUN
Copying... COS-TADADM:BPUN
Copying... SYMBOL-1-LIST:SYMB
Copying... SYMBOL-2-LIST:SYMB
Copying... LIBRARY-MARKS:SYMB
```

If you have 6 SINTRAN floppies, you are asked to change floppy diskette before continuing here!

```
Do you want to run the patch-file (def=Y)? Y

Defining SEGFILE and loading DMAC (def=Y)? Y
```

> It is strongly recommended that the patch-file is run after SINTRAN has been loaded, to correct all known errors and make all relevant modifications for this SINTRAN version.

---

**NOTE!** If any errors have been diagnosed after running the patch file, you should try to load SINTRAN once more!

---

**NOTE!** If you have additional patches to the system, they should be added now! Appendix H.7 gives an example of such a file. It defines important terminal parameters.

---

Norsk Data ND-30.003.7 EN

---

## Page 137

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

You must now carry out an ordinary cold start (@COLD-START). If you get disk space problems on the segment file SEGFILE0 you have probably ordered a configuration that takes up more space on the disk.

## 3.5 Configuration program

The SINTRAN III Configuration Program (ND-211024) is available to make changes in important system parameters in a generated system of SINTRAN III/VSX version K. The program is installed together with SINTRAN and is started by the @RECOVER command: `ES3-CONFIGURATION` in just the same way as other programs.

Use of the program is restricted to user SYSTEM only. The configuration program is a screen-oriented program, but may also be run on a hard-copy terminal. The program requires that the file DDBTABLES:VTM containing terminal-dependent definitions is present on user SYSTEM.

The program has 9 commands. There are 4 commands for selecting a menu of configuration parameters which may be changed:

- BACKGROUND
- IO-COMM
- LAMU
- VARIOUS

There is a command to display the value of parameters which may not be changed:

- DISPLAY

In addition, there are 4 utility commands:

- PRINT  
  prints a report of the current configuration.

- GENERATE  
  saves the changed configuration.

- HELP  
  displays help information on the screen.

- EXIT  
  exits back to SINTRAN.

Norsk Data ND-30.003.7 EN

---

## Page 138

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

You use the arrow keys, (←) or (→), or the first letter of a command name to navigate between commands (similar to ND's screen-oriented editors).

If you select a command with variable parameters, use the CR key (↵) to enter the menu of parameters, and use the arrow keys, (↑) or (↓), to navigate. When finished, use the EXIT key, or the "Home" key (↖) to exit from the menu.

You are only allowed to navigate and alter the values in the column called "Input". Another column, "Max", shows the maximum values that can be used for this generated version of SINTRAN. The values you give are checked for validity. If more than the maximum value of a parameter is needed, you must order a new version of SINTRAN.

The HELP key may be used at all times to get information about the current configuration parameter, etc.

Figure 29 gives an overview of how the configuration program affects the different parts of SINTRAN. The **current values** are the current system values used by SINTRAN, the **next values** are the system values that will apply after the next cold start. It is a good idea to generate only slightly more than actually needed of different resources. Too many may be a costly waste of segment file space (for example the number of background programs).

| S3-CONFIGURATION          | SINTRAN memory-area            |
|---------------------------|--------------------------------|
| program                   | (the current active values are here.) |
| save changes              |                                |
|                           |                                |
| S3-CONFIGURATION:CNFG     | SINTRAN image-area             |
| (data for the configuration program) |                      |
|                           |                                |
| generate new configuration | SINTRAN save-area             |
|                           | (the values which become active after next cold start.) |

*Figure 29. The configuration program and the parts of SINTRAN affected*

Norsk Data ND-30.003.7 EN

---

## Page 139

# SINTRAN III SYSTEM SUPERVISOR  
Stopping, Starting and Loading SINTRAN III  

---

> **NOTE!** You must carry out a cold start after having reconfigured your system, in order to put the changes into effect!

---

## 3.5.1 The utility commands

The `PRINT` command will print the current configuration to a file. You will be asked for output file and this parameter has no default value. It is recommended that you do this after you have adapted the generation parameters to suit your needs. Make a paper copy of the output file by sending it to a printer. You can put the printout into appendix A if you like.

The `GENERATE` command will save the changes you have made to the current configuration of SINTRAN in the configuration file. This means that the values in the "input" column replace the values in the column "Next". The save-area of SINTRAN is also updated. You will be asked to confirm that you want to save the changes. Note that you must carry out a cold start to activate the changes because only the save-area is changed.

This command may be given as part of the `@RECOVER` command to run the configuration program:

`@S3-CONFIGURATION GENERATE`

This feature should be used to reconfigure SINTRAN in exactly the same way as before, after loading from diskettes, for example when installing a new patch file.

The `EXIT` command is used to exit from the configuration program. If you have made any changes in the configuration, and the changes have not been saved (by the `GENERATE` command), you will be asked if you want to save the changes.

The `HELP` command will give a brief explanation of the 4 commands used to select menus of configuration parameters which may be changed. You can also ask for help information for any field in the program by using the "HELP" key.

---

Norsk Data ND-30.003.7 EN

---

## Page 140

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### 3.5.2 The selection commands

The **BACKGROUND** command will display a menu of configuration parameters related to background processes. The menu may look like this:

|                                  | Current | Next | Max | (Input) |
|----------------------------------|---------|------|-----|---------|
| Number of TADs                   | 6       | 6    | 50  | 6       |
| Number of batch processors       | 3       | 3    | 10  | 3       |
| Number of spooling programs      | 4       | 4    | 20  | 4       |
| Number of background programs    | 32      | 32   | 151 | 32      |
| Background allocation            | Present |      |     |         |
| Number of symbolic debugger segments | 8 | 8 | 32 | 8 |
| Number of ND-500 processes       | 21      | 21   | 201 | 21      |
| Number of remote file access segments | 16 | 16 | 50 | 16 |
| System segment size              | 5       | 5    | 5   | 5       |
| Mon ADP                          | 0       | 0    | 1   | 0       |

**<Exit>, <Home> or . return**  
**<Help> or ? : field information**

The configuration parameters listed in this menu are:

**Number of TADs:**

Number of terminals on remote systems able to use this system simultaneously (via COSMOS). Each file server needs also a TAD (described in chapter 5).

**Number of batch processors:**

Number of batch jobs to be run at a time.

**Number of spooling programs:**

Number of printers with spooling.

**Number of background programs:**

Number of terminals that can be used simultaneously, if background allocation is present. This should be set to the number of TADs + the number of terminals + the number of telefix devices.

**Background allocation:**

Indicates if the background allocation system is in use. This parameter cannot be changed.

Norsk Data ND-30.003.7 EN

---

## Page 141

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III

## Number of symbolic debugger segments:

Number of simultaneous users of the Symbolic Debugger. This is only needed when there are users who make programs.

## Number of ND-500 processes:

Number of simultaneous users of the ND-500 part. Should normally be equal to "number of background programs" + 1.

## Number of remote file access segments:

Number of simultaneous users of remote file access.

## System segment size:

Size (in pages) of the system segment. This size will affect the number of open files for each user as follows: default size (5) provides 48 file buffers, each additional page (up to total max. of 8) provides 16 buffers. Each open file uses 2 buffers if sequential access, 1 if random access. Maximum number of open files are 64.

## Mon ADP:

Indicates if MON ADP (MON 342) is to be available. (see PD-sheets for products requiring it)

---

**NOTE!** If the Background Allocation System is not present, the "Next" and "Input" fields of "Number of background programs" will not be used.

---

The **Current** value is the value currently used by SINTRAN, the **Next** value is the value which will apply after the next cold start and the **Max** value is the maximum generated for this version of SINTRAN.

---

Norsk Data ND-30.003.7 EN

---

## Page 142

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The `IO-COMM` command will display a menu of some configuration parameters. The menu may look like this:

|                                | Current | Next | Max | (Input) |
|--------------------------------|---------|------|-----|---------|
| Number of HDLC connections     |         | 12   |     |         |
| Number of synchronous modems on HDLC |         | 6    |     |         |
| Number of X.21 connections     | 0       | 0    | 2   | 0       |
| Define spooling device numbers |         |      |     | x       |
| Define HDLC interface as HDLC or modem |         |      |     | x       |
| Define printer type            |         |      |     | x       |

Type \<\> or E to edit these tables  
\<Exit\>, \<Home\> or : return  
\<Help\> or ? field information

The configuration parameters listed in this menu are:

### Number of HDLC connections:

Number of HDLC connection generated for this system.

### Number of synchronous modems on HDLC:

Number of HDLC connections which may be used for synchronous modems.

### Number of X.21 connections:

Number of X.21 connections.

### Define spooling device numbers

### Define HDLC interface as HDLC or modem

### Define printer type

Use the (\<\>) key or E to enter sub-menus for these parameters. See below.

The **Current** value is the value currently used by SINTRAN, the **Next** value is the value which will apply after the next cold start and the **Max** value is the maximum generated for this version of SINTRAN.

The last three configuration parameters in the menu `IO-COMM`, contain tables of values. When you select one of these, a sub-menu is displayed on your terminal.

Norsk Data ND-30.003.7 EN

---

## Page 143

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The sub-menu for the parameter **Define spooling device numbers** may look like this:

| Spooling | Current | Next | (Input) | ... | Spooling | Current | Next | (Input) |
|----------|---------|------|--------|-----|----------|---------|------|--------|
| 1        | 5       | 5    | 5      |     | 2        | 59      | 59   | 59     |
| 3        | 0       | 0    | 0      |     | 4        | 0       | 0    | 0      |
| 5        | 0       | 0    | 0      |     | 6        | 0       | 0    | 0      |
| 7        | 0       | 0    | 0      |     | 8        | 0       | 0    | 0      |
| 9        | 0       | 0    | 0      |     | 10       | 0       | 0    | 0      |
| 11       | 0       | 0    | 0      |     | 12       | 0       | 0    | 0      |
| 13       | 0       | 0    | 0      |     | 14       | 0       | 0    | 0      |
| 15       | 0       | 0    | 0      |     | 16       | 0       | 0    | 0      |
| 17       | 0       | 0    | 0      |     | 18       | 0       | 0    | 0      |
| 19       | 0       | 0    | 0      |     | 20       | 0       | 0    | 0      |

`<Exit>/<Home>/` : return `<Help>/`? : field information N : next

The **Current** value is the value currently used by SINTRAN, the **Next** value is the value which will apply after the next cold start.

If you need to set spooling device numbers for spooling processes 21-40 or 41-60, similar sub-menus will appear for these. Either navigate "past" 20 (40), or select next menu (N) key.

The sub-menu for the parameter **Define HDLC interface as HDLC or modem** may look like this:

| HDLC | Current | Next | (Input) | ... | HDLC | Current | Next | (Input) |
|------|---------|------|--------|-----|------|---------|------|--------|
| 1    | 1       | 1    | 1      |     | 2    | 1       | 1    | 1      |
| 3    | 1       | 1    | 1      |     | 4    | 1       | 1    | 1      |
| 5    | 1       | 1    | 1      |     | 6    | 1       | 1    | 1      |
| 7    | 0       | 0    | 0      |     | 8    | 0       | 0    | 0      |
| 9    | 0       | 0    | 0      |     | 10   | 0       | 0    | 0      |
| 11   | 0       | 0    | 0      |     | 12   | 0       | 0    | 0      |
| 13   | 0       | 0    | 0      |     | 14   | 0       | 0    | 0      |
| 15   | 0       | 0    | 0      |     | 16   | 0       | 0    | 0      |
| 17   | 0       | 0    | 0      |     | 18   | 0       | 0    | 0      |
| 19   | 0       | 0    | 0      |     | 20   | 0       | 0    | 0      |

0=Do not use this interface.  
1=HDLC.  
2=Synchronous modem.

`<Exit>/<Home>/` : return `<Help>/`? : field information N : next

Norsk Data ND-30.003.7 EN

---

## Page 144

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The **Current** value is the value currently used by SINTRAN, the **Next** value is the value which will apply after the next cold start.

If you need to set status on HDLC connections 21-32, a similar sub-menu will appear for these. Either navigate "past" 20, or select next menu (N) key.

The sub-menu for the parameter **Define printer type** may look like this:

### Define Printer Type

| Printer | Current | Next | (Input) |
|---------|---------|------|---------|
| 1       | 1       | 1    | 1       |
| 2       | 0       | 0    | 0       |
| 3       | 0       | 0    | 0       |
| 4       | 0       | 0    | 0       |

Types: 0 - Do not use this printer  
1 - DMA (Used for Fujitsu)  
2 - Parallel (Used for CDC/DP)  
3 - Serial

_\<Exit>/\<Home>_ return _\<Help>/?_ field information

The **LAMU** command will display a menu of some configuration parameters. The menu may look like this:

### LAMU Configuration Parameters

|                         | Current | Next | Max | (Input) |
|-------------------------|---------|------|-----|---------|
| Mon MLAMU               | Present |      |     |         |
| Max number of LAMUs     | 32      | 32   | 32  | 32      |
| Max number of LAMUs per program | 2 | 2 | 2 | 2 |
| Max number of system LAMUs | 16 | 16 | 16 | 16 |

_\<Exit>_, _\<Home>_ or return _\<Help> or ?_ field information

Only the first line of the menu will be shown if Mon MLAMU is not present.

The configuration parameters listed in this menu are:

### Mon MLAMU:

Indicates if MON MLAMU (MON 315) is to be present or not.

Norsk Data ND-30.003.7 EN

---

## Page 145

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Max number of LAMUs:

Maximum number of LAMUs. A LAMU is a small, reserved part of the physical memory. It enables programs to have some data shared and fixed in memory (to speed-up program execution). The LAMUs is taken from the swapping area.

### Max number of LAMUs per program:

Maximum number of LAMUs accessible from a single program.

### Max number of system LAMUs:

Maximum number of system LAMUs (see PD sheets for products requiring LAMUs)

The **Current** value is the value currently used by SINTRAN, the **Next** value is the value which will apply after the next cold start.

The **VARIOUS** command will display a menu of some configuration parameters. The menu may look like this:

|                                      | Current | Next | Max | (Input) |
|--------------------------------------|---------|------|-----|---------|
| Number of device buffers             | 64      | 64   | 64  | 64      |
| First legal phys. page for device buffer | 0   | 0    | 0   | 0       |
| Spooling queue size in pages         | 4       | 4    | 4   | 4       |
| Number of allocated areas            | 40      | 40   | 40  | 40      |
| Number of fast UDMA programs         | 0       | 0    | 0   | 0       |

\<Exit\>, \<Home\> or `.` return \<Help\> or `?` : field information

The configuration parameters listed in this menu are:

### Number of device buffers:

Number of device buffers (1K words). Device buffers are used for accessing internal block devices and DMA devices (e.g. disks, magnetic tape drives, and fast printers).

### First legal phys. page for device buffer:

First physical page number in memory accessible from DMA devices.

*Norsk Data ND-30.003.7 EN*

---

## Page 146

# Spooling queue size in pages:

Size of each spooling queue - a queue size of 2 pages can contain 10 queue entries and each additional page will increase queue length by approximately 7 new entries.

# Number of allocated areas:

Number of areas in memory reserved by the monitor call MON FIXC5 (MON 61). Should be larger than number of system LAMUs.

# Number of fast UDMA programs:

Number of RT-programs to use fast UDMA.

The Current value is the value currently used by SINTRAN, the Next value is the value which will apply after the next cold start and the Max value is the maximum generated for this version of SINTRAN.

## 3.5.3 The DISPLAY command

The DISPLAY command will show the current values of some configuration parameters which are not changeable.

The screen picture may look like this:

|   | Current | Max |
|---|---------|-----|
| Number of user RT programs | 128 |   |
| Number of user segments | 734 |   |
| Number of terminals | 25 | 128 |
| Number of semaphores | 50 |   |
| Number of internal devices (total) | 30 |   |
| Number of internal devices (block) | 2 |   |
| Number of SIBAS processes | 12 |   |
| Number of open file entries | 48 |   |
| COSMOS spooling | Yes |   |
| Number of telefax devices | 1 |   |
| Work mode version | 000100B |   |
| Standard system | Yes |   |

Norsk Data ND-30.003.7 EN

---

## Page 147

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

The configuration parameters listed in this command are:

### Number of user RT programs:
Number of free RT-descriptions.

### Number of user segments:
Number of free segments.

### Number of terminals:
Number of terminals used.

### Number of semaphores:
Number of semaphores generated.

### Number of internal devices (total):
Total number of internal devices (generated value).

### Number of internal devices (block):
Number of block-oriented internal devices (generated value).

### Number of SIBAS processes:
Number of SIBAS processes generated.

### Number of open file entries:
Number of files open simultaneously (generated value).

### COSMOS spooling:
Indicates if COSMOS spooling is present.

### Number of telefax devices:
Number of telefax devices (generated value).

### Work mode version:
Version of work mode used when generating this SINTRAN system (for internal use by ND).

### Standard system:
Indicates if this SINTRAN is a standard system.

The **Max** value appearing for the **Number of terminals** parameter means maximum number of terminals supported by this system (generated value).

Norsk Data ND–30.003.7 EN

---

## Page 148

# SINTRAN III SYSTEM SUPERVISOR  
STOPPING, STARTING AND LOADING SINTRAN III  

## 3.6 Initial loading of SINTRAN (ADVANCED)

**Initial loading** is loading SINTRAN into a brand new computer system where no files or users exist. In most cases, the system is loaded by ND when it is delivered. Sometimes, for example if a new system disk has to be made after a disk crash, this is done by the system supervisor.

When the initial load takes place, the disk space available must be taken into consideration, especially in configurations with rather small disks.

Some standard user areas must be created and given disk space, and some files must also be created. SINTRAN and some special files (system files) must be placed on the main disk. This is called the system disk. The amount of space SINTRAN needs to occupy on the segment file(s) is discussed in section 3.8. The total number of pages needed by user SYSTEM depends on the configuration.

The main disk is also a main directory. SINTRAN file system requires that all existing users are defined (created) in a main directory, but only a few users need to be given disk space on the system disk.

The different categories of user are listed in table 5.

SINTRAN will not work without system files. Table 6 gives a list of the system files used in both ND-100 and ND-500 configurations.

Norsk Data ND-30.003.7 EN

---

## Page 149

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

| User name        | Used for                                                                 |
|------------------|--------------------------------------------------------------------------|
| **ND-100 and ND-500 computers:** |                                                                                          |
| BPUN-FILES       | ND software applications of type :BPUN                                  |
| FLOPPY-USER      | Copying files to/from floppy diskettes                                  |
| PROGRAM-FILES    | ND software applications of type :PROG                                  |
| RT               | Owner of RT-programs                                                    |
| SCRATCH          | Scratch files for background programs                                   |
| SYSTEM           | SINTRAN and other important system files                                |
| UTILITY          | Ordinary ND software applications and software closely integrated with SINTRAN |
| <user-specified> | Configuration-dependent user definitions (personal user areas)          |
| **ND-500 computers:** |                                                                                          |
| DOMAINS          | ND-developed ND-500 application programs                                |
| N502-MICRO-TEST  | ND-500 test programs (for use by ND Service)                            |
|                  | You can delete this user's files and user definition if you have little free disk space |

Some large software applications developed by ND must be placed on dedicated users. Examples:

| USER-ENVIRONMENT | See PD-sheets for the ND developed software applications you have. |
|------------------|-----------------------------------------------------------------| 
| NOTIS            |                                                                 |

*Table 5. Standard SINTRAN user areas*

Norsk Data ND-30.003.7 EN

---

## Page 150

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

| Status | File name and type                | Size (pages) | Organization | Directory    |
|--------|-----------------------------------|--------------|--------------|--------------|
| S      | (UTILITY)DUMP-REENTRANT:MODE      | Conf         | Indexed      | any          |
| S      | (UTILITY)STANDARD-DOMAINS:MODE    | Conf         | Indexed      | any          |
|        | <spooling files>                  | Conf         | Indexed      | default      |
| 5      | CONTROL-STORE:DATA                | 72           | Indexed      | default      |
|        | COS-TADAM:BPUN                    | 4            | Indexed      | any          |
|        | DBDTABLES:VTM                     | 10-20        | Indexed      | system disk  |
|        | DMAC-1915:BPUN                    | 19           | Indexed      | any          |
| C      | DUMMY:;1                          | Periph       |              | default      |
|        | FILSYS-SYMBOLS:SYMB               | 21           | Indexed      | system disk  |
| C      | FLOPPY-x:;1 (x = 1..6)            | Periph       |              | default      |
|        | FMAC-1920C:PROG                   | 15           | Indexed      | system disk  |
|        | LIBRARY-MARKS:SYMB                | 9            | Indexed      | system disk  |
| S      | LOAD-MODE:BATC                    | Conf         | Indexed      | system disk  |
| C      | MACM-AREA:DATA                    | 64           | Allocated    | system disk  |
| C      | MAILBOX:DATA                      | 10-20        | Indexed      | system disk  |
| S      | N500-SYMBOLS:SYMB                 | 31           | Indexed      | system disk  |
| S      | ND500-HENT-MODE:MODE              | Conf         | Indexed      | system disk  |
|        | PATCH-FILE:OUT                    | Conf         | Indexed      | system disk  |
|        | PATCHES:OUT                       | Conf         | Indexed      | system disk  |
|        | RTIL:DATA                         | 64           | Indexed      | system disk  |
|        | RTLO-SYMBOLS                      | 24           | Indexed      | system disk  |
|        | S3-CONFIGURATION:CNFG             | 2            | Indexed      | system disk  |
|        | S3-CONFIGURATION:PROG             | 62           | Indexed      | system disk  |
| C      | SEGFILE:DATA (x = 0..3)           | Conf         | Allocated    | system disk  |
| C      | SINTRAN:DATA                      | 63           | Allocated    | system disk  |
| 5      | SWAPPER:DSEG                      | 54           | Indexed      | default      |
| 5      | SWAPPER:PSEG                      | 11           | Indexed      | default      |
| 5C     | SWAP-FILE-x:SWAP (x = 0..3)       | Conf         | Contiguous   | any          |
|        | SYMBOL-1-LIST:SYMB                | 38           | Indexed      | system disk  |
|        | SYMBOL-2-LIST:SYMB                | Conf         | Indexed      | system disk  |
| C      | SYSTEM-OUTPUT-1:SYMB              | Temp         | Indexed      | system disk  |
| C      | TERMINAL:;1                       | Periph       |              | default      |

Status: S means file created and maintained by the system supervisor.  
C means file that only need to be created, contains initially no data.  
5 Only for ND-500 computers.

No status letter means that the file is either copied manually or by dedicated installation programs (refer to PD sheets).

Conf : Configuration-dependent. The number of such files or the file size varies.  
Temp : Temporary  
Periph : Peripheral

Table 6. System files

Norsk Data ND-30.003.7 EN

---

## Page 151

# SINTRAN III SYSTEM SUPERVISOR
### STOPPING, STARTING AND LOADING SINTRAN III

---

## 3.7 Example of initial loading (ADVANCED)

The following short example is intended to be a guide when carrying out an initial load in an ND-100 configuration. Configuration-dependent commands and parameters are commented on.

### Example of initial loading of SINTRAN VSX

Load SINTRAN from floppy diskette as described in section 3.4 where you log in the first time.

See your SINTRAN order form for the device name of your system disk.

|       |                                            |
|-------|--------------------------------------------|
| ENTER | Just give CR here.                         |
| PASSWORD: |                                        |
| NO MAIN DIRECTORY | OK                             |
| CREATE-DIRECTORY |                                 |
| DIRECTORY NAME: PACK-ONE |                         |
| DEVICE-NAME: DISC-70MB-1 |                         |
| DEVICE-UNIT: 0 |                                   |
| BIT FILE ADDRESS: | Must correspond to unit plug on disk drive. |

The directory name is user-defined. The system disk is conventionally given the name PACK-ONE.

The bit-file is system information for the file system. Default value is in the middle of the disk. If you have a rather small disk, you may need to use another value. See chapter 4. A 70 MB disk corresponds to 512*70=35840 pages, but some of these are used by the file system for system information.

---

Norsk Data ND-30.003.7 EN

---

## Page 152

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

### Example continued for VSX

| Command                         | Description                                                  |
|---------------------------------|--------------------------------------------------------------|
| `@ENTER-DIRECTORY`              |                                                              |
| `DIRECTORY-NAME: PACK-ONE`      | The directory exists now, and must                           |
| `DEVICE-NAME: DISC-70-MB-1 0`   | be entered before it is accessible.                          |
| `@CREAT-USER`                   |                                                              |
| `USER NAME: SYSTEM`             | The first user is created.                                   |
| `@LOGOUT`                       |                                                              |
| `-- EXIT --`                    |                                                              |
| `ESC`                           |                                                              |
| `ENTER SYSTEM:`                 | User identification in SINTRAN is done                       |
| `PASSWORD:`                     | when logging in. The first time you                          |
|                                 | logged in, there were no users.                              |
|                                 | Therefore log out and then log in as                         |
|                                 | user SYSTEM.                                                 |
| `@CHANGE-PASSWORD`              | An error message is displayed because SINTRAN tries to open a SCRATCH file. Ignore it! User SCRATCH does not exist yet. |
| `OLD PASSWORD:`                 | Users SYSTEM and RT should always                            |
| `NEW PASSWORD:`                 | be protected by passwords.                                   |
| `@GIVE-USER-SPACE SYSTEM 15000` | To be used for the installation.                             |

The space needed is very configuration-dependent. It is slightly more than 29MB. In a small system (Satellite/Compact) 5000 - 10000 pages should be sufficient. It is sensible to give user SYSTEM more pages than necessary before installation, and give some of the superfluous pages back afterwards.

### Example continued for VSX

| Command                                         |
|-------------------------------------------------|
| `@SET-INITIAL-FILE-ACCESS R,RWA,RWAD`           |
| `@SET-DEFAULT-FILE-ACCESS R,RWA,RWAD`           |

After giving the command `@SET-INITIAL-FILE-ACCESS`, all users created from now on will initially get this file access (the parameters are public, friend and own access). You must decide what data-security considerations the file access should be based upon.

The file access for one particular user is set when giving the command `@SET-DEFAULT-FILE-ACCESS` in this case user SYSTEM. This definition survives all loading of SINTRAN. Some system files must be given another access than this.

Norsk Data ND-30.003.7 EN

---

## Page 153

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

Allocate the important system files. Only the size of SEGFILE is configuration-dependent. If necessary, create the other segment files using @ALLOCATE-FILE or CREATE-FILE commands. If more than one directory must be used for the segment files; create, enter and give user SYSTEM disk space first.

**Example continued for VSX**

```
@ALLOCATE-FILE SINTRAN:DATA
PAGE ADDRESS (OCT): 1
NUMBER OF PAGES: 71B

@ALLOCATE-FILE MACM-AREA:DATA 100 100B

@ALLOCATE-FILE SEGFILE:DATA 200 10000D          Medium configuration.
```

It is advisable to have public and friend access NONE for the following system files:

```
@SET-FILE-ACCESS SINTRAN:DATA N N RWA
@SET-FILE-ACCESS MACM-AREA:DATA N N RWA
```

SEGFILE must be accessible from user RT (later created as friend):

```
@SET-FILE-ACCESS SEGFILE:DATA N RWA RWA
```

In addition, SEGFILE must be made accessible for SINTRAN:

```
@SINTRAN-SERVICE-PROGRAM
*DEFINE-SEGMENT-FILE
MEMORY? Y
SAVE-AREA? Y
SEGMENT FILE NUMBER (OCT): 0
SEGMENT FILE NAME: SEGFILE:DATA
```

The file MAILBOX is used by the MAIL system. Only user SYSTEM needs access to it.

```
@CREATE-FILE MAILBOX:DATA,

@SET-FILE-ACCESS MAILBOX:DATA N N RWA
```

Norsk Data ND-30.003.7 EN

---

## Page 154

# Example Continued for VSX

The file RTFIL is used by the RT-Loader.  
Only SYSTEM and RT need access to it.

```
@CREATE-FILE RTFIL:DATA,,

@SET-FILE-ACCESS RTFIL:DATA N N RWA
```

Make a file associated with the users' terminals.  
All users should be allowed to access it:

```
@SET-TERMINAL-FILE "TERMINAL"

@SET-FILE-ACCESS TERMINAL RWA RWA RWA
```

Create the file SYSTEM-OUTPUT-1, which will be used for output when running the batch job LOAD-MODE during warm start. The public file access should be NONE to prevent other users from discovering the SYSTEM password!

---

# Example Continued for VSX

```
@SET-TEMPORARY-FILE "SYSTEM-OUTPUT-1:SYMB"
```

Create peripheral files for all peripheral devices (except from Streamer and disk drives). In this example the configuration has one floppy drive (FLOPPY-DISC-1 unit 0) and one line printer:

```
@SET-PERIPHERAL-FILE "FLOPPY-1"
DEVICE NUMBER (OCT): 1000B

@SET-FILE-ACCESS FLOPPY-1 RWA RWA RWA

@SET-PERIPHERAL-FILE "LINE-PRINTER" 5
```

See SINTRAN Commands Reference manual for legal device numbers.  
Take also a look at section 3.6 and your SINTRAN order form.  
If a printer has spooling, it must be given spooling pages.  
The file access should also be as shown:

```
@SET-FILE-ACCESS LINE-PRINTER WA RWA RWA
@CREATE-NEW-VERSION LINE-PRINTER::10,1.
```

Nine spooling files are created for the Line Printer.

---

Norsk Data ND-30.003.7 EN

---

## Page 155

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

---

### Example continued

You can now create the standard SINTRAN users:

```
@CREATE-USER FLOPPY-USER
@CREATE-USER UTILITY
@CREATE-USER BPUN-FILES
@CREATE-USER SCRATCH
@CREATE-USER RT
```

User RT must be allowed to access the segment file and RTFIL:

```
@CREATE-FRIEND RT
@SET-FRIEND-ACCESS RT RWA
```

User BPUN-FILES must get some pages to keep copies of your application programs:

```
@GIVE-USER-SPACE PACK-ONE:BPUN-FILES 1000
```

User SCRATCH must be given some pages for the scratch files:

```
@GIVE-USER-SPACE PACK-ONE:SCRATCH 2500
```

This should normally be sufficient for 5-15 users working simultaneously with PED, NOTIS-WP or similar products. Log in as user SCRATCH and create necessary scratch files. There must be one for each terminal, batch processor and TAD.

---

### Example continued for VSX

| ENTER: SCRATCH | SINTRAN tries to open a non-existent scratch file - ignore the message. |
|----------------|-----------------------------------------------------------------------|

```
@SET-DEFAULT-FILE-ACCESS RWA RWA RWA
```

This user's file access was initially only "R" for public use.

```
@CREATE-FILE SCRATCH01:DATA,,
...
@CREATE-FILE SCRATCH25:DATA,,
```

---

Norsk Data ND-30.003.7 EN

---

## Page 156

# SINTRAN III SYSTEM SUPERVISOR
## STOPPING, STARTING AND LOADING SINTRAN III

You should now load an editor to be able to make mode files necessary for starting and stopping the system. If PED or NOTIS-WP is not included in your software packet from ND, you should at least have the modest QED. See appendix H for examples. You need at least the mode files LOAD-MODE, HENT-MODE and DUMP-REENTRANT. Remember to set the file access for such files to N for public.

Having the necessary mode files for loading, you are ready to continue installing SINTRAN. Continue from the point in section 3.4 where the program NEW-SYSTEM is to be run.

You should now load application software. Study the PD sheets. You are advised to load the BACKUP-SYSTEM as one of the first applications to make it easier to copy files (some of the PD sheets also assume that it is present.

If your computer is within a network, you may want to give it a name to identify it uniquely. It is possible to redefine the prompt string used by SINTRAN, and the heading that is displayed when logging in:

### Example continued for VSX

```
@SINTRAN-SERVICE-PROGRAM

*DEFINE-PROMPT-STRING  
STRING: DOCOS'  
PROMPT STRING IN LOCAL MODE? Y  
MEMORY? Y  
SAVE-AREA? Y  

*DEFINE-TITLE  
TITLE: $--- BAHAMAS COMPANY'S DOCOS ---$'  
MEMORY? Y  
SAVE-AREA? Y  
*EXIT
```

|                                             |                                                                                               |
|---------------------------------------------|-----------------------------------------------------------------------------------------------|
| The character ' must terminate the string.  | The parameter "prompt string in local mode" means that users directly connected to the network |
| It is not printed out later.                | (not via network) also get this prompt.                                                       |
| The character $ is replaced by CR at output.|                                                                                               |

Norsk Data ND-30.003.7 EN

---

## Page 157

# SINTRAN III SYSTEM SUPERVISOR  
## STOPPING, STARTING AND LOADING SINTRAN III

### 3.8 Space requirements for K version

On VSX systems, a standard system will require approximately 4358 pages of memory. This means that you should have at least 1 MB of memory available for ND-100.

The disk requirements for an VSX-system are calculated as follows:

| Description | Pages required | Multiplied with |
|-------------|----------------|-----------------|
| SINTRAN constant | 1090 | 1 |
| background program: (default) | | |
| ● data segment | 128 | <no. of background programs> |
| ● system segment | 5 | --- " --- |
| MON ADP | 63 | <no. of background programs> |
| ND-500 process | 5 | <no. of ND-500 processes> |
| Symbolic Debugger segment on ND-100 | 8 | <no. of simultaneous users using Symbolic Debugger> |
| Remote File Access segment | 4 | <no. of simultaneous users using COSMOS RFA> |
| Spooling queue segment (default 4 pages) | 2-12 | <no. of spooling programs> |

*Table 7. Formula for calculating disk space for SINTRAN VSX - K*

Norsk Data ND-30.003.7 EN

---

## Page 158

I'm sorry, but I can't process the image content directly. Could you please provide the text you'd like converted into Markdown?

---

## Page 159

# SINTRAN III SYSTEM SUPERVISOR  
FILE SYSTEM SUPERVISION  

---

## CHAPTER 4  
FILE SYSTEM SUPERVISION  

This chapter describes the system supervisor's responsibilities in relation to files, user areas, and directories. Section 10.4 explains how to test the directory structure. The exact layout of the file system on a disk is described in appendix F.

---

### 4.1 Files  

All kinds of information can be stored on mass storage files. A file is divided into pages of 1 Kwords. The pages of a file can be stored consecutively on the disk, or they can be scattered around with pointers to the pages used by the file. Some examples of information that can be stored in a file are:

| Contents                           | File type |
|------------------------------------|-----------|
| A formatted text document          | :OUT      |
| A set of commands (mode job)       | :MODE ¹   |
| A text document                    | :TEXT     |
| An executable ND-100 program       | :PROG     |
| An executable ND-500 program       | :PSEG     |
| ------ " ------                    | :LINK     |
| ------ " ------                    | :DSEG     |
| General data                       | :DATA     |
| The source of a program            | :SYMB     |

¹) SINTRAN expects file type :SYMB when running a mode job.

*Table 8. Example of different file types*

A file is identified by a file name. This file name is used in commands to the file system. A complete file name has five parts as shown below, i.e. the directory it is found on, the user area it belongs to, the actual name given to it, the file type and the version number. If the file name is abbreviated, it should be unambiguous.

**(DIRECTORY:USER NAME)FILE NAME:FILE TYPE;VERSION**

Files are organized into directories containing files for one or more user areas. A directory can be thought of as a catalogue. When a file is asked for, the system looks it up in the directory to see where it is located. When a new file is created, a new entry is made in a directory. Each disk or floppy diskette in use has its own independent directory.

---

Norsk Data ND-30.003.7 EN

---

## Page 160

# SINTRAN III SYSTEM SUPERVISOR  
## FILE SYSTEM SUPERVISION  

Each file belongs to a user area. All user areas must be registered in a main directory. Only user areas defined in a main directory are known to SINTRAN. The directory contains information about the disk space available to each user.

A file type is used to designate the contents of the file. This file type can be set by the user as a maximum 4-character extension of the file name. It is separated from the file name by a colon. The file types shown in table 8 are commonly used as default in commands or subsystems.

ND has standardised many file types. Many application programs expect to find information on certain files with certain file types. It is therefore recommended that you to some extent follow these naming conventions when creating/renaming files (as described in this manual, other manuals and PD-sheets).

A file can exist in several versions. The version number is separated from the file type by a semicolon (;). The maximum number of file versions is 256. Version 1 is the most recent version of the file.

---

### 4.1.1 Creating indexed files

Indexed files can be created in two ways. The first is by directly giving the SINTRAN command:

`@CREATE-FILE {file name} {number of pages}`

When `<number of pages>` is given the value "0" the file will have no space to start with, but will take space as it is written into. Its pages are scattered around on the disk/floppy diskette. Initially, only a new entry in the directory is reserved for the file. The file becomes indexed the first time it is written into. Most files in a system are indexed.

| Directory catalogue | dynamically expanding |
|---------------------|------------------------|
| first               | page 0                 |
| next                | page 1                 |
| last                | page 2                 |
| MY-FILE (indexed)   | Not used yet           |

Increasing page address on the directory

*Figure 30. Example of an indexed file*

Norsk Data ND-30.003.7 EN

---

## Page 161

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

The file type should be specified according to what it is intended for. If no directory or user name is given, the file will be created in your user area on your default directory. Default directories are explained in the next section.

A new file can also be created by enclosing a file-name parameter in a command in double quotes `"..."`. This procedure can be followed with all SINTRAN commands that have the parameter (<output file>). Application programs also have this possibility for creating new files via calls to SINTRAN. For example, a new letter written using NOTIS-WP will be stored under the name given in the store command, if this name is enclosed in double quotes.

---

## Creating contiguous files

Contiguous files can also be created in two different ways. If the second parameter in the command `@CREATE-FILE` is greater than zero, the file becomes contiguous. A contiguous file occupies a contiguous area on the disk/floppy diskette. Normally, only special files, such as the system files mentioned in chapter 3, and databases are contiguous. When such a file is allocated on the disk, it is placed in the first free hole big enough to contain it.

| Directory catalogue  | first | page 0 | page 1 | page 2 | ... |
|----------------------|-------|--------|--------|--------|-----|
| **MY-FILE** <br>(contiguous) |  |        |        |        |     |
| ...                  | ...   |        |        |        |     |

Number of pages

Increasing page address on the directory

*Figure 31. Example of a contiguous file*

A contiguous file cannot expand dynamically when written into. Instead, another command must be used:

`EXPAND-FILE <file name> <number of pages>`

---

Norsk Data ND-30.003.7 EN

---

## Page 162

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

It is only possible to expand the file if sufficient subsequent space from the end of it is still free to be used. If not, the file must be moved to another area of the disk. If the file only contains temporary data, it can be deleted and then recreated. This method can for example be used if the contiguous ND-500 file SWAP-FILE-1:SWAP becomes too small. The file SEGFILE0:DATA cannot, however, be moved to another area, since SINTRAN requires that this file starts at a fixed start address. This restriction does not apply to the other segment files. Segment files contain temporary data in the sense that a cold start must be carried out to renew them. If it is impossible to create a contiguous file of a certain size, the whole directory must be reorganized. Necessary contiguous files should always be the first to be created in a directory.

In SINTRAN, there is also another special category of contiguous files, called allocated files. The command

    @ALLOCATE-FILE <file name> <page address> <number of pages>

creates an allocated file. An allocated file is, in addition to being of a certain size, placed on a fixed area of the disk. `<page address>` is the place on the disk where the file starts. See section 3.6 for information about which SINTRAN system files must be allocated.

---

### 4.1.2 Shrinking, renaming and deleting files

Assume that a user has a large, indexed file. After parts of it have been deleted in an editor, e.g. NOTIS-WP or PED, the file will still occupy as many pages on mass storage as before. Deleting means here that the file is rewritten with fewer bytes than it previously consisted of. The file can effectively be shrunk by renaming it, copying it back to the original name and then deleting the renamed file (as shown in the following example). This makes the superfluous pages available for other files.

---

Norsk Data ND-30.003.7 EN

---

## Page 163

# SINTRAN III SYSTEM SUPERVISOR  
FILE SYSTEM SUPERVISION  

## Example of shrinking a file  

`@FILE-STATISTICS PEDAGOGIC-EX:SYMB`  
FILE 98 : (PACK-ONE:SYSTEM)PEDAGOGIC-EX:SYMB  
(INDEXED FILE)  
```
10 PAGES, 10010 BYTES IN FILE
```

The file occupies 10 pages. The number of pages really needed is the number of bytes in the file divided by 2048. 10010/2048=4.88, rounded up to 5 pages. It makes sense to shrink this file.

### @RENAME-FILE  
| FILE NAME   | NEW FILE NAME AND TYPE  |
|-------------|--------------------------|
| PEDAGOGIC-EX:SYMB | TEMPORARY:SYMB          |

The file to be shrunk is renamed to avoid name conflicts.

### @COPY  
| TO DEVICE                           | FROM DEVICE   |
|-------------------------------------|---------------|
| "PEDAGOGIC-EX:SYMB"                 | TEMPORARY:SYMB |

A new file with the same name as the old one is created by using double quotes. This copy command copies the no. of bytes last written in the file.

### @DELETE-FILE TEMPORARY:SYMB  

Do not forget to do this!

---

This will not work for indexed files with holes in them. A hole is an unused, non-allocated page in an indexed file. One example of such files is program files. It is recommended that the `@COPY` command should be reserved for shrinking and for copying to peripheral files, as faster commands and programs are available for general copying.

As shown in the previous example, a single file can be deleted by the command:

    @DELETE-FILE <file name>

Another command,

    @DELETE-USERS-FILES (<file name>) [ [(<manual check?>)] ]

can be used to delete more than one file at a time. The command must be used with care. It is impossible to restore a deleted file! User-SYSTEM is always forced to use the manual check and confirm that each file that matches the `<file name>` parameter is to be deleted.

Norsk Data ND-30.003.7 EN

---

## Page 164

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

---

### 4.1.3 Retrieving information about files

To find out data about a specific file the command:

**@FILE-STATISTICS (<file name>) (<output file>)**

can be useful. This command, which is available to all users, lists useful information about file type, file access settings and file size.

For example, a file called PACKMAN:PROG is listed by the command:

**Example of using the @FILE-STATISTICS command**

| @FILE-STATISTICS_PACKMAN |  | 
|---|---|
| FILE 28 : (PACK-ONE:JOHNNY-PLAYER)PACKMAN:PROG;1  | date created. |
| (INDEXED FILE)  | last time read. |
| PUBLIC ACCESS : NONE  | last time written. |
| FRIEND ACCESS : READ, WRITE, APPEND  |  |
| OWN ACCESS : READ, WRITE, APPEND, DIRECTORY  |  |
| OPENED 1986 TIMES  |  |
| CREATED 01.10.55 JULY 4, 1980  |  |
| OPENED FOR READ 16.28.58 JUNE 23, 1986  |  |
| OPENED FOR WRITE 01.12.24 JULY 4, 1980  |  |
| 56 PAGES  |  |
| 112540 BYTES IN FILE  |  |

Another command **@WHERE-IS-FILE**, which is also available to all users, lists the following information about a file:

- Whether or not it is free to be used (not opened).

- If opened by a user, the user area's name and terminal number.

- Whether or not it is reserved by an RT-program.

- If it is a spooling file, whether or not it is currently in use.

This command is most useful for collecting information about peripheral files and printers with spooling. For instance, if you want to list information about free spooling files for a printer called ELPHO-20. (More information about peripherals is given in chapter 6). 

Norsk Data ND-30.003.7 EN

---

## Page 165

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

### Example of finding free spooling files

| WHERE-IS-FILE    |                                                             |
|------------------|-------------------------------------------------------------|
| FILE NAME: ELPHO-20 |                                                         |
| ELPHO-20:1       | RESERVED BY RT-PROGRAM SPRTI                               |
| ELPHO-20:2       | OPENED FOR RT-PROGRAM USE                                  |
| ELPHO-20:3       | SPOOLING FILE IN USE                                       |
| ELPHO-20:4       | SPOOLING FILE IN USE                                       |
| ELPHO-20:5       | FREE TO USE                                                |
| ELPHO-20:6       | FREE TO USE                                                |
| ELPHO-20:7       | FREE TO USE                                                |
| ELPHO-20:8       | FREE TO USE                                                |

The version no. 1 of the file is the peripheral file for the printer. "SPRTI" has always reserved the peripheral file, because this printer has spooling. "OPENED FOR RT-PROGRAM USE" means that this version is currently being printed or written into, while the versions with the text "SPOOLING FILE IN USE" are waiting for printing. The other versions are unused (empty) at the moment.

In addition to these SINTRAN commands, there is also an ADP product designed for manipulating files:

### File Manager

Supervisors who spend a lot of time handling files are advised to use this product. It is a screen-oriented product that allows you to navigate on the screen between all files belonging to a given user-area, sort, delete and change attributes (to mention some of the many useful features). The program is usually started by typing `@FILE-MANAGER` or a legal abbreviation.

Norsk Data ND-30.003.7 EN

---

## Page 166

# SINTRAN III SYSTEM SUPERVISOR

## FILE SYSTEM SUPERVISION

### 4.2 Directories

A directory is a means of organizing the available space on a contiguous area of a disk or floppy diskette. It consists of descriptions of user areas and files as well as some administrative information for the file system. The description of a user area is called a user entry, while a single file description is called an object entry. The structure is explained in detail in appendix F.

```
dir.
index
```

| 0 | PACK-ONE |
|---|----------|
| 1 | PACK-TWO |

corresponding structure as for PACK-ONE

**Directory table**

```
 _______________
|               |
|   PACK-ONE    |
|_______________|
     --> User descriptions
          ______      ______      ______
        |        |  |        |  |        |
        | SYSTEM |  |   RT   |  |  JOHN  |
        |________|  |________|  |________|
```

**file system information**

| SINTRAN | MY-RT-PROGRAM | MY-MEMO |
|---------|---------------|---------|
| MACM-AREA | ... | ... |
| SEGFILE | | |

**Master block**

```
________________
|                |
|                |
| Other file    |
| descriptions  |
|                |
|________________|
```

*Figure 32. Example of directory structure (simplified)*

The directory table is one of the main tables in the file system. It is organized sequentially. Each entry in the table contains a description of a directory and there is one entry for each directory in the system. The first word of each entry marks the directory as entered or released, as main or default, or as reserved or not reserved for special use. The directory table is located in physical memory. Some of these concepts are explained below.

A **main directory** provides a register of user names that can be found and used by the file system without requiring the user name to be defined on any other directory. All user areas must be defined in a main directory. The main directories are searched for matching user name and password when logging in.

Norsk Data ND-30.003.7 EN

---

## Page 167

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

There is normally only one main directory in the system, capable of holding as many as 256 different user area definitions. A main directory cannot be created on a floppy diskette. This means that, if you want to access files on a floppy diskette with a user name that does not exist in a main directory, you must create the user area in a main directory first. This is one of the reasons why FLOPPY-USER is a standard user area on all ND computers.

A related, but not identical, concept is the **user area's main directory**. This concept is relevant for systems with more than one main directory. It is the first main directory (lowest directory index) where the user area is defined.

Main directories should not be entered or released when the system is running. If this is done, a user area's main directory can change. When a user logs in, the main directory for his or her user area is determined at that moment and stored on the terminal's system segment.

A **default directory** is a directory that is automatically searched whenever a file is referred to without specifying the directory name. A main directory is always a default directory.

The user area's default directory is the first default directory (lowest directory index) where a user area has disk space. The user area's default directory is searched when a user refers files omitting the directory name.

The search strategy used by the file system is as follows: If a user-name is supplied to the file system and the user area's main directory is to be determined, the file system starts with the lowest directory index. If it is a main directory, all user names are searched for a match. It then searches the next main directory and so on, until all main directories have been searched.

If an exact match occurs on a directory (i.e. an existing user name is identical to the user name supplied), the search need go no further. If only a partial match occurs (according to abbreviation rules), all main directories are searched to make sure that the supplied name is unambiguous. If no match is found at all, the user area does not exist.

When running mode or batch jobs, it speeds up the file searching if you supply the directory and user names. When working interactively, however, there is no point in doing this, since the time gained by the increased speed of execution is far less than that which is lost by the extra typing involved.

---

Norsk Data ND-30.003.7 EN

---

## Page 168

# Directories

| Users  | PACK-ONE    | PACK-TWO    | PACK-THREE   |
|--------|-------------|-------------|--------------|
|        | Main and    | Default     | Not default  |
|        | default     |             |              |
| SYSTEM | *           | *           |              |
| DORIS  | -           | *           |              |
| HARRY  | -           | -           |              |

Symbols: * means user area is defined and given space  
- means user area is only defined

All user areas have PACK-ONE as their main directory. User SYSTEM has default directory PACK-ONE, DORIS has PACK-TWO, while HARRY has none.

*Table 9. Example of main and default directories*

---

## 4.2.1 Creating a directory

A directory must be created on a disk/floppy diskette before any user-areas or files can be made on it. In addition, a brand new disk/floppy diskette must be formatted before user areas and files can be put on it. Formatting of disks and floppy diskettes is described in section 4.2.2.

A new directory on a disk/floppy diskette is created by the command:

@CREATE-DIRECTORY <directory name> <device name> <device unit>  
 \[<fixed=F/removable=R>\] \[<sub-unit>\] \[(bit-file address)\]

You need to know more about the parameters in order to create the directory:

**<directory name>**  

A user-defined name that is subsequently used to identify this particular directory. A maximum of 16 alphanumeric characters and hyphens (-) is allowed. Examples: PACK-ONE, PACK-TWO (these names are also used other places in this manual).

---

*Norsk Data ND-30.003.7 EN*

---

## Page 169

# SINTRAN III SYSTEM SUPERVISOR  
FILE SYSTEM SUPERVISION  

<device name>

A logical name to uniquely identify for SINTRAN which disk controller the directory is connected to and the disk format. Examples: DISC-45MB-1, DISC-70MB-1 and FLOPPY-DISC-1.

If you do not already know the <device name> to use, see your SINTRAN order form or appendix C for a thorough description.

<device unit>

The disk/floppy diskette unit number to which the disk and directory is connected to. The number range for disks is 0-3, and 0-2 for floppy diskettes.

[(fixed=F/removable=R)]

Fixed or removable disk pack. Only a few old disks need this as a separate parameter. For most disks this is part of the device name (those ending with -R or -F in appendix C).

[<sub-unit>]

A physical disk can be divided into one or more directories. Most disks have only one directory. The disks with more directories are in general large disks (several hundred MBs). A disk with more than one directory is called a sub-divided disk. The number range for sub-units is 0-5.

((bit-file address))

In order to keep track of which pages are free, The bit-file contains a map of the file system. A bit-file has one bit for each page on the directory. This means there is one new page in the bit-file for each 16,384 pages in the directory.

The parameter is the address of the first page of the bit-file. If the parameter is omitted, the file system will place the bit-file in the middle of the disk, or as near as possible to the middle, if bad pages occur there. A **bad page** is a page that cannot be used. It will be marked as **used** in the bit-file.

The parameter also affects the placement of the remainder of the system information, since this is placed near the bit-file.

For most systems the middle of the disk is the best place for the bit-file, and it is seldom necessary to use anything else than default value for a floppy diskette. If a contiguous file of size greater than about half of the directory size is wanted, the bit-file has to be placed somewhere else. The legal range for page numbers is given in appendix G.

Norsk Data ND-30.003.7 EN

---

## Page 170

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

### File System Structure

| Disk Controller 1 | Disk Controller 2 |
|-------------------|-------------------|
| Device Unit 0     | (other disk drives/packs)  |
| (DISC-70MB-1)     |  |
| PACK-ONE          | Device Unit 1 (DISC-4-70MB-1) sub-unit |
|                   | PACK-TWO          |
|                   | PACK-THREE        |
|                   | PACK-FOUR         |
|                   | PACK-FIVE         |

```
Device Unit 1 Sub-Units
0           => DISC-4-70MB-1, unit 1, sub-unit 1
1           => DISC-4-70MB-1, unit 1, sub-unit 1
2          
3
```

*Figure 33. Example of directory structure*

### Example of creating a directory on a floppy diskette

To create a directory called FLOPPY-PACK on the floppy diskette controller 1, unit 1, you can type:

```
@CREATE-DIRECTORY
DIRECTORY NAME: FLOPPY-PACK
DEVICE NAME: FLOPPY-DISC-1
DEVICE UNIT: 1
BIT FILE ADDRESS:
```

### Example of creating a directory on a disk

To create a directory called PACK-ONE on the 70MB FSD disk, controller 1, unit 0, you can type:

```
@CREATE-DIRECTORY PACK-ONE, DISC-70MB-1, 0
```

*Figure references and notes* 

Norsk Data ND-30.003.7 EN

---

## Page 171

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

Files should normally be placed on a directory in the following sequence:

1. allocated (contiguous) files  
2. large contiguous files  
3. indexed files  

If a disk is to contain large contiguous files as well as indexed files, careful consideration should be given to where the files are placed. It is recommended that all indexed files (including spooling and temporary files) should be placed on the same area of the disk. The bit-file should be placed in the middle of this area, to minimize the access time needed for subsequent accesses within the file.

Norsk Data ND-30.003.7 EN

---

## Page 172

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

### Example of system with large, contiguous files

A system has one 75 MB disk pack giving 36,945 pages. The system must have contiguous system files with sizes:

| File              | Pages                  |
|-------------------|------------------------|
| Master block      | 1 page (this is not really a file!) |
| SINTRAN:DATA      | 63 pages               |
| MACM-AREA:DATA    | 64 pages               |
| SEGFILE:DATA      | 6,500 pages            |

Sum system files: 6,628 pages

The files above must follow the same order on the disk, starting from page 0.

The installation also runs a database with four contiguous files. These follow SEGFILE:DATA in the specified order:

| File             | Pages   |
|------------------|---------|
| ORDER-DB:DATA    | 1,600 pages |
| ORDER-SYS:DATA   | 6,000 pages |
| ORDER-DA-1:DATA  | 8,000 pages |
| ORDER-DA-2:DATA  | 8,000 pages |

Sum database files: 23,600 pages

The bit-file and other files then have:

| Description   | Pages   |
|---------------|---------|
| Directory size| 36,945 pages |
| System files  | - 6,628 pages |
| Database files| -23,600 pages |

Disk area left: 6,717 pages

Thus the bit-file should be placed at disk address:

\<sum contiguous files> + \<disk area left>/2 = 30,228 + 6,717/2 = 33,586 = 101462B

bit-file address

| Page no.    |      |          |
|-------------|------|----------|
| 0           | 30227| 36945    |

Norsk Data ND-30.003.7 EN

---

## Page 173

# SINTRAN III SYSTEM SUPERVISOR  
## FILE SYSTEM SUPERVISION  

**CAUTION!** If a new directory is created on the same disk or floppy diskette, the old directory will be completely destroyed. Pointers to pages used by different files in the old directory will be overwritten. Pages previously used will be marked as free in the new bit-file. The data, however, still remains and can be retrieved with the help of the stand-alone program, FILE SYSTEM INVESTIGATOR. This cannot, however, be achieved without detailed knowledge of the file system.

---

**CAUTION!** If you specify wrong parameters to @CREATE-DIRECTORY and the parameters identify an existing disk type as seen from SINTRAN, the disk will enter fault state and the system will "hang".

---

### 4.2.2 Formatting a disk or floppy diskette  

If you intend to put SINTRAN on a brand new disk, this must first be formatted. All new disks must be formatted before they can be used. Hard disks must be formatted by the system supervisor. All users, however, are allowed to format floppies.  

The purpose of formatting is to determine the hardware layout on the disk: for each track, to decide how many sectors there should be; for each sector, to write disk address and reserve space for the data. Appendix G explains the physical disk layout.

---

**CAUTION!** Any data on a disk or floppy diskette is irretrievably lost when it is formatted.

---

#### Example of formatting a floppy diskette  

|                    |                                               |
|--------------------|-----------------------------------------------|
| **@DEVICE-FUNCTION**| The @DEVICE-FUNCTION command has several special functions for handling peripherals. |
| **FILE NAME:**      | FLOPPY-1                                      |
| **FUNCTION:**       | SET-FLOPPY-FORMAT                             |
| **FORMAT (OCT):**   | 17                                            |

---

Norsk Data ND-30.003.7 EN

---

## Page 174

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

The file name is the peripheral file name for FLOPPY-DISC-1, unit 0. Unit 1 should conventionally be called FLOPPY-2 and so on.

The floppy format is selected manually because the floppy diskette is not yet formatted. SINTRAN finds the floppy format itself on a formatted floppy diskette. ND uses these formats:

| Format      | Description                                     | Pages |
|-------------|-------------------------------------------------|-------|
| Format 0B   | Single-Sided / Single-Density (SS/SD)           | 148   |
| Format 17B  | Double-Sided / Double-Density (DS/DD)           | 612   |

### Example continued

```
@DEVICE-FUNCTION FLOPPY-1
FUNCTION: FORMAT-FLOPPY
```

Formatting takes a few minutes. If you get many bad-page reports (pages that cannot be used), do not use the floppy!

The stand-alone program DISC-TEMA is used for formatting (and backup) of disks. You find this program on the floppy diskette "Test programs for ND-100" (ND-210523). The following procedure gives an example of how one particular disk type is formatted. If you are going to format another disk type, you must know the SINTRAN disk name for it. See your confirmed SINTRAN order form.

If there are bad spots on a track, the whole track has to be reallocated (moved to another place on the disk). Initially the disk has some tracks in a spare pool. By default, each track is tested after formatting and reallocation is done automatically.

Some disks have a spare sector per track. If there is only one bad spot on a single sector of the track, the sector is reallocated.

If DISC-TEMA is not able to find the manufacturer's information about bad tracks at program start, you are asked to give this information manually. This list is enclosed with the disk media.

Norsk Data ND-30.003.7 EN

---

## Page 175

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

#### Example of formatting a disk (ADVANCED)

| Command/Step     | Description                                                                 |
|------------------|-----------------------------------------------------------------------------|
| @STOP-SYSTEM     | Make a controlled stop of the computer.                                     |
| MCL              | Install the floppy with DISC-TEMA in floppy drive 0. If you want to format a removable disk pack, install this in any disk drive unit. Write protect the others! |
| *#1560&          |                                                                             |
| *HELP            | The Floppy Monitor has been loaded (common for all test programs). The prompt * tells that it is ready to accept commands. |
| FLOPPY-MON-2010G |                                                                             |
| LIST-FILE        |                                                                             |
| LOAD-FILE        |                                                                             |
| PLACE-FILE       |                                                                             |
| OPCOM            |                                                                             |
| HELP             |                                                                             |

#### LIST-FILE DISC   
FILE #: (ND-10523D: FLOPPY-USER) DISC-TEMA-H00: BPUN

#### LOAD-FILE DISC-TEMA   
DISC-TEMA is loaded into memory and automatically started.

### DISC TEST AND MAINTENANCE SYSTEM (DISC TEMA)   
Program no.: 203134H00   
Date issued: 12 January 1985

#### DISC NAME: ?

> After the disk name is given, the disk controller is tested.   
> No such DISC NAME, HELP will give you a list of the legal answers.   
> DISC NAME: DISC-70-MB-1

Data way to disc system 1 tested.   
Memory address register on disc system 1 tested.   
Memory buffers initialized.   
The command HELP gives you a list of the commands.

#### FORMAT

| Unit (0-3 Oct.): | 1                                                                         |
|------------------|---------------------------------------------------------------------------|
| FORMAT           | Make sure that the disk you want to format is placed in this unit.        |

The previous content will be destroyed on   
DISC system: 1 Unit: 1

Do you still want to continue (Yes/No): Y   

> To give you a chance to cancel.

---

Norsk Data ND-30.003.7 EN

---

## Page 176

# SINTRAN III SYSTEM SUPERVISOR

## FILE SYSTEM SUPERVISION

---

### Example continued

The tracks to be reallocated must be specified.  
(According to the manufacturer's list.)

**Input by Cylinder or Surface**: CYLINDER

| Cylinder | (0-822 Dec.): Finished |
|----------|------------------------|

---

If you do not know about any tracks that need to be reallocated, press CR.

**Table of reallocated tracks is empty**.  
Do you want to edit the table (Yes/No): **N**

---

**No. of re-allocated tracks (dec.): 0**  
No tracks in the spare-track pool are used.  
The pool will therefore be formatted with the standard format.

---

If a track fails later on you still have the whole spare track pool free, so a reformatting can be done.

The formatting takes about 5 - 6 seconds per MB, with 3 comparisons of data (default).

---

\>OPCOM  

| MACL | LOAD |
|------|------|
| Carry out a warm start of the computer. |

---

Norsk Data ND-30.003.7 EN

---

## Page 177

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

---

### 4.2.3 Entering and releasing directories

When a disk pack or a floppy diskette is put on a disk unit, the directory on it must be entered. This is done by the command:

```
@ENTER-DIRECTORY (<directory name>) <device name> <device unit> [<fixed=F/removable=R>] [<sub-unit>]
```

The parameters have the same meaning as in the command @CREATE-DIRECTORY. The first directory entered automatically becomes a main and default directory. If the specified name matches the name found on the device, the directory is entered, otherwise an error message is given. The default directory name is the one found on the disk.

#### Example of entering a floppy diskette directory

```
@ENTER-DIRECTORY FLOPPY-PACK,FLOPPY-DISC-1,1
```

If you did not know the directory name, just type:

```
@ENTER-DIRECTORY,,FLOPPY-DISC-1,1
```

Use the following command to set an entered directory as default directory:

```
@SET-DEFAULT-DIRECTORY <directory name>
```

If a directory is not a default directory, the directory name must be given as a prefix, when accessing files on it. This is also the case if a user area has space in more than one default directory.

The command:

```
@SET-MAIN-DIRECTORY <directory name>
```

A system can have up to 16 main directories, each with a maximum of 256 user names. It is thus possible to have 4096 different user names in one system. All user areas must be defined in a main directory in order to access files on other directories where they are also defined. They need not have space in the main directory. A floppy diskette directory cannot be set as a main directory.

---

Norsk Data ND-30.003.7 EN

---

## Page 178

# Example of entering a main directory

To enter a directory called PACK-TWO on the 70MB FSD disk, and set it as main, you can type:

```
@ENTER-DIRECTORY PACK-TWO,DISC-70MB-1,1
@SET-MAIN-DIRECTORY PACK-TWO
```

The command `@ENTER-DIRECTORY` is one way to define a mass storage device in the directory table. Another way to define a mass storage device in the directory table is:

```
@DEFINE-MASS-STORAGE-UNIT <device name> <device unit> [<fixed=F/removable=R>] [<sub-unit>]
```

The parameters are as for the `@ENTER-DIRECTORY` command. On standard versions of SINTRAN VSK K, devices are not placed in the directory table when they are generated. Mass storage devices that are going to be accessed as volumes must be defined in the directory table before they can be used. It is recommended that this command be included in the warm-start procedure to take care of defining magnetic tape drives and floppy drives.

# Example of defining a floppy unit in the directory table

```
@DEFINE-MASS-STORAGE-UNIT FLOPPY-DISC-1 1
```

A directory must be released before the disk pack or floppy diskette is removed from the disk drive. The directory can only be released if none of the files on it are opened, and no users are logged in with this directory as their main or default directory. The command to use is:

```
@RELEASE-DIRECTORY <directory name>
```

After the directory is released, it can be entered again, or another disk can be mounted on the disk drive. The directory can also be entered on another ND computer.

Users sometimes forget to release a directory on a floppy diskette, before taking it out. In such cases, install any other floppy diskette with a directory and give the `@RELEASE-DIRECTORY` command.

Norsk Data ND-30.003.7 EN

---

## Page 179

# SINTRAN III SYSTEM SUPERVISOR

## FILE SYSTEM SUPERVISION

The following command is used to rename an entered directory (the directory must be released before renaming it):

@RENAME-DIRECTORY (<old directory name>) <new directory name>  
<device name> <device unit> [<fixed=F/removable=R>] [<sub-unit>]

The effect of the following commands on the directory table is the reverse of that of the commands described earlier in this section:

@CLEAR-DEFAULT-DIRECTORY <directory name>

@CLEAR-MAIN-DIRECTORY <directory name>

@DELETE-MASS-STORAGE-UNIT <device name> <device unit>  
[<fixed=F/removable=R>] [<sub-unit>]

---

| CAUTION!                                                                 |
|-------------------------------------------------------------------------|
| If you enter a directory used from the K-version of SINTRAN to a computer running an older SINTRAN version, please note the following: |
| ● All files with a file number greater than 255 become invisible, but they are still present on the disk. They reappear when you move them back to the K-version. |
| ● The commands @REGENERATE-DIRECTORY and @TEST-DIRECTORY must not be used if any user area has files with a file number greater than 255. |

---

### 4.2.4 Retrieving information about directories

Some commands are used to retrieve information about directories. The commands @LIST-DIRECTORIES-ENTERED (<directory name>) (<output file>) and  
@DIRECTORY-STATISTICS (<directory name>) (<output file>)  
give information about directories. The first command lists the names of the entered directories matching the directory name parameter. Default is all directories. The second command lists more detailed information about the directories matching the name parameter. It

Norsk Data ND-30.003.7 EN

---

## Page 180

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

takes some time to execute the command because it has to check several items of file-system information on the directory.

These command are, like other statistical commands, available to all users, but are of special interest to the system supervisor.

## Example of retrieving information about a directory

```
@DIRECTORY-STATISTICS PACK-ONE,,
```
```
DIR INDEX 0 : DISC-70MB-1 UNIT 0 : PACK-ONE
(MAIN AND DEFAULT DIRECTORY)
2 PAGES UNRESERVED AND 3456 PAGES UNUSED OUT OF 34765 PAGES
MAXIMUM UNUSED CONTIGUOUS AREA ON DIRECTORY 131 PAGES
```
```
Index in directory table, device name etc, and directory name
```

The directory has only two pages that have not been given to any user-area. At least two pages must be left free in the directory for temporary use by the file system.

The maximum size of a contiguous file that can be created on this directory is 131 pages.

The command to list the mass storage devices already defined in the directory table is:

```
@LIST-MASS-STORAGE-UNITS (<output file>)
```

## Example of directory table

```
@LIST-MASS-STORAGE-UNITS,,
```
```
DIR INDEX 0 : DISC-70MB-1 UNIT 0
DIR INDEX 1 : DISC-70MB-1 UNIT 1
DIR INDEX 40 : FLOPPY-DISC-1 UNIT 0
```
```
Floppy disk units are usually placed at the end of the table.
```

Norsk Data ND-30.003.7 EN

---

## Page 181

# 4.3 Administering user areas and disk space

The System Supervisor is responsible for creating and deleting SINTRAN user areas and giving them disk space. Ordinary users are only allowed to do this on floppy diskettes. The number of pages available on a physical disk medium is limited. It is necessary to plan carefully when sharing these pages between user areas. The System Supervisor is also responsible for creating and maintaining User Environment users (see the User Environment Reference Manual (ND-60.194)).

## 4.3.1 Creating and deleting user areas

A new user area is created and given disk space by giving the commands:

@CREATE-USER <[directory:]user name>

@GIVE-USER-SPACE <[directory:]user name> <number of pages>

A user area must exist in the directory before it can be given any space. It must also exist in a main directory. If the directory name is omitted in the above command, the executing user's main directory is assumed. When a user area is created, it has no password. After the user area is created in the directory it can be included in the User Environment as an alternative user area.

The following example creates a new user area-named DOMINO. The user area is given 500 pages of user space in the directory PACK-TWO. PACK-TWO is not a main directory in this example. The only main directory is PACK-ONE.

| Example of creating and giving a user area space | |
| ------------------------------------------------ | ------------------------------------------------------------- |
| @CREATE-USER  | Create the user area in the |
| USER NAME: DOMINO | main directory first. |
| @CREATE-USER  | |
| USER NAME: PACK-TWO:DOMINO | |
| @GIVE-USER-SPACE | Do not forget to specify  |
| USER NAME: PACK-TWO:DOMINO | which directory the user area |
| NUMBER OF PAGES: 500 | shall be given space on. |

Norsk Data ND-30.003.7 EN

---

## Page 182

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

If a user area already has file space when the @GIVE-USER-SPACE command is entered, the file space will be increased by the number of pages given. If there are not enough unreserved pages in the directory, an error message is given.

To remove a user area from the directory, you use the following command:

```
@DELETE-USER <[directory name:]user name>
```

If you attempt to delete a user area with files in the specified directory, an error message is displayed and the user area is not removed.

Assume that the owner of user area DOMINO has created files in directory PACK-TWO and is moving to another computer, taking along the disk PACK-TWO. The user area can then be deleted in the main directory.

### Example of deleting a user area that has no space in main directory

| @DELETE-USER         |
|----------------------|
| USER NAME: DOMINO    |

User DOMINO must be created in a main directory on the other computer and the disk pack set as a main directory or the user name DOMINO renamed to one existing in the other computer. The following examples show the possibilities:

### Example of moving a disk pack to another ND computer

| Command                                          | Description                                      |
|--------------------------------------------------|--------------------------------------------------|
| @ENTER-DIRECTORY PACK-TWO DISC-70MB-1 1          | Creating DOMINO in the main directory on the host computer. |
| @CREATE-USER PACK-ONE:DOMINO                     |                                                  |
| **or:**                                          |                                                  |
| @ENTER-DIRECTORY PACK-TWO, DISC-70MB-1 1         | Define the directory as a main directory.        |
| @SET-MAIN-DIRECTORY PACK-TWO                     |                                                  |
| **or:**                                          |                                                  |
| @ENTER-DIRECTORY PACK-TWO, DISC-70MB-1 1         | Rename DOMINO to an existing user name on PACK-ONE. |
| @RENAME-USER PACK-TWO:DOMINO SOMETHING-ELSE      |                                                  |

Norsk Data ND–30.003.7 EN

---

## Page 183

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

Unused pages can be taken from a user area by giving the command:

@TAKE-USER-SPACE <[directory name:] user name> <number of pages>

The command assumes the specified user area's main directory, if no directory is specified. It is not possible to take away pages that are already in use by files. The files must first be deleted. If you are going to delete a whole user area with many files, you are advised to take a backup of it first (e.g. onto floppy diskettes). This ensures that valuable files are not lost unintentionally.

## 4.3.2 Defining file access and the number of files that can be created

When a user area is created, it gets a default file access to be used on files that are created. The default file access is specified by giving the command:

@SET-INITIAL-FILE-ACCESS <public access> <friend access> <own access>

All file-access parameters in commands are specified by a combination of the codes: R W A C D or N - None (no access at all).

Norsk Data ND-30.003.7 EN

---

## Page 184

# File Access Codes

| Access code | Explanation |
|-------------|-------------|
| R (Read)    | The file can be opened for read by one or more users simultaneously. |
| W (Write)   | The file can be opened for write by one user at a time. See also the code "C". |
| A (Append)  | Only used as a qualifier to "W" for indexed files. The file is allowed to increase dynamically when necessary. |
| C (Common)  | Only used as a qualifier to contiguous files with write access. Such a file can be opened for write by several users simultaneously. |
| D (Directory) | Attributes in the description of the file can be manipulated, i.e. the file can be renamed or deleted. |
| N (None)    | No access rights at all. This is sufficient to perform statistical commands on your own files. |

*Table 10. File access codes*

When a user area is created, it is also given friend access to be used by other user areas created by the command `©CREATE-FRIEND`. Initial friend access is specified by giving the command:

`©SET-INITIAL-FRIEND-ACCESS (<access codes>)`

A friend's access to any file is always the least common denominator of the friend-access and the file-access. A friend-access of `RWA`, for example, to a file with access `RD` would only give access `R`. It is therefore quite possible to have friends with less access rights to a file than public users without friend-access.

The commands for setting initial file access should be included in the HENT-MODE mode file because the commands must be repeated after each cold start. The default file access can be changed for each user area individually by the command `©SET-DEFAULT-FILE-ACCESS` and `©SET-FRIEND-ACCESS`. These are public commands that permit users to define the default file-access codes themselves. Information about user areas is retrieved by giving the command `@USER-STATISTICS`. 

Norsk Data ND-30.003.7 EN

---

## Page 185

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

### Example of setting initial file-access codes

```
@SET-INITIAL-FILE-ACCESS R,RWA,RWAD

@SET-INITIAL-FRIEND-ACCESS RWAD

@CREATE-USER PACK-ONE:A-BRAND-NEW-USER

.. Logging in on the new user area ..

@CREATE-FRIEND SYSTEM

@USER-STATISTICS A-BRAND-NEW-USER,

USER 29 : PACK-ONE: A-BRAND-NEW-USER
    CREATED <date created>
    LAST DATE ENTERED <date logged in>
    DEFAULT PUBLIC ACCESS : READ
    DEFAULT FRIEND ACCESS : READ, WRITE, APPEND
    DEFAULT OWN ACCESS : READ, WRITE, APPEND, DIRECTORY

Affected by the command @SET-INITIAL-FILE-ACCESS

@LIST-FRIENDS,1

FRIEND 0 : SYSTEM
    ACCESS : READ, WRITE, APPEND

Affected by the command @SET-INITIAL-FRIEND-ACCESS
```

In previous versions of SINTRAN, no more than 256 files were allowed in each user area. In SINTRAN version K, it is possible to have as many as 4096. This is achieved by dividing the 4096 files into 16 object blocks of 256 objects (files) each. New object blocks can be allocated for the user area when needed.

In order to speed up file searching, the number of files each user is allowed to create is initially restricted to 256. If a user needs more files, use the command:

```
@GIVE-OBJECT-BLOCKS (<directory name:> user name)
<number of object blocks>
```

This command is restricted to user SYSTEM unless the directory resides on a floppy diskette. The number of object blocks is added to the object blocks already given to the user area (initially 1). The last line output from the @USER-STATISTICS command tells how many files a user area is allowed to have, for example:

```
MAXIMUM NUMBER OF FILES : 512
```

Norsk Data ND-30.003.7 EN

---

## Page 186

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

All the versions of a file that are created must have file numbers within the same object block interval (e.g. 0..255, 256..511 and so on).

If you need to reduce the number of files a user is able to create, you use the following command:

`@TAKE-OBJECT-BLOCKS <[directory name:] user name> <number of object blocks>`

The first object block (file numbers 0..255) cannot be "taken". The object blocks to be removed must not contain any used file numbers. If for example a user allowed to have 512 files has created 257 files (file numbers 0..256) and later deletes all files except the one with file number 256, both object blocks will still be in use.

| Example of increasing the number of files a user can have.            |
|----------------------------------------------------------------------|
| @CREATE-USER PACK-ONE;FILE-CONSUMER                                  |
| @GIVE-OBJECT-BLOCKS PACK-ONE;FILE-CONSUMER 1                         |
| @USER-STATISTICS FILE-CONSUMER1:                                     |
| .................................................................... |
| MAXIMUM NUMBER OF FILES : 512                                        |

Norsk Data ND-30.003.7 EN

---

## Page 187

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

### 4.3.3 Scratch files

**Scratch files** are temporary files, used to hold data while it is being processed. When, for example, you read a file into NOTIS-WP or PED, the whole file is copied onto the scratch file before the program continues (-WAIT- is displayed in the top right-hand corner of the screen). When you store a file, the opposite happens: the contents of the file are copied from the scratch file to the specified file. Many applications make use of scratch files. Each background program needs a scratch file (terminal, batch processor and TAD). All scratch files are "owned" by user SCRATCH.

SINTRAN opens the scratch file for you automatically when you log in. It always has the logical file number 1008. The scratch files are indexed and, as in the case of other indexed files, they are expanded dynamically when needed. The pages that are given to a scratch file are not released until you log out. Not all of the pages are released when you log out. Some of them remain in the file. The number of pages permanently allocated to the scratch file can be set by giving the SINTRAN Service command:

*SET-CLOSED-SCRATCH-FILE-SIZE (<no. of pages>)*

The default value for this command is 64 pages. It is faster to copy to a scratch file with a large number of permanently allocated pages. However, it is a good policy to keep scratch files small, so that they do not occupy more pages than actually needed.

The number of background processes is printed when SINTRAN is started. You can also find this number by running the S3-Configuration program. A background process always uses the same scratch file. It is a good idea to create more scratch files than currently required, since this simplifies installation of new terminals.

It is difficult to calculate exactly the number of pages required by each scratch file. This always depends on the size of the files that a user works on. This can be anything from a single page to over a thousand pages. It is recommended that user SCRATCH should be given about two hundred pages for each active user (e.g. 10 users * 200 pages = 2000 pages).

Norsk Data ND-30.003.7 EN

---

## Page 188

# SINTRAN III SYSTEM SUPERVISOR  
## FILE SYSTEM SUPERVISION  

---

### 4.3.4 Passwords  

Users create and change their own passwords by the `@CHANGE-PASSWORD` command. The password of any user area can be removed by user SYSTEM. To clear a password, use the command:

    @CLEAR-PASSWORD <user name>

There is at least one reason why user SYSTEM might need to clear a user area's password: If a user has forgotten the password for his/her user area and give you permission to clear it.

If you need to clear a password without the knowledge of the owner of the user area, you must protect the user area by giving it a temporary password immediately. Do not forget to inform the user about what you have done.

**NEVER leave a user area without a password!**

If you must access files on other user areas protected by passwords, this is best solved by requesting the user to:

- create user SYSTEM as a friend
- set sufficient friend access codes for the files involved

Note that friends must have the same main directory!

The number of unsuccessful attempts to give a correct user name and password when logging in is counted and checked against a limit known as the *maximum enter count*. This enter count is used to protect the system from unauthorized users. If the number of attempts to log in exceeds the maximum enter count, the terminal will be disabled and the situation reported on the error device. You must correct this error in the SINTRAN Service Program before the terminal can be used again.

The SINTRAN Service Program command to enable a terminal for further use is:

    *CLEAR-ENTER-COUNT <terminal number> (<memory?>)

The parameter (<memory?>) should always be answered by "Y" to clear the enter count.

Norsk Data ND-30.003.7 EN

---

## Page 189

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

The command and parameters to define the maximum enter count are:

**SET-MAX-ENTER-COUNT <terminal number> <feature wanted?> [(<max enter count>)] (<memory?>) (<save-area?>)**

The first parameter gives you the possibility of disabling the enter-count checking when logging in, but this is not recommended. The maximum enter count should be set high enough to allow users to make some typing errors. At the same time, it should be low enough to be of value to data security. A value between 5..20 should in most cases be reasonable.

## Helping a user who gets "too many attempts to enter"

Suppose this happens on terminal 51:

| ENTER FINGER-TROUBLE |
| PASSWORD: TYPING-ERRORS |

*** TOO MANY ATTEMPTS TO ENTER ***

| The user is unable to make any more attempts to log in. |

@SINTRAN-SERVICE-PROGRAM

**CLEAR-ENTER-COUNT 51D Y**

Norsk Data ND-30.003.7 EN

---

## Page 190

# SINTRAN III SYSTEM SUPERVISOR FILE SYSTEM SUPERVISION

## 4.4 Efficient Directory and File Organization (ADVANCED)

This section gives eight rules to be used when creating directories and user areas. Efficient use of the file system will improve the system performance. The first seven rules will help to speed up the searching for files and user descriptions. Some of this guidance applies only to large computer installations with several directories.

The eight SINTRAN III file system rules for good organization:

1. **Do not have more main directories than you need.**  
   Pack the user areas on the main directories so that successive object entries are used. This will improve the speed of searching for user areas.

2. **Do not have more default directories than you need or can use.**

3. **Never define a user area in more than one main directory, unless it is absolutely unavoidable.**

4. **Change the order of the directory entries in the directory table so that directory index 0 is the main directory with users SYSTEM, SCRATCH, RT and others whose files are most frequently used.**  
   The standard user areas BPUN-FILES and FLOPPY-USER are only used now and then, and they should therefore be the last ones to be created.

   The command @DEFINE-MASS-STORAGE-UNIT reserves the first free entry in the directory table. You thereby control the order of the directory indexes. The command can only be used in standard systems of SINTRAN VSX. The SINTRAN Service Program command SWAP-DIRECTORY-ENTRIES can be used in other configurations for the same purpose.

5. **Specify file names in full to speed up file searching (including directory name) when running mode or batch jobs.**  
   Directory and file searching becomes faster. See also rule 6.

6. **Do not give directory or user name when accessing files on your default directory.**  
   Such information slows down the access time. This applies to all types of work.

7. **Organize the users' files so that those accessed most frequently have the lowest file number.**  
   The @FILE-STATISTICS command gives the number of times a file has been opened.

8. **Only store files related to the operation of the computer on user SYSTEM.**  
   Create personal user areas for other things.

Norsk Data ND-30.003.7 EN

---

## Page 191

# 4.4.1 Two examples of directory organization

The first example is a company that has an ND-110/CX COMPACT computer with two internal 45 MB disks. The user areas and their disk-space requirements are as follows.

1. SYSTEM: 10000 pages.

2. SCRATCH: 2500 pages, RT: 100 pages, NOTIS: 600 pages, BPUH-FILES: 1700 pages, UTILITY: 1000 pages.

3. BASE, a user area for the database files: 5000 pages.

4. CLERK-1 .. CLERK-5, five clerks dealing with the accounting ledgers. No pages, only the database is used.

5. WAGES-1 .. WAGES-2, two wages clerks. No pages.

6. COSTING-1 .. COSTING-5, five clerks dealing with job costing. Each has 500 pages.

7. STOCKCONTROL-1 .. STOCKCONTROL-3, PRODUCTION-1 .. PRODUCTION-3, six more clerks dealing with stock control and production. No pages.

8. SECRETARY-1 .. SECRETARY-3, three secretaries, each using NOTIS-WP and some other ADP applications. They use the file system facilities frequently throughout the day. Each has 1500 pages of file space.

9. The source code of the database applications is kept under user SOURCE. These files are accessed about once per week and occupy 3000 pages.

10. A further three user areas, APPLIC-1, APPLIC-2 and APPLIC-3 have file space for developing application programs, documentation and general use of subsystems. They use the system nearly every day, but their use is not heavy. They each have 2000 pages of file space.

11. One manager uses ADP applications now and then for decision making and statistical purposes. The use is occasional and not heavy. She has 1000 pages of file space.

The two directories available, each with 22032 pages are organized as shown in table 11.

---

## Page 192

# SINTRAN III SYSTEM SUPERVISOR  
## FILE SYSTEM SUPERVISION  

| Directory index | User index | User names     | Number of pages | Notes                        |
|-----------------|------------|----------------|-----------------|------------------------------|
| 0               | 0          | SYSTEM         | 10,000          | Main and default directory.  |
|                 | 1          | SCRATCH        | 2,500           |                              |
|                 | 2          | RT             | 100             |                              |
|                 | 8          | BASE           | 5,000           |                              |
|                 | 3          | COSTING-1      | 500             |                              |
|                 | 4          | COSTING-2      | 500             |                              |
|                 | 5          | COSTING-3      | 500             | All user areas are defined here. |
|                 | 6          | COSTING-4      | 500             |                              |
|                 | 7          | COSTING-5      | 500             |                              |
|                 | 9          | CLERK-1        | 0               |                              |
|                 | 10         | CLERK-2        | 0               |                              |
|                 | 11         | CLERK-3        | 0               |                              |
|                 | 12         | CLERK-4        | 0               |                              |
|                 | 13         | CLERK-5        | 0               |                              |
|                 | 14         | WAGES-1        | 0               |                              |
|                 | 10         | WAGES-2        | 0               |                              |
|                 | 11         | STOCKCONTROL-1 | 0               |                              |
|                 | 12         | STOCKCONTROL-2 | 0               |                              |
|                 | 13         | STOCKCONTROL-3 | 0               |                              |
|                 | 14         | PRODUCTION-1   | 0               |                              |
|                 | 15         | PRODUCTION-2   | 0               |                              |
|                 | 16         | PRODUCTION-3   | 0               |                              |
|                 | 17         | PRODUCTION-3   | 0               |                              |
|                 | 18         | SECRETARY-1    | 0               |                              |
|                 | 19         | SECRETARY-2    | 0               |                              |
|                 | 20         | SECRETARY-3    | 0               |                              |
|                 | 21         | APPLICS-1      | 0               |                              |
|                 | 22         | APPLICS-2      | 0               |                              |
|                 | 23         | APPLICS-3      | 0               |                              |
|                 | 24         | DIRECTOR       | 0               |                              |
|                 | 25         | BPUN-FILES     | 0               |                              |
|                 | 26         | UTILITY        | 0               |                              |
|                 | 27         | NOTIS          | 0               | In total: 20,100 pages       |

| Directory index | User index | User names     | Number of pages | Notes              |
|-----------------|------------|----------------|-----------------|--------------------|
| 1               | 0          | SECRETARY-1    | 1,500           | Default directory  |
|                 | 1          | SECRETARY-2    | 1,500           |                    |
|                 | 2          | SECRETARY-3    | 1,500           |                    |
|                 | 3          | APPLICS-1      | 2,000           |                    |
|                 | 4          | APPLICS-2      | 2,000           |                    |
|                 | 5          | APPLICS-3      | 2,000           |                    |
|                 | 6          | DIRECTOR       | 1,000           |                    |
|                 | 7          | UTILITY        | 1,000           |                    |
|                 | 8          | NOTIS          | 600             |                    |
|                 | 9          | BPUN-FILES     | 1,700           | In total: 14,800 pages |
|                 | 10         | FLOPPY-USER    | 0               |                    |

*Table 11. Example of directory organization of a small system*

Norsk Data ND-30.003.7 EN

---

## Page 193

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

The second example concerns a university that has an ND-570/CX computer with several directories; two sub-divided 4 x 70MB FSD disks (8 directories) and two 70MB RSD disks (2 directories). Altogether mounted in a filestore cabinet. The following user areas with the stated space requirements are arranged on the following 10 directories:

1. **SYSTEM**: 23,500 pages.

2. **SCRATCH**: 8000 pages, RT: 300 pages, UTILITY: 1000 pages, BPUN-FILES: 1000 pages for ND-100 programs.

3. **DOMAINS**: 5000 pages for ND-500 programs.

4. **ANALYST-1 .. ANALYST-5**: Five system analysts making constant use of the system, each requiring 1500 pages.

5. **POSTGRAD-1 .. POSTGRAD-200**: Two hundred postgraduate students, each requiring 500 pages.

6. **STUDENT-3-1 .. STUDENT-3-200**: Three hundred final year students, each requiring 300 pages.

7. **STUDENT-1 .. STUDENT-500**: Five hundred first and second-year students, each requiring 150 pages.

Apart from user SYSTEM, SCRATCH, and ANALYST-1 .. ANALYST-5, the other user areas will have roughly equal use. The only important point to note is that students in a class will sometimes be making intense use of the machine simultaneously, and it is thus advisable to group student classes so that all user area entries for students in a class lie on the same page.

The ten directories available, each with 34765 pages, should be organized as shown in table. 12.

---

Norsk Data ND-30.003.7 EN

---

## Page 194

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

| Directory index | User index | User names   | Number of pages | Notes                                   |
|-----------------|------------|--------------|-----------------|-----------------------------------------|
| 0               | 0          | SYSTEM       | 23,500          | Main and default directory              |
|                 | 1          | RT           | 300             |                                         |
|                 | 2          | SCRATCH      | 8,000           |                                         |
|                 | 3          | UTILITY      | 1,000           | (DISC-70MB-1, UNIT 0)                   |
|                 | 4          | BPUN-FILES   | 1,000           |                                         |
|                 | 5          | ANALYST-1    | 0               |                                         |
|                 |            | . . . . . .  | 0               |                                         |
|                 | 9          | ANALYST-5    | 0               |                                         |
|                 | 10         | STUDENT-3-1  |                 |                                         |
|                 |            | . . . . . .  |                 |                                         |
|                 | 209        | STUDENT-3-200| 0               | In total:                               |
|                 |            |              |                 | 33,800 pages                            |
| 1               | 0          | POSTGRAD-1   | 500             | Main and default directory              |
|                 |            | . . . . . .  |                 |                                         |
|                 | 39         | POSTGRAD-40  | 500             | (DISC-70MB-1, UNIT 1)                   |
|                 | 40         | POSTGRAD-41  | 0               |                                         |
|                 |            | . . . . . .  |                 |                                         |
|                 | 199        | POSTGRAD-200 | 0               |                                         |
|                 | 200        | ANALYST-1    | 1,500           |                                         |
|                 |            | . . . . . .  |                 |                                         |
|                 | 204        | ANALYST-5    | 1,500           | In total:                               |
|                 | 205        | DOMAINS      | 5,000           | 32,500 pages                            |
| 2               | 0          | STUDENT-1    | 150             | Main and default directory              |
|                 |            | . . . . . .  |                 | (DISC-4-70MB-1 UNIT 2, SUB 0)           |
|                 | 149        | STUDENT-150  | 150             |                                         |
|                 | 150        | STUDENT-151  | 0               |                                         |
|                 |            | . . . . . .  |                 | In total:                               |
|                 | 249        | STUDENT-250  | 0               | 22,500 pages                            |
| 3               | 0          | STUDENT-251  | 150             | Main and default directory              |
|                 |            | . . . . . .  |                 | (DISC-4-70MB-1 UNIT 2, SUB 1)           |
|                 | 149        | STUDENT-400  | 150             |                                         |
|                 | 150        | STUDENT-401  | 0               |                                         |
|                 |            | . . . . . .  |                 | In total:                               |
|                 | 249        | STUDENT-500  | 0               | 22,500 pages                            |

Norsk Data ND-30.003.7 EN

---

## Page 195

# SINTRAN III SYSTEM SUPERVISOR
## FILE SYSTEM SUPERVISION

| Directory index | User index | User names     | Number of pages | Notes                                                                                  |
|-----------------|------------|----------------|-----------------|----------------------------------------------------------------------------------------|
| 4               | 0          | POSTGRAD-41    | 500             | Default directory (DISC-4-70MB-1 UNIT 2, SUB 2) In total: **30,000 pages**             |
|                 |            |                |                 |                                                                                        |
|                 | 59         | POSTGRAD-100   | 500             |                                                                                        |
|                 |            |                |                 |                                                                                        |
| 5               | 0          | POSTGRAD-101   | 500             | Default directory (DISC-4-70MB-1 UNIT 2, SUB 3) In total: **30,000 pages**             |
|                 |            |                |                 |                                                                                        |
|                 | 59         | POSTGRAD-160   | 500             |                                                                                        |
| 6               | 0          | POSTGRAD-161   | 500             | Main and default directory (DISC-4-70MB-1 UNIT 3, SUB 0) In total: **20,000 pages**    |
|                 |            |                |                 |                                                                                        |
|                 | 39         | POSTGRAD-200   | 500             |                                                                                        |
| 7               | 0          | STUDENT-3-1    | 300             | Default directory (DISC-4-70MB-1 UNIT 3, SUB 1) In total: **30,000 pages**             |
|                 |            |                |                 |                                                                                        |
|                 | 99         | STUDENT-3-100  | 300             |                                                                                        |
| 8               | 0          | STUDENT-3-101  | 300             | Default directory (DISC-4-70MB-1 UNIT 3, SUB 2) In total: **30,000 pages**             |
|                 |            |                |                 |                                                                                        |
|                 | 99         | STUDENT-3-200  | 300             |                                                                                        |
| 9               | 0          | STUDENT-151    | 150             | Default directory (DISC-4-70MB-1 UNIT 3, SUB 3) In total: **30,000 pages**             |
|                 |            |                |                 |                                                                                        |
|                 | 99         | STUDENT-250    | 150             |                                                                                        |
|                 | 100        | STUDENT-401    | 150             |                                                                                        |
|                 |            |                |                 |                                                                                        |
|                 | 199        | STUDENT-250    | 150             |                                                                                        |

*Table 12. Example of directory organization of a large system*

Norsk Data ND-30.003.7 EN

---

## Page 196

![Image](https://i.imgur.com/YJfIiDf.gif)

---

## Page 197

# Chapter 5: COSMOS Basic Module Operations

This chapter documents the installation and operation procedures of the network facilities in the COSMOS Basic Module (ND-210374) as implemented under SINTRAN III version K. You should already be familiar with the COSMOS concept from the end user's level. Such documentation is found in the manual COSMOS User Guide (ND-60.163).

The facilities of IS XMSG that are needed to operate and run the COSMOS Basic Module are only briefly described in this manual. The XMSG-COMMAND program is used for control and definition of network routing in XMSG. When the network routing is done, all computers are identified with a unique system name and system number.

## 5.1 Survey

COSMOS is ND's distributed data communications environment. It provides communication and application services to augment the user services provided by SINTRAN III.

The COSMOS Basic Module provides the services necessary to run a minimal local area network (LAN) with several systems (computers) interconnected. The basic services are CONNECT-TO, File Transfer, COSMOS Spooling and Remote File Access. Additional options can be added.

### 5.1.1 Prerequisites to use the COSMOS BM

The COSMOS BM can be run on all ND computers that have a ND-100 CPU.

|            |                                                                 |
|------------|-----------------------------------------------------------------|
| HARDWARE   | One or more communication interfaces of type HDLC or MEGALINK.  |
| XMSG       | The K version of XMSG IS.                                       |
| COSMOS BM  | The D version.                                                  |
| SINTRAN    | The K version.                                                  |

The installation of COSMOS BM requires 472 unused pages divided between 20 files.

Norsk Data ND-30.003.7 EN

---

## Page 198

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS  

You should read the PD-sheets for COSMOS BM before installing it. The examples of mode files used for start and stop of the system in appendix H include COSMOS BM. Remember that XMSG also must be present.

## 5.1.2 Defining the network routing

After XMSG has been started in a warm start, all network routing must be done. This is because tables containing network definitions are emptied when XMSG is stopped. The mode file XMSG-START (normally found on user UTILITY) must be tailored to handle the network routing.

### Example of the XMSG-START file for HDLC and Megalink

| Code Snippet                                      | Description                                                        |
|---------------------------------------------------|--------------------------------------------------------------------|
| @CC ** XMSG STARTUP MODE FILE FOR ND-6887 **      |                                                                    |
| @SINTRAN-SERVICE                                  |                                                                    |
| @STOP-XMSG                                        |                                                                    |
| @EXIT                                             |                                                                    |
| @&(UTILITY)XMSG-COMMAND                           | This program communicates with the kernel parts of XMSG.           |
| DEFINE-REMOTE-NAME,MY-COMPUTER,6887               |                                                                    |
| DEFINE-REMOTE-NAME,PARTNER-1,6888                 |                                                                    |
| DEFINE-REMOTE-NAME,PARTNER-2,6889                 | Names and routes for all computers accessible from this one (MY-COMPUTER). |
| DEFINE-REMOTE-NAME,NODE,6890                      |                                                                    |
| ....                                              |                                                                    |
| DEFINE-SYSTEM-ROUTE,PARTNER-1,NODE                |                                                                    |
| DEFINE-SYSTEM-ROUTE,PARTNER-2,NODE                |                                                                    |
| ....                                              |                                                                    |
| START-LINK,1360,...-1,                            |                                                                    |
| LIST-LINKS,...                                    | Start software handling the hardware connections (HDLC or Megalink).  |
| EXIT                                              |                                                                    |

Instead of referencing remote computers by system numbers, they are given a symbolic name to be stored in a name table. These names are used by both the users and the applications programs. It is very important that the system numbers are the correct ones (found by using the `@LIST-TITLE` command).

The next step is to define the routes to the different remote systems. The network architecture of the previous example is as shown in figure 34.

Norsk Data ND-30.003.7 EN

---

## Page 199

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

|              |             |
|--------------|-------------|
| MY-COMPUTER  | Local system |
| ↓            | (direct link to neighbour) |
| NODE         | Neighbour remote system |
| ........     | ........ (invisible part of network) |
| PARTNER-1    | PARTNER-2 Remote systems |

*Figure 34. A small network using HDLC or Megalink*

When defining the routes to remote systems, it is not necessary to define routes to the adjacent systems in the network. Only routes for the systems that shall be "visible" from the local systems need to be defined. By adjacent system is meant the system to which the local system has a direct link (physical connection). The command to be used for HDLC and Megalink routing is:

**X-C: DEFINE-SYSTEM-ROUTE (<XROUT system>) <system> (<via system>)**

The first parameter is the name of the system the route shall be defined from. Default is your local system which you are currently working on. Parameter 2 is the name of the remote system that the local system shall have access to. The last parameter is the system name of the local system's neighbour which the remote system is accessed via. There must be a link between the local system and this neighbour system. Default is NONE, which means there is a direct link between the local and remote systems.

* *Norsk Data ND-30.003.7 EN*

---

## Page 200

# Example of the XMSG-START file for Ethernet

```
@CC    ** XMSG STARTUP MODE FILE FOR ND-6887 ***

@SINTRAN-SERVICE
@STOP-XMSG
@EXIT

@<UTILITY>XMSG-COMMAND

DEFINE-REMOTE-NAME,.MY-COMPUTER,6887
DEFINE-REMOTE-NAME,.PARTNER-1,6888
DEFINE-REMOTE-NAME,.PARTNER-2,6889

Names for computers to be accessible from local system.

START-NETWORK-SERVER ENNSO,.,N
DEFINE-NETWORK-CONNECTION,.PARTNER-1,ENNSO
DEFINE-NETWORK-CONNECTION,.PARTNER-2,ENNSO

EXIT

Start network server for Ethernet. The server name is configuration dependent (see PD-sheets). Define connections to the remote systems accessible from this computer.
```

The network architecture when using Ethernet is as shown in figure 35.

```
+-------------+    +-----------+    +-----------+
| MY-COMPUTER |----| PARTNER-1 |----| PARTNER-2 |
+-------------+    +-----------+    +-----------+
   |               Ethernet cable             |
```

*Figure 35. A small Ethernet network*

Norsk Data ND-30.003.7 EN

---

## Page 201

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

### 5.2 The Connect-To Service program and TADs

The Connect-To program should be dumped reentrant in order to make it easy to start for the users.

### 5.2.1 The SINTRAN TAD commands

There are three SINTRAN TAD commands you need to know. They are:

**@TADADM**

**@START-TADADM**

**@STOP-TADADM**

The SINTRAN command **@TADADM** tells you the status of each Terminal Access Device (TAD):

#### Example of TAD information

```
MY-COMPUTER@TADADM
```

| TAD/TYP | RESERV | ESCAP | PORTNO | - PORTNO | TERMTNO | USER                  | SYSTEM    |
|---------|--------|-------|--------|----------|---------|-----------------------|-----------|
| 768/ O  | BAK14  | Enab  | 14     | 13       | 42      | UTILITY               | SCHOLAR   |
| 769/ O  | BAK03  | Enab  | 10     | -        | **This TAD has no corresponding PAD.** |       |
| 770/ 0  | No     | Enab  | Discon | -        |         |                       |           |
| 771/ 0  | BAK05  | Enab  | 12     | 9        | 50      | SYSTEM                | SOUTH     |
| 772/255 | BAK08  | Enab  | 7      | 6        | FS Administrator <local> |           |
| 773/ 0  | No     | Disab | Discon | -        |         |                       |           |

| Local system information. | Remote system information, except where <local> is given. |

Norsk Data ND-30.003.7 EN

---

## Page 202

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

The information on the left is local-system information (the computer where you gave the TADADM command). The TADs are numbered from 768 and up, their type ("TYP") is 0. Each TAD being used needs a background program to be able to work. The background programs for the TADs are taken from the same pool as those used for the ordinary terminals.

TADs not in use should look like TAD 770 above, while each TAD being used for a File Server should look like 772 above. File Servers are controlled by the RT program TADAD on the local computer.

The column "ESCAP" tells you whether or not the escape function is enabled on the TADs. The command @ENABLE-ESCAPE-FUNCTION is used to enable the escape function for both terminals and TADs. This can be useful when it becomes impossible to disconnect from a remote system.

The column "PORTNO" tells you the XMSG port numbers in use, the local port numbers at the left side and the remote at the right side.

The remote system information includes also "TERMNO" (terminal number), "USER" (user name) and "SYSTEM" (computer name) for the system where the users are connected from, i.e. their local system.

---

| MY-COMPUTER             | SCHOLAR         |
|-------------------------|-----------------|
| **(local system)**      | **(remote system)** |
| TAD administrator       | User UTILITY    |
|                         |                 |
| TAD 768                 | TERM 42         |
| (virtual connection)    |                 |
| XMSG port 14            | XMSG port 7     |

*Figure 36. Example of interconnection in the Connect-To system*

Note that in the TAD information example TAD 769 has no Peripheral Access Device (PAD):

| Example of a hanging TAD                   |
|--------------------------------------------|
| 769/0 BAK03 Enab 10 - **This TAD has no corresponding PAD.** |

Norsk Data ND-30.003.7 EN

---

## Page 203

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

Under certain circumstances this error situation occurs. When it happens, the TAD cannot be used until you correct the error by using the RECONNECT-TAD command (explained later).

The purpose of the **START-TADADM command** is to make the TAD service available, making it possible to log on a TAD from a remote system. The TAD Administrator is started. The command should normally be found in the SINTRAN LOAD-MODE file. Only user SYSTEM can give it.

### Starting the TAD Administrator

| Command         |
|-----------------|
| @START-TADADM   |

When the **@STOP-TADADM** command is executed, it will no longer be possible to log on any of the unused TADs. The operation of active TADs is not, however, affected. Only the TAD Administrator stops.

Users who try to log on a TAD when TADADM has been stopped, receive the error message, 'Remote terminal access not running on \<remote system name\>'.

This can be used to improve the data security in your system. The TAD Administrator can for example be stopped during nights, weekends and holidays to prevent unauthorized persons from logging in.

### Stopping the TAD Administrator

| Command        |
|----------------|
| @STOP-TADADM   |

## 5.2.2 The Connect-To Service program

The Service program of the Connect-To are described in this section. You select the Service program by typing:

### Entering the Connect-To Service program

| Command        |
|----------------|
| @CONNECT-TO    |

COSMOS CONNECT-TO PROGRAM VERSION - D, JUNE 03, 1986  
C-T: SERVICE-PROGRAM

CONNECT-TO service-program - Version D.  
CT-SERV:

Norsk Data ND-30.003.7 EN

---

## Page 204

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

If you want to fix a TAD without a PAD (Peripheral Access Device) or connect to a specific TAD, use:

    RECONNECT-TAD <TAD logical unit number> <system name> <password>

The command is only available for user SYSTEM. For example, you want to reserve the TAD 774 on the system SOUTH:

### Example of reserving a TAD

| CT-SERV: RECONNECT-TAD                             |
|----------------------------------------------------|
| TAD LOGICAL UNIT NO: 774                           |
| SYSTEM-NAME: SOUTH                                 |
| Specify system-password for system: SOUTH please: <invisible> |
| === CONNECTION ESTABLISHED ===                     |
| TAD LOGICAL UNIT NO: 774                           |
| You have got the TAD.                              |

ESC

SINTRAN III - VSX K SOUTH  
ENTER SYSTEM  
PASSWORD: {invisible}  
OK  
SOUTHE  

You have now reconnected the TAD by using it yourself. This can be useful to correct a situation with a hanging TAD ("TAD without a PAD"), or when you need to recover a resource that has accidentally reserved a TAD.

The TAD type that is used when logging in on a remote computer is controlled by:

    CHANGE-CONNECT-TYPE <new TAD type>

The TAD type is by default 0 for the Connect-To program. User RT and SYSTEM are allowed to use the command. Other parts of COSMOS that use TADs have different TAD types for identification. You are advised not to change the TAD type in the present version of Connect-To (future extension).

Norsk Data ND-30.003.7 EN

---

## Page 205

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

If you want to change timeout values concerning inactive use of TADs for your system, use:

**SET-TIMEOUT-VALUES (<not logged in>) (<not active>)**

The `<not logged in>` value applies when you have connected to a remote system, but not yet logged in. The default value is one minute. The `<not active>` value you give determines how long you can remain inactive after having logged in on the remote system. Default here is 30 minutes. When a timeout occurs, COSMOS disconnects the inactive user from the network. Reasonable values should be selected.

## Changing timeout values

|                     |                              |
|---------------------|------------------------------|
| CT-SERV: SET-TIMEOUT-VALUES |  |
| NOT LOGGED IN: 2    | 2 min. before logged in.     |
| NOT ACTIVE: 10      | 10 min. inactive after logged in. |

You can change these values for everyone on your system who uses Connect-To, but then you must also give the DUMP-PROGRAM command. An example of this is given later.

In addition to changing the timeout values, you can also disable them totally by giving the command:

**TIMEOUT-OFF**

The result of this command, which can only be used by user RT or user SYSTEM, is that, once you connect to a remote system, you will not be disconnected however long you are inactive. The DUMP-PROGRAM must be used to change this permanently for all users.

## Disabling the timeout

|                           |                                       |
|---------------------------|---------------------------------------|
| CT-SERV: TIMEOUT-OFF      |                                       |
| CT-SERV: EXIT             |                                       |
| CT:: LIST-TIMEOUT-VALUES  | You see whether timeout is on or off. |
| TIMEOUT OFF               |                                       |

This will prevent you from being disconnected due to either type of timeout.

Use this to restore your timeout values to the default values for your system:

**TIMEOUT-ON command**

Norsk Data ND-30.003.7 EN

---

## Page 206

# SINTRAN III SYSTEM SUPERVISOR  
### COSMOS BASIC MODULE OPERATIONS

The local character used for disconnecting from a remote computer can be redefined. The default local character is CTRL-@ (ASCII 0). Redefining the local character is done as follows:

#### Changing the local character

| Command                          | Description                     |
|----------------------------------|---------------------------------|
| CT-SERV: CHANGE-LOCAL-CHARACTER  |                                 |
| ASCII VALUE : 4B                 | This corresponds to CTRL-D.     |
| CT-SERV: EXIT                    |                                 |
| CT: LIST-LOCAL-CHARACTER         |                                 |
| OCTAL VALUE OF LOCAL CHARACTER: 4|                                 |

The command DUMP-PROGRAM must be used to make the change permanent and for all users.

When you have connected to a remote system, you are not allowed to enter the Connect-To program there. If you then want to change the local character, use the SINTRAN command:

```
@DEFINE-LOCAL-CHARACTER (<terminal number>) (<value of local character>)
```

The default value is your own terminal with local character value 0 (CTRL-@). Only user SYSTEM is allowed to use this command.

The definitions of which categories of SINTRAN users are allowed to execute certain Connect-To commands are controlled by the following commands:

```
SET-COMMAND-PROTECTION <command> <protection: system/rt/public>
```

These commands can only be given from user SYSTEM. You can define who can use the different parts of the Connect-To command. For instance, suppose that you only want RT and SYSTEM to be able to dump script programs and you want to allow everyone to reconnect TAD's.

#### Example of changing the protection for commands

| Command                                   | Description                                               |
|-------------------------------------------|-----------------------------------------------------------|
| CT-SERV: SET-COMMAND-PROTECTION           |                                                           |
| COMMAND: INITIALIZE-SCRIPT                |                                                           |
| PROTECTION (SYSTEM, RT OR PUBLIC): RT     |                                                           |
| CT-SERV: SET-COMMAND-PROTECTION           |                                                           |
| COMMAND: RECONNECT-TAD                    |                                                           |
| PROTECTION (SYSTEM, RT OR PUBLIC): PUBLIC |                                                           |

Norsk Data ND-30.003.7 EN

---

## Page 207

# SINTRAN III SYSTEM SUPERVISOR  
# COSMOS BASIC MODULE OPERATIONS

If they are to go into effect permanently, these changes must also be dumped. The command should be used with care as it influences data security.

When you use the command:

## DUMP-PROGRAM \<program file\>

you dump the Connect-To program you are currently running to another program file. All redefinitions of commands and parameters that you have made are included in the dumped program.

In this way, you are able to make a new version of Connect-To that reflects your changes. You are advised not to dump the program to the original file COS-CONNECT-TO:PROG unless you have a copy of the original program (e.g. on a floppy diskette).

---

### Example of modifying and dumping a new version of Connect-To

    @CONNECT-TO  

    COSMOS CONNECT-TO PROGRAM VERSION - D , JUNE 03, 1986  
    C-T: SERVICE-PROGRAM  
    CONNECT-TO service-program - Version D.  

    CT-SERV: SET-COMMAND-PROTECTION  
    COMMAND: INITIALIZE-SCRIPT  
    PROTECTION (SYSTEM, RT OR PUBLIC): RT  

    CT-SERV: SET-COMMAND-PROTECTION  
    COMMAND: RECONNECT-TAD  
    PROTECTION (SYSTEM, RT OR PUBLIC): PUBLIC  

    CT-SERV: SET-TIMEOUT-VALUES  
    NOT LOGGED IN: 2  
    NOT ACTIVE: 10  

    CT-SERV: DUMP-PROGRAM  
    PROG-FILE: "NEW-CONNECT-TO"       | A brand new file name.  

    CT-SERV: EXIT  
    C-T: EXIT  

---

Norsk Data ND-30.003.7 EN

---

## Page 208

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

The next step is to make sure that nobody is using Connect-To. You can then give the following commands:

```
@DELETE-REENTRANT CONNECT-TO
@DUMP-PROGRAM-REENTRANT CONNECT-TO NEW-CONNECT-TO
```

When users on your system use Connect-To, it will reflect the changes made above. If you want the changes to be permanent, remember also to update the DUMP-REENTRANT file to make the correct version of the Connect-To reentrant. Make sure that the file access for the old version is set to none for public users.

The Connect-To service command `DUMP-PROGRAM` is also used for dumping script programs.

---

## 5.3 The script facility of Connect-To

**SCRIPT** is a feature of Connect-To that allows you to create your own version of Connect-To. For instance, if you often need to log in on a remote system and run a certain program there, you can create a special version of Connect-To that does this for you automatically.

As in the case of the ordinary Connect-To program, you are not allowed to use the CONNECT-TO command from a remote system. This restriction exists for purposes of data security.

We start this section by giving a simple example, and then go on to explain all the SCRIPT features in detail.

Let us suppose that you often need to run a program called QUICK-ACCOUNT on the remote system SCHOLAR. In this example this is done by a SCRIPT called GO-QUICK. By writing `@GO-QUICK` in SINTRAN, you will automatically be connected to and logged in on SCHOLAR. QUICK-ACCOUNT will be executed. Upon completion, you return to SINTRAN on the local system.

Use PED or another editor to create a document called GO-QUICK:SYMB (use only uppercase letters and 7-bits format!) containing the following lines:

---

## Page 209

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS  

### Example of a simple script program  

```
*SCRIPT: /SINGLE/ 
   *INPUT: CONNECT-TO SCHOLAR
   *MACRO: LOGIN-DEFAULT /MYSELF/,/FLOPPY-USER...
   *DISPLAY-ON: 
   *INPUT: QUICK-ACCOUNT
*ENDSCRIPT: /SINTRAN/
```

**SCRIPT** signals the beginning of a SCRIPT, and **ENDSCRIPT** marks the end.  
The line indentation is just used to increase the readability. A file  
can contain several SCRIPTs. **/SINGLE/** means that this file only  
contains one SCRIPT. **/SINTRAN/** means that the user of the SCRIPT will  
return to SINTRAN on the local system after the program QUICK-ACCOUNT  
has been run.  

The four lines starting with the line identifiers *INPUT:, *MACRO:,  
*DISPLAY-ON:, and *INPUT: make up the SCRIPT body. All script  
identifiers are preceded by an asterisk (*) and end with a colon (:).  
Extra blanks between parameters etc. are ignored (stripped). The  
maximum line length is 128 characters, including blanks.  

To create a SCRIPT out of the QUICK-ACCOUNT file:

### Initializing and dumping a script

```
MY-COMPUTERøCONNECT-TO

COSMOS CONNECT-TO PROGRAM VERSION - D, JUNE 03, 1986  
C-T: SERVICE-PROGRAM  

CONNECT-TO service-program version D  
CT-SERV: INITIALIZE-SCRIPT  
SCRIPT-FILE: GO-QUICK:SYMB  

   SCRIPT NAME .......... : /SINGLE/  
   CT info status ....... : CT INFO OFF (IN SCRIPT ONLY)  
   Remote command mode .. : NOT ALLOWED  
   Command mode return to : LOCAL COMMAND MODE  

CT-SERV: DUMP-PROGRAM  
PROG-FILE: "GO-QUICK"  
CT-SERV: EXIT  

MY-COMPUTERø  
```

Norsk Data ND-30.003.7 EN

---

## Page 210

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

You now have a new file called GO-QUICK:PROG. To execute the SCRIPT, you type:

| Starting a script program |
|---------------------------|
| MY-COMPUTER@GO-QUICK      |

You will automatically be connected to SCHOLAR. COSMOS then tries to log you in with the same user name and password as on the local computer. If that does not work, you will be logged in as FLOPPY-USER. Finally, your screen is turned on and the program called QUICK-ACCOUNT started. You return directly to your local computer when this program terminates.

If you merely want to test a SCRIPT program, do not use the DUMP-PROGRAM command because this takes some time; exit to SINTRAN instead. Then do the following:

| Simple way of starting an initialized script program |
|------------------------------------------------------|
| @GOTO-USER 0                                         |
| The program QUICK-ACCOUNT is run.                    |

If the SCRIPT programs you write are going to be used quite often, you should dump them as reentrant programs.

You may want to include many SCRIPTs in the same SCRIPT program. This will reduce the number of :PROG files. For instance, the program MY-SCRIPTS:PROG could contain SCRIPTs for QUICK-ACCOUNT, FORTRAN-500, ND-500-MONITOR, etc. The user would then type:

| Selecting a script in a multi-script program |
|----------------------------------------------|
| MY-COMPUTER@MY-SCRIPTS ND-500-MONITOR        |

Choose short SCRIPT names because they cannot be abbreviated.

Norsk Data ND-30.003.7 EN

---

## Page 211

# 5.3.1 SCRIPT syntax

The identifiers allowed in SCRIPTs are listed in table 13.

| *SCRIPT: | /SINGLE/ |
|--------------------|---------------------------|
| *SCRIPT: | <SCRIPT name> |
| *INPUT: | <character string> |
| *ADDIN: | <character string> |
| *MACRO: LOGIN-SPECIFIED | <user name,[password,project password]> |
| *MACRO: LOGIN-DEFAULT /MYSELF/ | [<default project password, user name,password,project password>] |
| *MACRO: LOGIN-DEFAULT | /UE/ |
| *MACRO: ASK-SCRIPT | <character string> |
| *DISPLAY-ON: | |
| *DISPLAY-OFF: | |
| *CT: | -INPO-OFF: |
| *ENDSCRIPT: | |
| *ENDSCRIPT: | /SINTRAN/ |
| *ENDSCRIPT: | {<subsystem name>} |

*Table 13. SCRIPT identifiers in Connect-To*

# 5.3.2 How to start and end a SCRIPT

You use the two identifiers *SCRIPT: and *ENDSCRIPT: respectively to start and end SCRIPTs:

*SCRIPT: must be the first thing written in a SCRIPT file. A file must contain one *SCRIPT: identifier for each SCRIPT in the file. The identifier *SCRIPT: can be followed by one of three things:

*SCRIPT: /SINGLE/

This can only be used for script programs with only one script.

*SCRIPT: <SCRIPT name>

If your SCRIPT file contains many SCRIPTs, use this for each of them.

Note that the <SCRIPT name> is NOT enclosed between slashes (/ /). Each <SCRIPT name> must only appear once in the file. The name must be at least two characters long.

Norsk Data ND-30.003.7 EN

---

## Page 212

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

**SCRIPT: /DEFAULT/**

This SCRIPT will be executed when no name is specified. It can only appear once in the program file.

The identifier **ENDSCRIPT:** must come at the end of each SCRIPT in the SCRIPT file.

If **ENDSCRIPT:** has parameters, it means that the remote command mode is not allowed. At this point, the user returns to the local system.

If the user is in a subsystem, such as NOTIS-WP or the ND-500-MONITOR, return takes place upon leaving that subsystem and not before.

If the SCRIPT fails to connect to a remote system, the Connect-To program is resumed. The different parameters to **ENDSCRIPT:** are:

**ENDSCRIPT: /SINTRAN/**

Return to SINTRAN mode on the local system when the SCRIPT is finished. Entering remote command mode is not allowed.

**ENDSCRIPT: <subsystem name>**

Return to the specified subsystem name after the SCRIPT is finished. You are allowed to use the name of a script program. Remote command mode is not allowed.

**ENDSCRIPT:**

The user remains on the remote system after the SCRIPT ends, i.e. in SINTRAN, UE, or another subsystem.

---

Norsk Data ND-30.003.7 EN

---

## Page 213

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS  

### 5.3.3 The SCRIPT body  

The body of a SCRIPT is the part between *SCRIPT: and *ENDSCRIPT:. Different identifiers are allowed in the body, and they can be repeated several times.

**INPUT: <character string>**

The character string is input to the Connect-To program if the connection to a remote system is not yet established. Otherwise, the string is input to the remote system. Trailing spaces at the end of the string are ignored. Reentry to the Connect-To Service program is prohibited.

Here are a few examples:

| Examples of executing tasks by the *INPUT identifier |
|------------------------------------------------------|
| *INPUT: CONNECT-TO SCHOLAR                           |
| *INPUT: LIST-SPOOLING-QUEUE PHILIPS,...               |
| *INPUT: ACCESS                                        |
| *INPUT: DATCL                                         |
| *INPUT: FORTRAN-100                                   |  

**ADDIN: <character string>**

Unused characters from the SINTRAN command line will be added after the string. *ADDIN: can be used one or more times within the same script. Each time, the next parameter from the input line is added to the script (separated by a blank or a comma).  

Norsk Data ND-30.003.7 EN

---

## Page 214

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

### Example of making a script using the *ADDIN: identifier

If you want to create a SCRIPT that will allow users to connect to the system they specify, you can type:

    *ADDIN: CONNECT-TO

When calling that SCRIPT, users can write the name of the system they want to connect to. For instance, if the SCRIPT is called TO, they can type this to connect to SCHOLAR:

    MY-COMPUTER@TO SCHOLAR

### *MACRO:

The command *MACRO: should be followed by one of the LOGIN macros or the ASK-SCRIPT macro. If the macro has any parameters, they should be supplied on the same line.

The three LOGIN macros have relate to logging in on the remote system. A LOGIN macro can only be used once in a script.

LOGIN-SPECIFIED <user name>,<password>,[<project password>]

This is for logging in as a particular user. Use commas as parameter delimiters to get default values. The parameters must of course be legal in order for the SCRIPT to be able to log in.

#### Example of logging in as a particular user

    *ADDIN: CONNECT-TO
    *MACRO: LOGIN-SPECIFIED SCRIPT-USER,SECRET-PASSWORD,,

LOGIN-DEFAULT has two possible parameters. If you use /MYSELF/, the SCRIPT will try to log in using the same user name and password(s) as on the local system. Project password for /MYSELF/ is optional. If default logging in fails, the SCRIPT will try to log in using the last 3 optional parameters. The full syntax is:

LOGIN-DEFAULT /MYSELF/ [<project password>] [<user name> <password> <project password>]

Norsk Data ND-30.003.7 EN

---

## Page 215

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## Example of logging in with FLOPPY-USER as alternative

```
*MACRO: LOGIN-DEFAULT /MYSELF/, FLOPPY-USER,,
```

The other possibility for LOGIN-DEFAULT is to enter User Environment:  
**LOGIN-DEFAULT /UE/**

This should only be used if User Environment is enabled on all TADs on the remote system.

Here is a SCRIPT file that logs in UE user SCRIPT USER with password SECRET-PASSWORD on SCHOLAR:

## Example of logging in via User Environment

```
*SCRIPT /DEFAULT/
*INPUT: CONNECT-TO SCHOLAR
*MACRO: LOGIN-DEFAULT /UE/
*INPUT: SCRIPT USER
*INPUT: SECRET-PASSWORD
*DISPLAY-ON:
*INPUT: CC END OF UE-LOGIN
*ENDSCRIPT:
```

If you create a multi-script file that has no default script, you will always be asked what SCRIPT name you want. If you want to create your own prompts for script name, make a default SCRIPT with only ASK-SCRIPT in the body:

## Example of script for prompting script name

```
*SCRIPT: /DEFAULT/
*MACRO: ASK-SCRIPT Please specify SCRIPT name:
*ENDSCRIPT:
```

Do not use *MACRO: ASK-SCRIPT in a SCRIPT file with /SINGLE/ in it.

The character string must not be longer than 40 characters and it must only include printable characters. Each dollar sign ($) will produce a new line (CR + LF) on output.

Note that the /DEFAULT/ SCRIPT with ASK-SCRIPT must only be used once in each SCRIPT file.

Norsk Data ND-30.003.7 EN

---

## Page 216

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## DISPLAY-ON:

The identifier turns on the output (echo) to the terminal, so that all responses can be read by the user. The identifier should normally be used immediately after logging in on the remote system.

## DISPLAY-OFF:

The dialogue between Connect-To and SCRIPT is not displayed on the screen. An exception is Connect-To information which is manipulated with another identifier. DISPLAY-OFF is default when a script starts.

## CT-INFO-OFF:

The identifier makes it possible suppress the Connect-To information while connecting to a remote system. By default the CT-INFO is ON when a script starts. This identifier should normally be included as one of the first in a script.

### 5.3.4 Error messages

The error messages that occur when you work with SCRIPTs will be explained in the following.

**Errors when initializing scripts**

When you use the INITIALIZE-SCRIPT command to initialize SCRIPT files, the error message will generally list the line number where the error was found:

**INITIALIZE ERROR IN LINE: n**

This message will be followed by one of the following messages:

- **Expected identifier: SCRIPT: found: xxxxxx**

  Check and make sure that your file has the same number of *ENDSCRIPT: and *SCRIPT: identifiers.

- **ENDSCRIPT: is missing in SCRIPT: xxxxxx**

  You have more *SCRIPT: identifiers than *ENDSCRIPT: identifiers.

Norsk Data ND-30.003.7 EN

---

## Page 217

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS  

### More than one default SCRIPT defined  

*SCRIPTS: /DEFAULT/ must only appear once in a SCRIPT file.  

### Several SCRIPTs in a file are not allowed when /SINGLE/ is used  

Change /SINGLE/ to /DEFAULT/ or to some name and you should be able to initialize your SCRIPT file.  

### Unknown line identifier: "xxxxxxxxxx"  

This means that your line does not begin with one of the following identifiers: *SCRIPT:, *ENDSCRIPT:, *INPUT:, *ADDIN:, *MACRO:, *DISPLAY-ON:, or *DISPLAY-OFF:. Only uppercase letters are accepted in the identifiers.  

### Error in reading from SCRIPT file  

This message will be followed by a SINTRAN file-system error message which should explain what the problem is.  

### End of file in SCRIPT: xxxxxx  

The end of the file was reached before the definition of the SCRIPT xxxxxx was found. You have probably forgotten *ENDSCRIPT: or your file may be corrupted.  

### Parameter error in: xxxxxx  

The SCRIPT identifier xxxxxx has incorrect parameters. For instance, you may have written *SCRIPT:, followed by a one letter name, but SCRIPT names must be at least two letters long. This error message can also mean that the character string after ASK-SCRIPT was longer than 40 characters.  

### Unknown macro: xxxxxx in SCRIPT: yyyyyy  

The macro name xxxxxx found in the SCRIPT called yyyyyy is unknown. Make sure that you have spelled the macro name correctly, and that it is written with uppercase letters.  

### Parameter error in macro: xxxxxx "yyyyyy"  

The parameters "yyyyyy" are incorrect. For instance, you may have misspelled /MYSELF/ after *MACRO:.  

## Norsk Data ND-30.003.7 EN

---

## Page 218

# Errors when dumping scripts

You can receive the following messages when you dump a program:

**SCRIPTs already initialized and dumped**

If you have more SCRIPT files to initialize and dump, leave the Connect-To program and reenter it for each file you wish to initialize. You may only initialize one SCRIPT file each time you enter the Service program.

**WARNING -- exit without dumping initialized SCRIPT.**

This means that you have left the Service program without having given the command DUMP-PROGRAM. You will not have created a :PROG file.

**WARNING -- program is dumped unmodified.**

If you enter the Service program, and dump without initializing, you will receive this message. Remember always to initialize a SCRIPT file first.

# Errors when running scripts

You can receive the following message(s) when you run a program:

**Error in initialized commands:**

This will be followed by the type of error, for example, "Illegal command: <command name>." See if you used *INPUT: or *ADDIN: to send illegal input to the Connect-To program.

**Unsuccessful log in on system: xxxxxx**

This probably means that the user name did not exist on the remote system or that the password given was incorrect.

**User Environment not active on TAD no. nnn on remote system: xxxxxx**

User SYSTEM needs to give the command @UE-AUTOMATIC-LOGIN for the TADs on the remote system.

---

Norsk Data ND-30.003.7 EN

---

## Page 219

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## 5.3.5 Some additional SCRIPT examples

If your users always use the ND-500 Monitor on the same remote system, e.g. BLONDIE, you could make a SCRIPT that looks like this:

| Example of script to start user-defined ND-500 programs |
|--------------------------------------------------------|
| *SCRIPT: /SINGLE/                                      |
| *CT-INFO-OFF;                                           |
| *INPUT: CONNECT-TO BLONDIE                              |
| *MACRO: LOGIN-SPECIFIED GUEST,...                       |
| *DISPLAY-ON:                                            |
| *INPUT: ND-500-MONITOR                                  |
| *ADDIN:                                                 |
| *ENDSCRIPT: /SINTRAN/                                   |

This script file could be dumped as ND-500-MONITOR:PROG and here are some examples of how it could be used.

| @ND-500-MONITOR DEBUGGER                       | This will enter the ND-500 Monitor on BLONDIE and start the Debugger. |
|------------------------------------------------|---------------------------------------------------------------------|
| @ND-500-MONITOR PLANC-500                       | This will enter the ND-500 Monitor on BLONDIE and start the PLANC compiler. |

```
@ND-500-MONITOR       PLANC-500

Starts the program ND-500-MONITOR:PROG, which is the SCRIPT:

*SCRIPT: /SINGLE/
*CT-INFO-OFF; 
*INPUT: CONNECT-TO BLONDIE
*MACRO: LOGIN-SPECIFIED GUEST,...
*DISPLAY-ON: 
*INPUT: ND-500-MONITOR
*ADDIN: 
*ENDSCRIPT: /SINTRAN/
```

The remainder of the input line goes to *ADDIN: after entering the ND-500 Monitor on BLONDIE. 

Norsk Data ND-30.003.7 EN

---

## Page 220

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

Here is a slightly more complicated SCRIPT:

### Example of script using the *ADDIN: twice

```
*SCRIPT: /SINGLE/
  *ADDIN: CONNECT-TO
  *MACRO: LOGIN-DEFAULT /MYSELF/,,FLOPPY-USER,,,
  *DISPLAY-ON
  *ADDIN: ND-500-MONITOR
*ENDSCRIPT: /SINTRAN/
```

This file could be dumped as ND-500-MONITOR:PROG and here are some examples of how it can be used.

| @ND-500-MONITOR DONALD DEBUGGER | Enter the ND-500 Monitor on DONALD and start Debugger. |
|---------------------------------|---------------------------------------------------------|
| @ND-500-MONITOR MICKY PLANC-500 | Enter the ND-500 Monitor on MICKY and start PLANC compiler. |

Norsk Data ND-30.003.7 EN

---

## Page 221

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS  

The last example shows how a script file could be useful to start FORTRAN compilers on a remote computer:

## Example of a multi-SCRIPT  

```
*SCRIPT: /DEFAULT/  
*MACRO: ASK-SCRIPT CHOOSE F-100 OR FTN:  
*ENDSCRIPT:  
*SCRIPT: F-100  
*ADDIN: CONNECT-TO  
*MACRO: LOGIN-DEFAULT /MYSELF/, ,FLOPPY-USER  
*DISPLAY-ON:  
*INPUT: CC YOU WILL RETURN TO YOUR LOCAL SYSTEM AFTERWARDS  
*INPUT: FORTRAN-100  
*ENDSCRIPT: DATCL  
*SCRIPT: FTN  
*ADDIN: CONNECT-TO  
*MACRO: LOGIN-DEFAULT /MYSELF/, ,FLOPPY-USER  
*DISPLAY-ON:  
*INPUT: CC GIVE LOCAL CHARACTER (CTRL-@) TWICE TO GO LOCAL  
*INPUT: FTN  
*ENDSCRIPT:  
```

## How to use the multi-SCRIPT  

```
@FORTRAN-REMOTE Assume that this is the name of the script file.  
```

|                               |                                                                                                |
|-------------------------------|------------------------------------------------------------------------------------------------|
| COSMOS CONNECT-TO PROGRAM     | VERSION - D . JUNE 03, 1986                                                                   |
| CHOOSE F-100 OR FTN: F-100    |                                                                                                |
| CONNECT-TO SYSTEM NAME: COMPACT | You are prompted here because nothing remains in the input line to be used by *ADDIN:          |
| COMPACT&CC YOU WILL RETURN TO YOUR LOCAL SYSTEM AFTERWARDS |                                                                                     |
| COMPACT@FORTRAN-100           |                                                                                                |
| ND-100/NORD-10 ANSI 77 FORTRAN COMPILER 203053D | ...                                                                                |
| FTN: EXIT                     | You use the compiler and exit when finished.                                                  |
| - DISCONNECTED FROM: COMPACT - |                                                                                                |
| Returning to: MY-COMPUTER as user: YOURSELF |                                                                                     |

```
15.26.58   4 JULY 1986  
MY-COMPUTER@  
```  

|                                |                                                                                                |
|--------------------------------|------------------------------------------------------------------------------------------------|
|                                | You return to the local computer upon leaving the compiler. There the string DATCL is given to SINTRAN. |

Norsk Data ND-30.003.7 EN

---

## Page 222

# SINTRAN III SYSTEM SUPERVISOR
# COSMOS BASIC MODULE OPERATIONS

## 5.4 The File Server Administrator

This section explains how to operate and maintain the COSMOS Remote File Access facility.

## 5.4.1 Overview of Remote File Access

There are about 40 SINTRAN commands that allow you to access files on remote computer systems. SINTRAN also provides this service for application programs (e.g. NOTIS-WP and the BACKUP-SYSTEM). Even the @RECOVER command is implemented with remote file access.

The syntax to use when asking for files on a remote computer is:

```
system(remote-user(password)).(directory:user)file-name:type
```

On the left side of the period (.) you give the name of a computer you want to access and the name and SINTRAN password of a remote user with access to the file. Identifiers can be omitted or abbreviated as long as nothing becomes ambiguous.

You now have the same file access rights as the remote user specified. Note that SINTRAN user areas without SINTRAN passwords are vulnerable to unauthorized access. All users with access to valuable information should be instructed to use SINTRAN passwords. This applies even if UE is enabled for all terminals and TADs.

When files are accessed on a remote computer as illustrated in figure 37, a File Server must be running on the remote computer (in this case the computer MY-COMPUTER).

Norsk Data ND-30.003.7 EN

---

## Page 223

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

---

## MY-COMPUTER

- File Server Administrator  
  - Background program for network operator control  
  - FSART RT-program

- XMSG port

- File Server running on a TAD

- SINTRAN III file system

---

## SCHOLAR

- Request for access file on remote system MY-COMPUTER by SINTRAN command or program

- SINTRAN III file system

- COSMOS file user extension  
  - RTRFA RT-program

- XMSG port

---

*Figure 37. Example of interconnection using COSMOS remote file access*

---

Furthermore, the local system (SCHOLAR) which requests files must have the file user extension installed. These mode files are used for installing the COSMOS remote file access (see also PD-sheets).

| file name/command       | where done      | reason                                                       |
|-------------------------|-----------------|--------------------------------------------------------------|
| COS-FAU:MODE            | HENT-MODE       | Load RTRFA onto segment.                                      |
| COS-FSART:MODE          | HENT-MODE       | Load FSART onto segment.                                      |
| COS-FA-SERV:MODE        | LOAD-MODE       | Start FSART and File Server(s).                               |
| @DUMP-PROGRAM-REENT     | DUMP-REENTRANT  | Make FS-Administrator reentrant, normally stored under user UTILLITY. |
| FA-SERVER-TAD           |                 |                                                              |
| FS-ADMINISTRATOR        |                 |                                                              |

*Table 14. Installation of COSMOS RFA*

---

Norsk Data ND-30.003.7 EN

---

## Page 224

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

If you want to see whether a File Server is running or not on your system, use one of the commands:

    @TADADM

or

    @TERMINAL-STATUS

If you use @TERMINAL-STATUS, at least one of the TADs should have the text "FA-server xx active" in the "LAST COMMAND" column. If not, you must run the mode file COS-FA-SERV.

### Example of checking a File Server

| Command                                  |
|------------------------------------------|
| MY-COMPUTER@TERMINAL-STATUS..            |

| 770 SYSTEM | HOLD | FA-server 01 active  |

## 5.4.2 The FS Administrator program

The program FS-ADMINISTRATOR allows you, as network supervisor, to control File Servers on your local system or on other systems in your network.

You must log in as user SYSTEM before you can start the program:

### Starting the FS Administrator program

| Command                                      |
|----------------------------------------------|
| MY-COMPUTER@FS-ADMINISTRATOR                 |
| COSMOS FILE SERVER ADMINISTRATOR, VERSION D  |

FS Administrator accepts abbreviated commands in the same way as SINTRAN, and it prompts you for parameters that you do not specify on the command line.

You can give SINTRAN commands by typing @ within the FS-ADMINISTRATOR program, followed by the SINTRAN command you want.

The remainder of this section describes available commands and how to use them. The error messages from FS-ADMINISTRATOR are explained and other likely error messages are listed.

Norsk Data ND-30.003.7 EN

---

## Page 225

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS  

## SELECT-FSA Command

Normally, the first command to use after entering the FS Administrator is:  

### SELECT-FSA (<system name> <SYSTEM password>) [<project password>]

This selects which File Server Administrator you want to control, i.e. on which system it is located. The default value is your own local system. You can select any system in your COSMOS network.  

SELECT-FSA establishes communication between the FS Administrator program and FSART on the system you specify. You can then control the File Servers that this FSART administrates.  

### Selecting your own system

|                        |                                        |
|------------------------|----------------------------------------|
| FSA: SELECT-FSA...     |                                        |
| Connection established | You are now able to control servers on your local system. |
| FSA(own system):       |                                        |

Here are the most common error messages you can receive if you fail to connect:  

### Remote FSA not started

The RT-program FSART is not running on the system you specified. If Remote File Access has been installed on that system, you probably need to run the mode file COS-FA-SERV.  

### Wrong password

You gave the wrong system password. Your request was refused.  

### Remote system is not available

The specified remote system is not running, or XMSG is not started on the system.  

### Already selected

You have already selected the FSART on that system.  

### Unknown remote system or remote FSA is not running

The system name is not known within the COSMOS network, or FSART is not activated on the specified system.  

Norsk Data ND-30.003.7 EN

---

## Page 226

# File Server Administrator already in use

Another system supervisor has already selected FSART on the system you specified. Wait until the FSART is free to use.

If you do not receive any message at all, it may mean that the RT program FSART has wrong execution status as seen from SINTRAN. FSART should be in the time queue with state RTWT when nobody is making use of it. If it is only PASSIVE, connect to the computer and do as follows:

| Checking that FSART is in the queue |  |
|---|---|
| `@LIST-RT-DESCRIPTION FSART` |  |
| PASSIVE | The FSART has not been started. |
| SEGMENTS 1 AND 2 |  |
| `@RT FSART` | Correct this by starting it and verify that everything is OK! |
| `@LIST-RT-DESCRIPTION FSART` |  |
| IN TIME QUEUE. TIME LEFT: |  |
| PASSIVE | FSART is OK! |
| RTWT |  |

---

# ND-100-MODE and ND-500-MODE commands

The File Server Administrator can operate in one of two modes. The ND-100-MODE is the default mode when you enter FS-ADMINISTRATOR.

If you are on an ND-500 system, you can use this command to start a File Server on the ND-500 processor. However, this requires that you have the reentrant program FA-SERVER-500 on the specified system.

For the time being, only ND-100-MODE can be used with standard versions of COSMOS Basic Module. ND-500-MODE is mainly for ND internal use.

Norsk Data ND-30.003.7 EN

---

## Page 227

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## START-SERVERS command

Before Remote File Access can be used, one or more File Servers must be started on the remote system:

**START-SERVERS <number of servers> (<number of FACs>)**

You are advised to use the default value, 30, for the parameter `<number of FACs>`. The parameter says how many simultaneously open files the server can handle (FAC = File Access Connection). 30 FACs is maximum.

Each system can have up to 4 different File Servers with 30 FACs each. Each application or remote file accessed by a SINTRAN command uses one FAC on the remote system. It does not use a FAC on the local system.

FSART uses the Terminal Access Administrator (TADADM) to allocate one Terminal Access Device (TAD). This TAD is then used as a terminal on which to run the File Server. The TAD used by FSART cannot be used for remote log in. The TAD is released when the File Server on that TAD is stopped.

If too few TADs or XMSG ports are free for FSART to use, you may not be able to start as many File Servers as you want. At any rate, you must have SINTRAN configured with at least as many TADs as the maximum number of File Servers you wish to have running simultaneously (see also chapter 3).

Here is how you start a server with the maximum number of FACs:

### Example of starting a server with 30 FACs

|                                   |                                   |
|-----------------------------------|-----------------------------------|
| PSA(own system):START-SERVERS 1.1 |                                   |
| --- please wait ---               |                                   |
| Server 1 started.                 | No of FACs attached: 30           |
| PSA(own system):@TERMINAL-STATUS  |                                   |

| LOG.NO | USER   | MODE   | CPU-MIN | OUT-OF | LAST-COMMAND |
|--------|--------|--------|---------|--------|--------------|
| 1      | SYSTEM | COMMAND| 1       | 2      | TERM-STAT    |
| 768    | SYSTEM | HOLD   | 0       | 0      | FA-server 01 active |

Norsk Data ND-30.003.7 EN

---

## Page 228

# Error Messages When Starting a File Server

Here are some error messages you can receive when trying to start a File Server:

## System unavailable

You cannot start a File Server before the system is set available.

## Terminal access not running or unknown port name

You must give the SINTRAN command START-TADADM before you can start servers.

## No free TADs at present, try later

All available TADs are in use at the moment.

## File Server aborted: out of XMSG resources, i.e. ports, task descriptors or message buffers.

You need to generate an XMSG system with more system resources.

# How to Stop Servers

There are three ways to stop servers, each of them is illustrated in the following imaginary dialogue between the FS Administrator program and FSART:

| TERMINATE SERVER: Controlled stop when FACs are in use |
| ------------------------------------------------------ |
| **FS-ADMIN:** Please do not open any more files and let me know when all your FACs are closed! |
| **FSART:** I got your message and will now close all FACs. |
| **FSART:** All my FACs are now closed. |
| **FS-ADMIN:** OK, goodbye. |
| **FS-ADMIN:** Goodbye. |

| ABORT-SERVER: Quick stop |
| ------------------------ |
| **FS-ADMIN:** Please close all open FACs immediately! |
| **FSART:** OK, all FACs closed. |
| **FS-ADMIN:** Goodbye. |
| **PSART:** Goodbye. |

---

## Page 229

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS  

| DISCONNECT-SERVER: Stop in abnormal situations |
|------------------------------------------------|
| FS-ADMIN: Goodbye!                             |
| (FS-ADMIN stops dialogue without waiting for   |
| FSART to say anything.)                        |

## TERMINATE-SERVER `<server number>`

This command terminates the specified server. If the server has open files (FACs), new FACs are not opened on the server. When all the FACs are finally closed after use, the File Server stops and the TAD is released. If the File Server has no open FACs, it terminates immediately.

| Example of terminating a server                  |
|--------------------------------------------------|
| FSA(own system): TERMINATE-SERVER 1              |
| Server 1 terminated.                             |
| FSA(own system):                                 |

## ABORT-SERVER `<server number>`

This command closes open files, disconnects any open FACs and then stops the File Server immediately. This means that users who have started file accesses, but have not yet finished, will have their file operations aborted.

You can give this command if you cannot wait for a server to terminate.

| Example of aborting a server                     |
|--------------------------------------------------|
| FSA(own system): ABORT-SERVER 1                  |
| Server 1 aborted                                 |
| FSA(own system):                                 |

Norsk Data ND-30.003.7 EN

---

## Page 230

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

### DISCONNECT-SERVER {server number}

This command disconnects the connection from FSART to the specified File Server, which then terminates as soon as the disconnect message is received. Use this command if the command ABORT-SERVER does not terminate the server. In other words, this is a command for abnormal situations.

| Example of disconnecting a server |
|-----------------------------------|
| FSA (own system): DISCONNECT-SERVER 1 |
| Server 2 disconnected. |
| FSA (own system): |

---

### Getting information about servers

#### LIST-SERVERS

This command lists each server and what state it is in:

| Example of finding active servers |
|-----------------------------------|
| FSA (own system): LIST-SERVERS |
| Server 1 active. | This can be used for file access. |
| Server 2 terminating. | This will soon become passive. |
| Server 3 not accessible. | These have been stopped or have never been started. |
| Server 4 not accessible. |
| FSA (own system): |

---

#### SERVER-STATUS (<server number>)

This command obtains status information from the specified server. The default parameter value is all servers.

If the server is active, the number of reserved open file entries (FACS), the number of open files, and the total number of FACs are listed. The last user-operation performed is also included.

Norsk Data ND-30.003.7 EN

---

## Page 231

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## Example of checking the number of free FACs

| SERVER  | STATE       | RESERVED ENTRIES | OPEN FILES | LAST USER OUT OF COMMAND |
|---------|-------------|------------------|------------|-------------------------|
| 1       | active      | 15               | 10         | 30 Open-file            |
| 2       | terminating | 2                | 2          | 29 Close-file           |
| 3       | not accessible |              |            |                         |
| 4       | not accessible |              |            |                         |

## LIST-OPEN-FACS <server number>

This lists the reserved FACs of the server you specify. It also lists the name of the remote system, background RT-program, and the user name. If the FAC has an open file, the file name is listed. 

## Example of finding files that have been opened

```
FSA(own system):LIST-OPEN-FACS 1

***** SERVER 1 *****

2 Opened by: ND-6018.BAK07 HAROLD  
     File name: No file opened

10 Opened by: ND-6023.BAK04 SUPERVISOR  
     File name: (PACK-ONE:SYSTEM)FILE-HANDLER

FSA(own system):EXIT
```

---

## Closing FACs that have been accidentally opened

### CLOSE-FAC <server number> <connection id>

This command releases the specified FAC. If the FAC has an open file, it is automatically closed. **Connection id** is the number of the FAC.

The command enables you to clean up and release a FAC which is left open when the program reserving it has lost the connection due to some error.

Norsk Data ND-30.003.7 EN

---

## Page 232

# Example of Releasing a FAC

```
FSA(own system):LIST-OPEN-FACS 1

***** SERVER 1 *****
5 Opened by: ND-8733.BAK13 UNLUCKY-USER
file name: (PACK-ONE:SYSTEM)SAMPLES:DATA
FSA(own system):@DATCL
16.53.15 13 JULY 1986
FSA(own system):@FILE-STATISTICS SAMPLES:DATA..
FILE 215 ; (PACK-ONE:SYSTEM)SAMPLES:DATA;1
OPENED FOR READ 13.55.05 11 JULY 1986
FSA(own system):CLOSE-FAC 1 5
***** SERVER 1 *****
FAC no 5 closed.
```

When the network between remote computers becomes inaccessible, the FSART cannot be told to terminate FACs from the remote computer. In order to clean up after the network has broken down, the FSART has to poll the network connections for the FACs in use, and in case of failure, close the FAC. The poll interval for this service is changed by the command:

#### SET-POLL-INTERVAL command (<system number>) <poll interval in minutes>

The poll interval is initially set to 10 minutes. You can find the system number for the number by the LIST-SYSTEMS command in the Connect-To program, or take a look at the XMSG-START used in warm start of the computer. Default value is all computers.

Norsk Data ND-30.003.7 EN

---

## Page 233

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

### Example of changing the poll interval for a computer

Suppose you know about a computer that seldom is off net. You decide not to poll this network connection so very often.

MY-COMPUTER@CONNECT-TO

COSMOS CONNECT-TO PROGRAM VERSION - D , JUNE 03, 1986  
C-T: LIST-SYSTEMS  
SYSTEM-NAME: SAFE-COMPUTER  

| Number | Name          |  
|--------|---------------|  
| 6018   | SAFE-COMPUTER |

FSA(own system): SET-POLL-INTERVAL 6018 30

Poll interval set to 30 minutes on system 6018.  

Norsk Data ND-30.003.7 EN

---

## Page 234

# 5.5 Advanced part of File-Transfer

The File-Transfer program is a normal program which can be run from any terminal. It is another way of transferring files between computers in COSMOS. The RT-program XFTRAD is an important part of it. The different parts of File-Transfer are shown in figure 38.

![Figure 38](image-link-here)

*Figure 38. Example of interconnection using COSMOS File-Transfer*

The following mode files and commands should be included when starting your computer:

| file name/command         | done where      | reason                                                                 |
|---------------------------|-----------------|------------------------------------------------------------------------|
| COS-XFTRA:MODE            | HENT-MODE       | Load XFTRAD onto segment                                               |
| @RT XFTRAD                | LOAD-MODE       | Start XFTRAD                                                           |
| @DUMP-PROGRAM-REENT       | DUMP-REENTRANT  | Dump CONNECT-TO reentrant, normally stored under user                  |
| CONNECT-TO                |                 |                                                                        |
| @DEFINE-REENT-PROG        | DUMP-REENTRANT  | Define subsystems within CONNECT-TO. See appendix H for all parameters.|
| LIST-SYSTEMS              |                 |                                                                        |
| TRANSFER-FILE             |                 |                                                                        |
| TRANSFER                  |                 |                                                                        |
| REMOTE-BATCH              |                 |                                                                        |
| COMPRESS                  |                 |                                                                        |
| COMPRESS-FILE             |                 |                                                                        |

*Table 15. Installation of COSMOS CFT*

Norsk Data ND-30.003.7 EN

---

## Page 235

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

Entering and selecting advanced mode of File-Transfer is done as follows:

### Entering advanced mode of CFT

```
@TRANSFER-FILE
COSMOS File-Transfer (version D) of 1986.06.10
Hello SUPERVISOR
F-T:SET-ADVANCED-MODE
F-T(Adv.):HELP
```

The following is only a subset of the commands listed; the advanced commands are in alphabetical order:

| Command | Description |
|---------|-------------|
| CHECKOUT <remote system(remote user(password))> | [no of page transfers] |
| DEBUGPRINT-OFF | |
| DEBUGPRINT-ON | |
| DECODE-BUFFER {<input Y/N?>} | |
| DEFINE-TRANSFER-CONDITIONS {<no of buffers>} {<size in bytes>} {secure messages Y/N?} | |
| GET-ERROR-MESSAGE <error no in decimal> | |
| LIST-VARIABLES | |
| MODE {file name} {no of times} | |

### 5.5.1 Checking the network connections

**CHECKOUT <remote system(remote user(password))>**

This command checks whether or not it is possible to transfer a file to the system you specify. In other words, you check that XMSG, hardware links and XFTRAD are working in the network between the computers. The XMSG-COMMAND program gives you more information about XMSG and lower levels of the network.

*Norsk Data ND-30.003.7 EN*

---

## Page 236

# SINTRAN III SYSTEM SUPERVISOR
## COSMOS BASIC MODULE OPERATIONS

### Verifying the network connections in CFT

| | |
|---|---|
| **P-T(Adv.):CHECKOUT** | |
| Remote system and user name: SCHOLAR(SYSTEM(SECURITY)) | |
| No of pages in file: 50 | |
| To: ** Dummy (no access to file system) ** | |
| From: ** Dummy (no access to file system) ** | |
| Completed. Transfer rate: 15 Kbytes/sec | |
| **P-T(Adv.):** | |

In this case, file transfers to SCHOLAR are going well. If you do not specify a user name, the same user name and password as in the local system is used. If this fails, FLOPPY-USER without password is tried.

The default value for <no of page transfers> is 50.

If the peripheral file DUMMY exists on both computers, this is used as a dummy file (contains no data) to test the transfer. If only an ordinary file called DUMMY:SYMB exists, this file is used in the transfer. The parameter <no of page transfers> is not used in this case. Instead, all pages in the file DUMMY are transferred.

The transfer rate can be a maximum of 15 Kbytes/sec using HDLC or MEGALINK.

The peripheral file can be created by:

| Creating the peripheral file DUMMY | |
|---|---|
| @SET-PERIPHERAL-FILE "DUMMY" | |
| DEVICE NUMBER (OCT): 0 | |

If users on your system cannot transfer files between two systems, try using CHECKOUT for both systems to see if XFTRAD is working. If XFTRAD is not working, you should abort XFTRAD (@ABORT XFTRAD) on your local system, and then restart it by giving the SINTRAN command @RT XFTRAD. Check that nobody else is using it. If this does not work, try the same procedure on the remote system.

*Norsk Data ND-30.003.7 EN*

---

## Page 237

# SINTRAN III SYSTEM SUPERVISOR

COSMOS BASIC MODULE OPERATIONS

---

## 5.5.2 Defining transfer conditions

If you are transferring files on a Wide Area Network (WAN), using the COSMOS X.21 Option or X.25 Option, the following command can be useful:

**DEFINE-TRANSFER-CONDITIONS (<no of buffers>) (<size in bytes>) (<secure messages Y/N?>)**

| Defining transfer conditions |
|------------------------------|
| C-T(Adv.):DEFINE-TRANSFER-CONDITIONS |
| NUMBER OF BUFFERS: 2         | Normally 2 - one input and one output. |
| SIZE IN BYTES: 512           | Normally a multiple of 128 bytes is best. |
| SECURE MESSAGES?: Y          | Use always YES to ensure that messages sent also are received. |
| P-T(Adv.):TRANSFER           |

---

## 5.5.3 Other advanced commands

The remaining advanced commands are mainly for debugging purposes by ND.

**DEBUGPRINT-OFF, DEBUGPRINT-ON**

Selecting DEBUGPRINT-ON before transferring a file or testing the network connections, enables you to see all XMSG calls sent and received by the File-Transfer program. The DEBUGPRINT-OFF turns this condition off (default). The displayed information is the input and output parameters in the XMSG function call.

**DECODE-BUFFER (<input Y/N?>)**

Writing DECODE-BUFFER Y gives you the File-Transfer program's input buffer, while DECODE-BUFFER N gives its output buffer. Default is Y. The buffers are used for communication with XMSG. The current contents of the buffer is decoded.

Norsk Data ND-30.003.7 EN

---

## Page 238

# GET-ERROR-MESSAGE `<error no in decimal>`

gives you the text that corresponds to the numerical error code you specify. This works only for the XMSG errors.

# LIST-VARIABLES

This lists some of the variables that File-Transfer uses in communication with XMSG.

# MODE `<file name>` `<no of times>`

MODE executes the mode file you specify as many times as you specify, default is 1. This corresponds to typing @MODE `<file name>` more times in SINTRAN. SINTRAN commands are directly available in File-Transfer by preceding the command by a @.

Norsk Data ND-30.003.7 EN

---

## Page 239

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

## 5.6 COSMOS Spooling

This section covers the system supervisor part of the Remote Spooling facility of COSMOS (C-S-S). This part of COSMOS is based on the File-Transfer subsystem.

COSMOS Spooling provides you with considerable flexibility. You make a list of local printer names that you use when you want to print documents. These names represent printers on local or remote computer systems.

Users on your system need only learn the names you define. When they print a document in NOTIS or other applications programs, it is copied to a spooling file which is put in the COSMOS Spooling Queue. The spooling file is then sent to the spooling queue of the printer they specified. The users need not worry about the printer names used on the remote computers.

The different parts of the COSMOS Spooling are seen in figure 39.

| MY-COMPUTER        | (optional)                   |                      |
|--------------------|------------------------------|----------------------|
| Request for file   | Read WP-printers             |                      |
| access from        | to get full file             |                      |
| user application.  | name. Only used              |                      |
|                    | by ADP programs.             | SCHOLAR              |
|                    |                              |                      |
| SINTRAN file system| SINTRAN file system          |                      |
| COSMOS peripheral  | SINTRAN peripheral           | Printer              |
| and spooling files | and spooling files           |                      |
| to represent       | for the real                 | Printer              |
| logical printers.  | printers.                    |                      |
|                    |                              |                      |
| RT-program COSPO   | RT-program XFTRAD            |                      |
| for spooling.      | on remote system.            |                      |
|                    |                              |                      |
| XMSG port          | XMSG port                    |                      |

*Figure 39. Example of interconnection using COSMOS Spooling*

Norsk Data ND-30.003.7 EN

---

## Page 240

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

By using spooling queues twice, once for files waiting to be transferred to (remote) printers, and once for the real printers, it is possible to reduce the user's waiting time to a minimum.

Before you install COSMOS Spooling the first time, create the peripheral file needed for it:

### Creating COSMOS Spooling file

```
@SET-PERIPHERAL-FILE "COSMOS-SPOOLING"  
DEVICE NUMBER (OCT): 1731
```

The following mode files and commands should be included when starting your computer:

| file name/command    | where done       | reason                                                         |
|----------------------|------------------|----------------------------------------------------------------|
| COS-COSP-VSX / VSE   | HENT-MODE        | Load COSPO onto segment.                                       |
| @RTON COSPO          | LOAD-MODE        | Enable and start COSPO.                                        |
| @START-SPOOLING      | LOAD-MODE        |                                                                |
| COSMOS-SPOOLING      | LOAD-MODE        |                                                                |
| COS-DEF-PRIN         | LOAD-MODE        | Define printers in the network                                 |
| @DUMP-PROGRAM-REENT  | DUMP-REENTRANT   | Make COSMOS Spooling Service reentrant (normally stored under user UTILITY) |
| COS-SPOOL-SERVIC     |                  |                                                                |

*Table 16. Installation of COSMOS Spooling*

---

## Page 241

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

---

### 5.6.1 COSMOS Spooling Service Program

The COSMOS Spooling Service program is the main tool for the system operator when maintaining the local printer definitions in the network. You should log in as user SYSTEM in order to have all privileges.

Here is how you get started:

| Starting COSMOS Spooling Service program |
|------------------------------------------|
| MY-COMPUTER@COS-SPOOL-SERVIC             |
| COSMOS Spooling Service program (version D) of 1986.03.23 00:00 |

| Command                                  | Description |
|------------------------------------------|-------------|
| C-S-S:LIST-ALL-COMMANDS                  |             |
| CHANG-PASSWORD `<remote system name> <password>` |       |
| DEBUGPRINT-OFF                           |             |
| DEBUGPRINT-ON                            |             |
| DECODE-BUFFER `(<input Y/N?>)`           | ¹           |
| DEFINE-PRINTER                           |             |
| `<local spooling file name>`             |             |
| `<remote system name>`                   |             |
| `<remote printer name>`                  |             |
| `<extra header Y/N?>`                    |             |
| `<no. of local spooling files>`          |             |
| DELETE-PRINTER                           |             |
| `<local printer name>`                   |             |
| EXIT                                     |             |
| GET-ERROR-MESSAGE `<error no in decimal>`| ¹           |
| GET-FILE-STATISTICS                      |             |
| HELP `<command>`                         |             |
| LIST-ALL-COMMANDS                        |             |
| LIST-NAMES `<system name/number>`        |             |
| LIST-PRINTERS                            |             |
| LIST-SERVER-ERRORS                       |             |
| MODE `<file name>` `<no of times>`       | ¹           |


¹ Corresponding command described in COSMOS File-Transfer

Note that the commands are arranged alphabetically in the example. A SINTRAN command can be executed directly from C-S-S by preceding the command by @.

Norsk Data ND-30.003.7 EN

---

## Page 242

# 5.6.2 Maintaining definitions of printers

The following example shows how to define a new printer on your local system. All necessary spooling files are automatically created by the COSMOS Spooling Service program.

## Defining a printer

```
MY-COMPUTER>C-S-S

C-S-S:DEFINE-PRINTER
Local spooling file name? A-NEW-PRINTER
Remote system name? SCHOLAR
Remote printer name? LINE-PRINTER
Extra header (Y/N)? Y
No. of local spooling files? 2
OK

C-S-S:@LIST-FILE A-NEW-PRINTER,
FILE 201 :: (PACK-ONE:SYSTEM)A-NEW-PRINTER;;1
FILE 210 :: (PACK-ONE:SYSTEM)A-NEW-PRINTER;;9
```

When user files now are output to A-NEW-PRINTER, they are sent to the LINE-PRINTER on the computer system SCHOLAR. Here are the new spooling files.

The question (extra header (Y/N)) tells whether a file printed on SCHOLAR.LINE-PRINTER shall be preceded by an additional header page or not. The header contains information about the remote user of COSMOS Spooling. Default answer is Y.

Use the command LIST-PRINTERS to see what printers exist:

## Getting information about printers

```
C-S-S:LIST-PRINTERS
```

| Local printer name | Remote system and printer name | Header |
|--------------------|--------------------------------|--------|
| ELPHO-20           | MAJESTIX.ELPHO-20              |        |
| CANON              | ASTERIX.CANON                  |        |
| XEROX              | SCHOLAR.XEROX                  | X      |
| A-NEW-PRINTER      | SCHOLAR.LINE-PRINTER           | X      |

```
C-S-S:
```

Norsk Data ND-30.003.7 EN

---

## Page 243

# SINTRAN III SYSTEM SUPERVISOR  
COSMOS BASIC MODULE OPERATIONS

If you want to redefine a printer, use the command DELETE-PRINTER and then DEFINE-PRINTER. Suppose you want to change the previously defined printer name "A-NEW-PRINTER" to just "LINE-PRINTER":

## Example of redefining a printer

```
C-S-S:DELETE-PRINTER A-NEW-PRINTER
OK
C-S-S:DEFINE-PRINTER
Local spooling file name? LINE-PRINTER
Remote system name? SCHOLAR
OK
C-S-S:@LIST-FILE A-NEW-PRINTER.
```

The old spooling files have automatically been deleted after DELETE-PRINTER command. No need for additional clean-up.

A local printer definition without any printer name is called a default printer in COSMOS Spooling. This printer definition is used if a user gives the command

```
@APPEND-SPOOLING-FILE COSMOS-SPOOLING <file name>
```

without specifying remote computer and printer name. See COSMOS user guide for how a user does this. There can only be one default printer in a system.

## Example of making a default printer

```
C-S-S:DEFINE-PRINTER
Local spooling file name?
Remote system name? ASTERIX LINE-PRINTER Y
OK
C-S-S:LIST-PRINTERS
```

| Local printer name: | Remote system and printer name: | Header: |
|---------------------|---------------------------------|---------|
| ELPHO-20            | MAJESTIX.ELPHO-20               |         |
| CANON               | ASTERIX.CANON                   |         |
| <Default printer>   | ASTERIX.LINE-PRINTER            | X       |

Norsk Data ND-30.003.7 EN

---

## Page 244

# SINTRAN III SYSTEM SUPERVISOR  
## COSMOS BASIC MODULE OPERATIONS

If users on your system will be writing to this printer from NOTIS-WP or other applications that make use of the file WP-PRINTERS, you should also make the printer definitions in this file. The following example shows an example of the eight first lines of the file. Read it into PED or NOTIS-WP to edit it. Note that the lines in the file are wider than what you initially see on the screen, so move to right to see the attributes that specify the physical characteristics of the printers. How to fill in this part is explained in the last part of the file.

### Example of WP-PRINTERS

| Logical name | Computer. File name  | Printer type   |
|--------------|----------------------|----------------|
| EPSON        | TERMINAL             | EPSON-MX80 ... |
| PHILIPS-300  | SCHOLAR.PHILIPS-300  | PHILIPS-300    |
| LINE-PRINTER | LINE-PRINTER         | LINE-PRINTER   |

This should be the name of a spooling file on your local system. If you use the name of a file on a remote system by using the remote file-name syntax, files are sent directly to the remote computer without using COSMOS Spooling.  

This is the name that NOTIS users specify after pressing the PRINT key to print a document.

When files are printed on a remote computer, the printing process is given the same access rights as FLOPPY-USER. To be able to print on the remote system, the following conditions must be fulfilled:

- The remote FLOPPY-USER must have Write and Append access to the spooling file for the real printer.
- User SYSTEM on the local system must have sufficient free pages for the spooling files used by COSMOS Spooling.
- If the remote FLOPPY-USER has a password, this must also be changed in your local printer definitions. The command to use in C-S-S is CHANGE-PASSWORD.

Norsk Data ND-30.003.7 EN

---

## Page 245

# SINTRAN III SYSTEM SUPERVISOR
COSMOS BASIC MODULE OPERATIONS

## Example of specifying remote FLOPPY-USER's password

| C-S-S: | CHANGE-PASSWORD |
| Remote: system name? | SCHOLAR |
| Password? | |
| OK | OK means that the password corresponds to the password on the remote computer. |
| C-S-S: | |

If you do not know FLOPPY-USER's password on SCHOLAR, you cannot access printers on SCHOLAR.

## The mode file COS-DEF-PRIN

In COS-DEF-PRIN:MODE, you should define all the printers you normally use, and you should use CHANGE-PASSWORD for any remote systems that have passwords for FLOPPY-USER.

---

## 5.6.3 Some other commands

GET-FILE-STATISTICS tells how many pages and bytes the last file transferred had.

LIST-SERVER-ERRORS lists the transfer errors reported by COSPO.

### LIST-ALL-COMMANDS

Lists all the commands, including those end users do not need. HELP lists only the commands allowed for end users.

### LIST-NAMES <system name/number>

Lists all the remote computer names that are defined on the system you specify. This is the same as the LIST-NAMES command in the XMSG command program.

---

Norsk Data ND-30.003.7 EN

---

## Page 246

# SINTRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 247

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

---

# CHAPTER 6  
## PERIPHERALS AND SPOOLING SUPERVISION  

Peripherals, e.g. printers and floppy disk units, are regarded by SINTRAN as files. Most printers are controlled by a part of SINTRAN called the spooling system.

---

## 6.1 Peripherals as seen from the file system  

The system supervisor must make peripheral files associated with the physical peripherals. Normally, this is only necessary during initial loading of SINTRAN, or when new peripherals are added to the system. These files must be created on user SYSTEM and made accessible to all users. Peripheral files are created by the command:

```
@SET-PERIPHERAL-FILE <file name> <logical device number>
```

This command defines the specified `<file name>` as a peripheral file. The `<logical device number>` is a number that uniquely identifies the device to SINTRAN. A list of permitted logical device numbers and standard device names is found in the SINTRAN III Commands Reference Manual. The `<file name>` should preferably be chosen from this list.

If the file does not yet exist, it must be enclosed in quotes ("..."). You introduce a line printer and give it the correct access by:

| Adding a line printer (without spooling) to the system | The file does not yet exist. Find this on order form. |
| --- | --- |
| `@SET-PERIPHERAL-FILE` | 
| `PERIPHERAL FILE: "LINE-PRINTER"` | 
| `LOGICAL DEVICE NUMBER: 5` | 
| `@SET-FILE-ACCESS` | 
| `FILE NAME: LINE-PRINTER` | 
| `PUBLIC ACCESS: WA` | 
| `FRIEND ACCESS: RWA` | 
| `OWN ACCESS: RWA` |

Another special file type related to peripheral files is the terminal file. When a user refers to a terminal file for output in an application program, the output goes to the user's terminal. The terminal files are globally defined in the system to be associated with all terminals. Terminal files therefore have the logical device number 1 and contain no pages for data.

---

Norsk Data ND-30.003.7 EN

---

## Page 248

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

The command for creating a terminal file is:

**@SET-TERMINAL-FILE \<file name\>**

If the file does not exist, it must be enclosed in quotes. For example, you set the names used to access terminals to TERMINAL and FACIT-TWIST:

### Making terminal files

| Command                      | Description                                                                                   |
|------------------------------|-----------------------------------------------------------------------------------------------|
| @SET-TERMINAL-FILE           |                                                                                               |
| FILE NAME: "TERMINAL"        | The file name "TERMINAL" is conventionally associated with terminals, but it is possible to have more than one such file. |
| @SET-FILE-ACCESS TERMINAL RW RW RW |                                                                                               |
| @SET-TERMINAL-FILE           |                                                                                               |
| FILE NAME: "FACIT-TWIST"     |                                                                                               |
| @SET-FILE-ACCESS FACIT-TWIST RW RW RW |                                                                                               |

TERMINAL and FACIT-TWIST can now be used as output or input file names. Users can use this feature as follows:

### Example of using terminal files

| Command                    | Description                               |
|----------------------------|-------------------------------------------|
| @LIST-FILES :SYMB          |                                           |
| OUTPUT FILE: TERMINAL      |                                           |
| or, the user gets the same result by: |                                           |
| @LIST-FILES :SYMB FACIT-TWIST |                                           |

If a file is set as peripheral, **peripheral** is then said to be an attribute of the file. Other file attributes are terminal, spooling, temporary, contiguous, allocated, and indexed. Only a few combinations of file attributes can be used for the same file.

Norsk Data ND-30.003.7 EN

---

## Page 249

# SINTRAN III SYSTEM SUPERVISOR  
PERIPHERALS AND SPOOLING SUPERVISION  

## 6.1.1 File access for peripheral files

Peripherals are either input devices, output devices, or both. In order for all users to make use of peripherals, recommended file access codes are given in table 17.

Examples of peripheral devices:

- input: card reader
- output: printer
- input & output: terminals, magnetic tapes, floppy drives

(streamers and disks have no peripheral files).

Printers with spooling need a slightly different file access than ordinary output peripherals because the spooling files must be accessible for the spooling process.

| Peripheral      | file access codes    |
|-----------------|----------------------|
| category        | public friend own    |
| Input           | R     R     R (D)    |
| Output          | WA    WA    WA (D)   |
| Output w/spooling¹ | WA    RWA   RWA (D) |
| Input & output  | RWA   RWA   RWA (D)  |

¹ It is assumed that user RT is made friend of user SYSTEM

*Table 17. File access codes for peripherals*

## 6.2 Spooling system

The spooling system allows several users to write to a printer at the same time. The data to be printed is written onto spooling files before it is printed. The advantage of this is that the user can continue working without waiting for a relatively slow printer to finish the printing job. The printing job is taken care of by a spooling process which contains information about files to be printed in the form of a "spooling queue".

Norsk Data ND-30.003.7 EN

---

## Page 250

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

The spooling system consists of:

- spooling files to hold the data to be printed.
- spooling process to send data to the printer.
- spooling-queue information about files to printed.

Figure 40 illustrates the parts involved when a user sends something to the spooling system.

```
+----------------------------------+
| Request for file                 |
| access to printer                |
| from a user.                     |
+----------------------------------+
                |
            +---------------------------+     +-------------------------+
            | Read WP-printers          |     |                         |
            | to get full file name.    |     | SINTRAN file system     |
            | Only used by ADP programs.|     | Peripheral file         |
            |                           |     | for printer.            |
            +---------------------------+     | Spooling files          |
                      |                       | for data to be printed. |
                      |                       |                         |
                      |                       |                         |
                      +------------------+-------------------+
                                         |
                                   +-------------------+     +--------------+
                                   | Spooling queue    |     |              |
                                   | info.             +-----+   SPRTx      +----> PRINTER
                                                        |    |              |
                                                        +    +--------------+
```

_Figure 40. The spooling system_

The spooling queue contains information about

- which files are to be printed
- who entered them
- how many copies will be made
- any messages to be output on the console before printing each file.

If users of NOTIS-WP or similar applications wish to send files to be printed, the file WP-PRINTERS is used to find the name and characteristics of the physical printers. You must maintain this file.

Norsk Data ND-30.003.7 EN

---

## Page 251

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

---

### 6.2.1 Preparing a printer for spooling

The preparation for a new printer involves:

- installing the hardware
- defining the spooling device number
- creating peripheral and spooling files
- starting spooling and updating the LOAD-MODE file

In addition, for a terminal line printer:

- changing/verifying the datafield (i.e. TSPEED and DFLAG, as explained in section 6.4.4)
- carrying out a warm start (to put datafield changes into effect)

---

### Spooling device number

If you want a spooling system, SINTRAN III must be generated with the required number of spooling programs. These are system-included RT-programs called SPRTx. "x" is the **spooling-index** number.

If your SINTRAN has the sufficient number of spooling processes, but the wrong spooling-device numbers, these must be corrected.

---

### Non-standard SINTRAN configuration

If you have a non-standard SINTRAN configuration, e.g. SINTRAN VSE K, see your SINTRAN order form for generated spooling device numbers.

If a spooling device number needs to be changed, use the SINTRAN Service command:

```
*SET-SPOOLING-DEVICE-NUMBER <spooling index> <logical device number> (<memory?>) (<image?>) (<save-area?>)
```

---

Norsk Data ND-30.003.7 EN

---

## Page 252

# Standard SINTRAN Configuration

If you have a standard version of SINTRAN VSX K, use the SINTRAN Configuration program to define the spooling-device number and printer type if it is a printer with a special interface (refer to section 3.5 for use of the program).

| NOTE! All printers with special interfaces must have the lowest spooling indexes (the first entries in the table "spooling device numbers"). Sort these spooling device numbers in ascending order. Printers using a terminal line can follow afterwards in random sequence. If the printer has a special interface, correct the table "define printer type". The index in this table now corresponds to the spooling index. |

If the printer is physically connected to a terminal line, the background program for this terminal must be disabled from being started. You do this by giving the SINTRAN Service command:

*REMOVE-FROM-BACKGROUND-TABLE <logical device number> (<memory?>) (<image?>) (<save-area?>)

You need not do this if you have used the command *SET-SPOOLING-DEVICE-NUMBER. If the printer is removed later on, the terminal line can be used for an ordinary terminal by giving the command *INSERT-IN-BACKGROUND-TABLE.

# Peripheral File and Spooling Files

You can create the peripheral file and spooling files for the printer when the spooling device number is determined. The spooling files must be created on user SYSTEM. User RT must be friend of SYSTEM with file access RWA.

Norsk Data ND-30.003.7 EN

---

## Page 253

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

### Example of connecting a printer to a terminal line  

Suppose you want to have a printer on the terminal line 36. You only have this printer, so you select SPRT1 as spooling program.  

```
@SINTRAN-SERVICE-PROGRAM  

*SET-SPOOLING-DEVICE-NUMBER 1,36 Y Y Y  

*CHANGE-DATAFIELD 36 I Y Y Y  
TSPEED/ 000210 000210 000210 273d  
```
In this example 1200 BPS is the correct speed.  

### Example of creating spooling files  

Suppose you have a line printer with device number 5B. You want it to be known as LINE-PRINTER in the file system. You want 9 spooling files, each capable of holding a document to be printed.  

```
@SET-PERIPHERAL-FILE "LINE-PRINTER",5B  
@SET-FILE-ACCESS LINE-PRINTER WA,RWA,RWA  

@CREATE-NEW-VERSION LINE-PRINTER:;10  
NUMBER OF PAGES: 0  

@FILE-STATISTICS LINE-PRINTER:  

FILE 47: (PACK-ONE:SYSTEM)LINE-PRINTER:;1  
(PERIPHERAL)  

...  
...  

FILE 56: (PACK-ONE:SYSTEM)LINE-PRINTER:;10  
(SPOOLING FILE)  
```

## 6.2.2 Administering spooling pages  

All the spooling files, even if they belong to different spooling programs, take their space from a "pool" of spooling pages under user SYSTEM. The default size of this "pool" is 500 pages. User SYSTEM can change the size by the commands:  

```
@GIVE-SPOOLING-PAGES <no of pages>  
@TAKE-SPOOLING-PAGES <no of pages>  
```

Norsk Data ND-30.003.7 EN

---

## Page 254

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

These commands cause the <no of pages> to be, respectively, added to or subtracted from the "pool".

The pages given to the "pool" are NOT subtracted from user SYSTEM's area. You must therefore be careful not to use them for other purposes.

> **NOTE!** User SYSTEM must have at least as many free pages as the number of pages given to the spooling.

If a file exceeds the number of pages available for the spooling files, the terminal will be waiting during the printout of the pages that exceed the number of spooling pages available. If the spooling space is filled up, the message "NO MORE UNUSED SPOOLING PAGES AVAILABLE" will appear on the terminal of any user who tries to put new files in the spooling queue.

The number of pages that should be given to the spooling system depends on the configuration. This decision is affected by:

- the number of printers with spooling
- the size of the documents that will be written simultaneously
- the number of documents likely to be in the spooling queue at any one time

### Example of Giving Spooling Pages

| Command                    | Output                                                                                   |
|----------------------------|------------------------------------------------------------------------------------------|
| `@SPOOLING-PAGES-LEFT`     | `17 SPOOLING PAGES LEFT`<br>This is the number of unused pages in the spooling "pool". Only a few pages are left. |
| `@GIVE-SPOOLING-PAGES 600` |                                                                                          |
| `@SPOOLING-PAGES-LEFT`     | `617 SPOOLING PAGES LEFT`                                                                |
| `@USER-STATISTICS SYSTEM`  | `12982 PAGES USED OUT OF 15000 PAGES`<br>User SYSTEM has plenty of unused pages.         |

Norsk Data ND–30.003.7 EN

---

## Page 255

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

---

### 6.2.3 Starting and stopping spooling

Most of the commands described here are, when needed, put into the LOAD-MODE file (to be executed during warm start).

The spooling program for a device is started by the command:

    @START-SPOOLING <peripheral file name>

The spooling program then reserves the peripheral file. Once spooling is started, output to that peripheral printer goes via the spooling program. It is normally advisable to include command(s) for starting printer(s) with spooling in the LOAD-MODE file. See appendix H.2 for an example.

If more than one version of the file is a peripheral file, the spooling programs for all peripheral versions of the file are started. One specific peripheral device can be selected by including a version number in the file name. This makes it possible to have several printers sharing the same spooling files.

The following command stops the spooling program for a specified peripheral:

    @STOP-SPOOLING <peripheral file name>

Any file currently being printed will be completed before the spooling program is stopped. The spooling queue is unaffected by the command, and files can still be appended to the queue. The spooling program will resume printing the files in its queue when the @START-SPOOLING command is given.

---

### 6.2.4 Spooling headers, conditions and forms

The spooling can be enabled to include a header and a trailing page between each document to be printed. The header contains an identification of the owner (SINTRAN user area and file name) of the file. You select this by the SINTRAN Service command:

    *INSERT-SPOOLING-HEADER <spooling index> [(<memory?>) (<image?>) (<save-area?>)]

---

Norsk Data ND-30.003.7 EN

---

## Page 256

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

The optional parameters apply only for the VSE version, in the VSX version, only memory is affected.

If you want to remove a previously-defined spooling header & trailer from a printer, use the command:

**REMOVE-SPOOLING-HEADER** \<spooling index\> (\<form feed before?\>) (\<form feed after?\>) [(\<memory?\>) (\<image?\>) (\<save-area?\>)]

The parameters (\<form feed before?\>) and (\<form feed after?\>) cause the printer to put out a blank page before and after each document is printed. This ensures that a document always starts on a new page. Some printers do this automatically, and these parameters can then be ignored.

The optional parameters apply only for the VSE version: in the VSX version only memory is affected.

### Example of manipulating spooling headers

Suppose you have a LINE-PRINTER (spooling index 1) where you want a spooling header, and a PHILIPS-300 printer (index 2) where you only want form feed before each document. PHILIPS-300 gives form feed itself after each document:

| Command                          | Note                                     |
|----------------------------------|------------------------------------------|
| @SINTRAN-SERVICE-PROGRAM         |                                          |
| *INSERT-SPOOLING-HEADER 1 Y Y Y  | The LINE-PRINTER.                        |
| *REMOVE-SPOOLING-HEADER 2        | The PHILIPS-300 printer.                 |
| FORM FEED BEFORE? Y              |                                          |
| FORM FEED AFTER? N               |                                          |
| *EXIT                            |                                          |
| @START-SPOOLING LINE-PRINTER     | Suppose that you have not already started the printers. |
| @START-SPOOLING PHILIPS-300      |                                          |

---

Norsk Data ND-30.003.7 EN

---

## Page 257

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

The spooling program can be set to stop before printing a file. This allows the operator to receive messages about the job and change to a new paper type or do other things.

The command to use is:

```
@DEFINE-SPOOLING-CONDITIONS <peripheral file name> (<printing name of spooling files?>) (<stop and wait for start-print before printing file?>) (<no. of lines per page>)
```

If the second parameter is "YES", the names of all files printed on the peripheral device will be written on the error device. The default answer is "NO".

The third parameter can be "YES" if _and only if_ the preceding parameter was "YES". This will stop the printer before each new file is printed. The @START-PRINT command must then be used to start printing.

The fourth parameter is used as an argument for the commands @FORWARD-SPACE-PRINT and @BACKSPACE-PRINT. It tells the spooling program how many lines are printed on a page of paper. This is mainly relevant for line printers and similar printers that do not make use of advanced control-character sequences. A line is evaluated by the spooling program as an arbitrary character string terminated by CR + LF. Default value is 68 lines per page.

Ordinary users are able to make use of the "spooling conditions" feature by giving the commands @DEFINE-SPOOLING-FILE-MESSAGE and @APPEND-SPOOLING-FILE. The first command adds a user message to the spooling queue entry when writing to the peripheral file. The message defined is only valid for the user defining it. The second command appends a user's file to the spooling queue.

### Example of defining spooling conditions

| You have a LINE-PRINTER that prints 45 lines on each page, but you do not want to use the other features: |
|-----------------------------------------------------------------------------------------------------------|
| @DEFINE-SPOOLING-CONDITIONS LINE-PRINTER N N 45                                                           |

---

Norsk Data ND-30.003.7 EN

---

## Page 258

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

The peripheral can have a **spooling form** identification. The spooling form identification can be compared with the user-text specified in the `@APPEND-SPOOLING-FILE` command. This can be used to allow more printers and spooling processes to share the same spooling queue. The spooling-form identification is used for selecting one of the printers.

### @SET-SPOOLING-FORM <*peripheral file name*>
(<*spooling form identification*>)

The string (<*spooling form identification*>) must be terminated with an apostrophe ('). Default value is an empty string.

### Example of using spooling forms

Suppose your system has two peripheral files called LINE-PRINTER:

```
@SET-SPOOLING-FORM LINE-PRINTER::1 ONR'
@SET-SPOOLING-FORM LINE-PRINTER::2 TWO'
```

The printer configuration can now be illustrated as:

| Peripheral Files  |  Spooling Files  |
| ----------------- | ---------------- |
| LINE-PRINTER::1   | "ONE" SPRTx      |
| LINE-PRINTER::2   | "TWO" SPRTy      |

| Line printer no. 1 | Line printer no. 2 |
| ------------------ | ------------------- |

The following command lists the current spooling form of a printer:

### @LIST-SPOOLING-FORM <*peripheral file name*>

Norsk Data ND-30.003.7 EN

---

## Page 259

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

### 6.2.5 Printing documents or files

There are two ways to enter a document into the spooling queue. The usual way is to write it to the printer's peripheral file. The file is then copied onto an unused spooling file.

NOTIS applications offer the PRINT function for this purpose. The document is converted from device-independent format into a format suitable for the printer type you specify. This must be done because such documents usually contain code for advanced printer handling. The file WP-PRINTERS is used by many applications to find the correspondence between logical and physical printers.

Files produced by PED (Program Editor) or other applications only utilising the ASCII character set can be sent directly to a printer without code conversion.

#### Example of printing documents/files

| From NOTIS-WP:                  |
|---------------------------------|
| WP:Printer: MY-PRINTER          |
| logical printer name in WP-PRINTERS. |

| Press PRINT.                    |
|---------------------------------|

| From PED:                       |
|---------------------------------|
| PED:Write to file: LINE-PRINTER |

| Give "W" in home position.    | Peripheral file name. |
|-------------------------------|-----------------------|

| From a compiler:               |
|--------------------------------|
| *COMPILE PERFECT-PROGRAM       |
| LIST FILE: LINE-PRINTER PERFECT-PROGRAM |

| Peripheral file name           |
|--------------------------------|

Norsk Data ND-30.003.7 EN

---

## Page 260

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

The second way of entering files to be printed is to append the user's own file to the spooling queue. No copying of data onto a spooling file is done. When printing takes place, the data is taken directly from the user's file. This is useful if the file to be printed is large, or if there are few spooling files/unused spooling pages. The command to use is:

    @APPEND-SPOOLING-FILE <peripheral file name> <file name>
    (<number of copies>) <text> [<printing message independent of spooling conditions?>]

The file specified in the second parameter is appended to the spooling queue of a printer. The specified number of copies of the file will be printed. Default value is one copy.

The fourth parameter defines a user text to be written on the error device before the file is printed. The text must be terminated with an apostrophe (').

The last parameter is only requested if <text> is specified. It can take the values "YES" or "NO". If "YES", the text will be written, and the printer will stop before the file is output, regardless of what was specified in the command @DEFINE-SPOOLING-CONDITIONS. If "NO", the text will be suppressed as long as the command @DEFINE-SPOOLING-CONDITIONS has been given with "NO" as the second and third parameter. The default value for this optional parameter is "NO".

If the text you want to print has the desired format, you can append it to the spooling queue. Documents containing special code produced by NOTIS or similar applications must be converted before appending them to the spooling.

Norsk Data ND-30.003.7 EN

---

## Page 261

# SINTRAN III SYSTEM SUPERVISOR  
PERIPHERALS AND SPOOLING SUPERVISION  

## Example of appending file to the spooling queue

Create your own spooling file to be used when printing:

```
@CREATE-FILE MY-SPOOLING-FILE;PRNT;
```

Suppose you have an ELPHO-20 printer:

```
WP::Printer: MY-SPOOLING-FILE;PRNT;
Printer type: ELPHO-20;
```

| Press PRINT. | The document will now be written on the file MY-SPOOLING-FILE, with suitable code for the printer type ELPHO-20. |

```
WP::SINTRAN command: APPEND-SPOOLING ELPHO-20 MY;PRNT 1;
```

| Press @. |

---

## 6.2.6 Controlling the spooling queue

There are some commands that can be used to handle the spooling queue of files waiting to be printed. The file currently printed is not included in the spooling queue. It is manipulated by use of other commands.

The following command gives information on the entries in a spooling queue:

```
@LIST-SPOOLING-QUEUE <peripheral file name> (<output file>)
```

The following information will be listed for all files in the queue:

- The spooling file name
- The number of bytes it contains
- The name of the user who appended it

---

Norsk Data ND-30.003.7 EN

---

## Page 262

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

- the number of copies to be printed

- any user text to be written to the error device when printing starts.

Similar information is supplied for the file currently being printed. The entries are listed in the same order as they are going to be printed. This command is available to all users.

## Example of a spooling queue

```
@LIST-SPOOLING-QUEUE ELHO-20.; 

FILE CURRENTLY BEING PRINTED ON: ELPHO-20.;1  

ELPHO-20.;2  

LAST USED BY SYSTEM  
LAST COPY * APPROX. 6629 BYTES LEFT TO PRINT  

|                    | ordinary                    |
|--------------------|-----------------------------|
| ELPHO-20.;3        | spooling files              |
| LAST USED BY TIM   |                             |
| 1 COPY, 124558 BYTES IN FILE                     |

(PACK-ONE:ADVANCED-USER)MY-LARGE-DOCUMENT  
APPENDED BY ADVANCED-USER  
2 COPIES, 5123779 BYTES IN FILE

|                    | spooling file appended      |
```

If you want to remove something from the spooling queue, you should usually give the command:

```
ØDELETE-SPOOLING-FILE <peripheral file name> <file name>
```

The file specified in the second parameter is removed from the spooling queue for the specified peripheral. It is NOT deleted from the file system. If the file is an ordinary spooling file, its pages are released and returned to the pool of free spooling pages. That means the file becomes free to be used for spooling again. Only user SYSTEM and the user who appended the file to the queue can delete the file from the queue.

A related command for special use is:

```
ØREMOVE-FROM-SPOOLING-QUEUE <peripheral file name> <file name>
```

The file specified in the second parameter is removed from the spooling queue. The contents of the file is not affected. If it is an ordinary spooling file, it will still be treated as being in use. Thus the command should not be used for ordinary spooling files, but for those user files appended to the spooling queue. Only user SYSTEM and the user who appended the file are allowed to use the command.

Norsk Data ND-30.003.7 EN

---

## Page 263

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

### Example of deleting files from the spooling queue

Suppose the spooling queue consists of the entries given in the previous example. You want to delete both files in the queue. You have logged in as user SYSTEM.

```
@DELETE-SPOOLING-FILE ELPHO-20 ELPHO-20::3

@DELETE-SPOOLING-FILE ELPHO-20 (ADVANCED-USER)MY-LARGE-DOCUMENT
```

The following command can be used to determine the number of times a file in the spooling queue will be copied:

```
@SET-NUMBER-OF-PRINT-COPIES <peripheral file name> <file name>
(<number of copies>)
```

Only user SYSTEM and the user who appended the file can do this. If several entries in the spooling queue match the `<file name>` parameter, only the first will be affected.

The spooling queue can be reorganized. Entries in a spooling queue can be moved by the command:

```
@MOVE-SPOOLING-QUEUE-ENTRY <peripheral file name> <file name>
<insert/append?> <before file name/after file name>
```

The file identified by `<file name>` is moved before or after the file specified as fourth parameter. If the third parameter is "Insert", the file will be placed in front. If the parameter is "Append", the file will be placed after. All users can move the entries they have appended further back in the spooling queue. User SYSTEM can move entries forward. Remember that the file currently being printed is not considered to be a part of the spooling queue.

---

Norsk Data ND-30.003.7 EN

---

## Page 264

# Example of reorganizing the spooling queue

Suppose you have a small document preceded by a large document in the spooling queue:

```
@LIST-SPOOLING-QUEUE PHILIPS-300:

FILE CURRENTLY BEING PRINTED ON: PHILIPS::1  
PHILIPS::5   
  LAST USED BY FLOPPY-USER  
  LAST COPY : APPROX. 50257 BYTES LEFT TO PRINT  
PHILIPS::2  
  LAST USED BY JONES  
  1 COPY : 324558 BYTES IN FILE  
PHILIPS::7  
  LAST USED BY JARDIN  
  1 COPY : 12040 BYTES IN FILE
```

You decide to have the small document printed before the big one.

```
@MOVE-SPOOLING-QUEUE-ENTRY PHILIPS PHILIPS::7 1 PHILIPS::2
```

---

## 6.2.7 Controlling the file currently being printed

When a file is being printed, you can stop, start or even abort the printing job. You can also jump forwards and backwards in the file. The commands are only available to the user who sent the file for printing and user SYSTEM.

The following command stops the printing job on a specified printer:

```
@STOP-PRINT <peripheral file name>
```

The printing process will await further commands. The following command resumes printing:

```
@START-PRINT <peripheral file name>
```

Norsk Data ND-30.003.7 EN

---

## Page 265

# SINTRAN III SYSTEM SUPERVISOR

## PERIPHERALS AND SPOOLING SUPERVISION

The following command restarts printing from the beginning of the file currently being printed:

**@RESTART-PRINT \<peripheral file name\>**

This command is useful when a paper jam has occurred in a printer. It has no effect if no file is being printed.

The following command can be used to skip printing the remaining part of a file:

**@ABORT-PRINT \<peripheral file name\>**

The spooling program continues with the next file in the spooling queue. The command has no effect if no file is being printed.

You can skip printing some pages or lines of a file. The command to use is:

**@FORWARD-SPACE-PRINT \<peripheral file name\> \<no. of pages\> \<no. of lines\>**

This command can only be used when printing has been stopped. When printing resumes, the given number of pages will be skipped. The number of lines per page is taken from the command `@DEFINE-SPOOLING-CONDITIONS`. The last two parameters have 0 as default value.

If a paper jam occurs, it will be necessary to reprint some lines or pages. You can use the command:

**@BACKSPACE-PRINT \<peripheral file name\> \<no. of pages\> \<no. of lines\>**

| Example of clearing-up a paper jam |
|------------------------------------|
| Suppose the paper jams on your PHILIPS printer. |
| **@STOP-PRINT PHILIPS** |
| Remove damaged sheets. Correct paper feeding etc. |
| **@RESTART-PRINT PHILIPS** |

Norsk Data ND-30.003.7 EN

---

## Page 266

# SINTRAN III SYSTEM SUPERVISOR  
# PERIPHERALS AND SPOOLING SUPERVISION

## 6.2.8 Spooling using COSMOS Remote File Access

SINTRAN K-version offers the possibility of using remote spooling without using COSMOS Spooling (see chapter 5). Some of the ordinary commands for handling spooling accept remote file specifications, whereas some do not:

- `@APPEND-SPOOLING-FILE`
- `@DELETE-SPOOLING-FILE`
- `@MOVE-SPOOLING-QUEUE-ENTRY`
- `@REMOVE-FROM-SPOOLING-QUEUE`

The first command accepts remote file specifications for both parameters. The others can only manipulate the spooling queue on the local computer.

Using the `@APPEND-SPOOLING-FILE` command on a remote computer does not copy the file to the remote computer. The file is transferred page by page when the file is printed.

### Example of printing on a remote computer

1. **Printing a program listing from local computer on remote computer:**

   ```
   MY-COMPUTER@APPEND-SPOOLING-FILE
   PERIPHERAL FILE NAME: SCHOLAR(FLOPPY-USER()).LINE-PRINTER
   FILE NAME: PROGRAM-LISTING;SYMB
   ```

   You accessed the remote computer via remote FLOPPY-USER which in this case had no SINTRAN password.

2. **Printing a program-listing from a remote computer on local computer:**

   ```
   MY-COMPUTER@APPEND-SPOOLING-FILE ELPHO-PRINTER
   FILE NAME: SCHOLAR(FLOPPY-USER()).PROGRAM-LISTING;SYMB
   ```

3. **Fetching a file from NOVICE for printing on SCHOLAR:**

   ```
   MY-COMPUTER@APPEND-SPOOLING-FILE SCHOLAR(FLOPPY-USER()).L-P
   FILE NAME: NOVICE(STUDENT()).MINUTES-FILE;SYMB
   ```

Norsk Data ND-30.003.7 EN

---

## Page 267

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

If a spooling process is unable to access a file on the remote computer, the spooling-queue entry is moved to the end of the queue. This process is repeated until the file can be accessed.

If a network connection is broken during printing of a remote file, the remaining printing is skipped and the queue entry is reinserted into the spooling queue.

## Examples of removing a remote file from the spooling queue

Suppose you want to remove the remote file from the spooling:

```
SCHOLAR@LIST-SPOOLING-QUEUE LINE-PRINTER.

FILE CURRENTLY BEING PRINTED ON: LINE-PRINTER:.;1
.....
MY-COMPUTER.(PACK-ONE:SYSTEM)PROGRAM-LISTING:SYMB.;1
    APPENDED BY FLOPPY-USER
    1 COPY    4333 BYTES IN FILE

SCHOLAR@REMOVE-FROM-SPOOLING-QUEUE LINE-PRINTER
FILE NAME: MY-COMPUTER(SYSTEM(SECRET-PASSWORD)).PROGRAM-LIST.;SYMB

You must specify a remote user area which for which the file can be accessed. Computer name and password cannot be abbreviated.

However, if the network connection is broken, exact match with the spooling queue entry is required:

SCHOLAR@REMOVE-FROM-SPOOLING-QUEUE LINE-PRINTER
FILE NAME: MY-COMPUTER.(PACK-ONE:SYSTEM)PROGRAM-LISTING:SYMB.;1
```

Norsk Data ND-30.003.7 EN

---

## Page 268

# SINTRAN III SYSTEM SUPERVISOR  
PERIPHERALS AND SPOOLING SUPERVISION  

## 6.3 Commands for handling mass-storage devices  

This section briefly describes some of the SINTRAN commands that are related to peripherals.

You can do several things with peripherals by using the command:

    @DEVICE-FUNCTION <peripheral file name> <function>

You list which functions are legal by giving the command:

    @LIST-DEVICE-FUNCTIONS (<function>) (<output file>)

Default for the first parameter is **all functions**. Default for the second is **your terminal**.

There are commands to control tape motion, clear hardware controllers, select format and format floppy diskettes etc. See SINTRAN Commands Reference manual for description. An example of formatting a floppy diskette using @DEVICE-FUNCTION is given in chapter 4.

Suppose you have taken backup onto tape. You then use @DEVICE-FUNCTION to write an EOF mark (End Of File), rewind and unload the tape from the magnetic tape drive:

### Example of using @DEVICE-FUNCTION after copying onto tape

| Use the BACKUP system to copy the files onto tape. |
| -------------------------------------------------- |

    @DEVICE-FUNCTION MAG-TAPE-1 WRITE-EOF  
    @DEVICE-FUNCTION MAG-TAPE-1 UNLOAD  

| Remove the reel of tape from the drive. |
| --------------------------------------- |

Norsk Data ND-30.003.7 EN

---

## Page 269

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

---

### 6.4 Some important commands and variables for terminals

There are some parameters describing the users' terminals that from time to time need to be changed by the system supervisor. Sometimes users change such parameters accidentally, and need assistance to get back to normal conditions.

This section explains some of the terminal parameters you find in the computer. The most important switch settings concerning the real terminals are given in appendix K. The terminal parameters must be defined so that they correspond both to the computer and to the terminal. Most commands for defining parameters affect only the SINTRAN memory area. Operating directly on the variables (in octal code!) makes it possible to change them in all three parts of SINTRAN. Appendix H.7 gives an example of a mode file to change terminal parameters each time SINTRAN has been loaded from a floppy diskette.

---

### 6.4.1 Terminal type

Each terminal model is assigned its own terminal type. It is important that the terminal type is set to the proper value. Modern terminals and screen-oriented programs use much more than the plain ASCII character set when communicating. The actual protocol used for communicating is as a general rule unique for each terminal model. The file DDBTABLES:VTM contains terminal dependent codes and is used by screen-oriented applications.

All users are allowed to define the terminal type for their own terminals. User SYSTEM can define the terminal type for all terminals. The command to use in both cases is:

```
QSET-TERMINAL-TYPE (<terminal number>) (<terminal type>)
```

The default values for the command are: the terminal where you are typing at the moment, with terminal type 0. This terminal type should in fact not be used, as it is just a dummy number. To get the currently defined terminal type for a terminal, use:

```
QGET-TERMINAL-TYPE (<terminal number>)
```

Default is the terminal where you are typing at the moment. The most usual terminal types are listed in table 18.

---

Norsk Data ND-30.003.7 EN

---

## Page 270

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

| term. type | terminal model | term. type | terminal model |
|------------|----------------|------------|----------------|
| 0          | dummy (terminal type not set) | 48 | Hazeltine-Executive-80 |
| 1          | Vistar-old     | 49 | Ampex-Dialogue-80   |
| 2          | Teletype ASR-33| 50 | Volker-Craig-VC404Q (ADM-3A) |
| 3          | Tandberg TDV2115-Standard | 51 | Data-Media-Elite-1520/1521 |
| 4          | Infoton-200-1  | 52 | Tandberg TDV2215-SDS-V2 |
| 5          | Infoton-400    | 53 | Tandberg TDV2200/9-ND-NOTIS |
| 6          | DEC-VT100 (80 column mode) | 54 | Tandberg TDV2200-Standard |
| 7          | Tandberg-TDV2000 | 55 | Tandberg TDV2200/9-ND-TET |
| 8          | Beehive-100    | 57 | Facit 4420-ND-NOTIS |
| 9          | ND-NCT (Nord Colour Terminal) | 58 | Nokia-VDU210 |
| 10         | Hazeltine-1520 | 62 | Piiceon (33 line mode) |
| 11         | DEC-LA36 (Decwriter-II) | 63 | Piiceon (66 line mode) |
| 12         | Vistar-GTX     | 66 | Lear-Siegler-ADM-42 |
| 29         | DEC-VT52        | 70 | Lear-Siegler-ADM-32 |
| 30         | Tec-501/502     | 72 | Lynwood-Alpha-graphic |
| 31         | Dacoll-242      | 73 | General-terminal-co.-100/101 |
| 32         | Newbury-7000/3  | 78 | Tektronix-4105 |
| 33         | Televideo-912/920 | 79 | IBM Personal Computer |
| 34         | Visual-200      | 80 | Tandberg TDV2200/9-ND-NET¹ |
| 35         | Lear-Siegler-ADM-3A | 81 | Ramtek-6221 |
| 36         | Tandberg TDV2215-Extended | 83 | Tandberg TDV2200/9-V2-ND-NOTI |
| 37         | Volker-Craig-VC404 | 86 | CDC-721 |
| 38         | Volker-Craig-VC410 | 87 | Apple-II |
| 39         | Volker-Craig-VC414 | 90 | Tandberg TDV2200/9S-ND-NET¹ |
| 40         | Hewlett-Packard-2621A | 91 | Facit Twist (24-lines mode) |
| 41         | Data-Media-Elite-3045 | 92 | Facit Twist (72-lines mode) |
| 42         | Beehive-Minibee | 93 | Tandberg TDV2200/9S-ND-NOTIS |
| 43         | Pericom-6800 (80 column mode) | 94 | Tektronix 4125 |
| 44         | Lear-Siegler-ADM-31 | 95 | DELTA-DATA (Singer Link) |
| 45         | Beehive-DM5A   | 96 | RACAL NORSK Bit-mapped screen |
| 46         | Facit 4420 (VT52 mode) | 97 | Beehive FT10 |
| 47         | Adds-Viewpoint | 98 | WESTWARD 2015 |
|            |                | 99 | COLORTREND 210 ND |

¹ ND-NET = ND Nortext Editing Terminal (used by ND COMTEC).

**Table 18. Standard ND terminal types**

If the terminal type is set to 0, the application programs using VTM will prompt the user for terminal type.

The FACIT TWIST terminal is capable of operating in two modes. The terminal type for this terminal is changed automatically when using ADP applications such as the NOTIS series. This is implemented by having the terminal send the home command sequence !91 or !92, when the user twists the terminal to change mode. SINTRAN and very many other applications do not understand this.

Norsk Data ND-30.003.7 EN

---

## Page 271

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

| Example of setting terminal type for FACIT TWIST |
|--------------------------------------------------|
| `@SET-TERMINAL-TYPE,.91`                          |
| FACIT calls the FACIT terminal's 24 lines mode for landscape. |

Do not be confused if you get the following (or similar) result after using screen-oriented applications:

| A "strange" terminal type                        |
|--------------------------------------------------|
| `@GET-TERMINAL-TYPE, TERMINAL TYPE: -5029`       |
| Has something gone wrong? No, in fact this is the same as terminal type 91! |

The negative number that is output in the previous example derives from the fact that the internal representation of a terminal type is slightly more complicated. Additional bits are used in the location that contains the terminal type, to set additional attributes. When the location is printed by `@GET-TERMINAL-TYPE`, it is regarded as a signed integer. The additional attributes are used by application programs. See description of the variable CTIYP in section 6.4.4 for more details.

## 6.4.2 The ESCAPE function (ESC)

The ESC function reserves a special character, which is used for  

- breaking the user's program execution
- aborting commands
- telling SINTRAN that somebody wants to log in.

Screen-oriented programs need to turn the ESC function off when they run, because many functions in a modern screen terminal are based on the use of ESC to form control sequences. If the application program terminates due to some error and the user is logged out, you must turn the ESC function for that terminal on again:

`@ENABLE-ESCAPE-FUNCTION (<terminal number>)`

Norsk Data ND-30.003.7 EN

---

## Page 272

# SINTRAN III SYSTEM SUPERVISOR  
PERIPHERALS AND SPOOLING SUPERVISION

Only user SYSTEM can enable the ESC function for any terminal. An ordinary user can only do it for his/her own terminal. The command to turn the ESC function off is:

**@DISABLE-ESCAPE-FUNCTION (<terminal number>)**

You are unlikely to need this command very often.

Normally, a terminal has an ESC key, with ASCII value 27 (33B). If you have a non-standard terminal with an ESC key that sends another value, you should also notify SINTRAN of this by giving the following command:

**@DEFINE-ESCAPE-CHARACTER <terminal number> <value of ESC character>**

This command can only be given from user SYSTEM. The similar key in COSMOS Connect-To, "local character", used for disconnecting from a remote system is explained in chapter 5.

---

## 6.4.3 Background Allocation System

The Background Allocation System (BAS) is standard in ordinary configurations of SINTRAN VSX/K. This system is used for administering all the background programs for terminals and TADs (BAKxx), and the batch processors (BCHxx).

In earlier standard versions of SINTRAN, there was a fixed connection between a terminal number and a background program. With BAS, the background program is not allocated until the user logs in. The only exception from this rule is the console terminal, which always has the background program BAK01 allocated. This means that the background program for a given terminal will not be the same each time the user logs in. The scratch file number in version K is (as previously) the same as the background program number. BAS makes it possible to have more terminals than background programs, provided all terminals are never simultaneously in use.

---

Norsk Data ND-30.003.7 EN

---

## Page 273

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

### Example of BAKxx and SCRATCHxx numbers that belong to each other

| Command     | Output                                                                       |
|-------------|------------------------------------------------------------------------------|
| @WHO        | ...                                                                          |
|             | ==> '768 SYSTEM                                                              |
| @LIST-DEVICE|                                                                              |
|             | LOGICAL UNIT NUMBER: 768 1                                                   |
|             | RESERVED BY: BAK13                                                           |
| @LIST-OPEN-FILES |                                                                         |
|             | FILE NUMBER 100 : (PACK-ONE:YOYO)SCRATCH13:DATA;1                            |

Some BAS parameters are manipulated using the SINTRAN Service command:

**BACKGROUND-ALLOCATION-UTILITIES**

#### Entering the subcommands for BAS

**BACKGROUND-ALLOCATION-UTILITIES**

- FUNCTION: HELP
- CHANGE-LOGOUT-TIME
- CHANGE-WARNING-TIME
- DISABLE-TIMEOUT
- DISPLAY
- ENABLE-TIMEOUT
- EXIT
- FREE-BACKGROUND-PROGRAMS
- HELP
- LIST-PARAMETERS
- RESET-PERMANENT-CONNECTION
- SET-PERMANENT-CONNECTION
- TIMEOUT-OFF
- TIMEOUT-ON
- FUNCTION: EXIT

Note that the subcommands are arranged alphabetically in the above example.

With BAS, it is possible to make SINTRAN automatically log inactive users out after a predefined interval. This timeout can be set individually for all terminals. Before the user is logged out, s/he gets a warning message and the terminal bell is sounded. This is repeated every minute until timeout occurs.

Norsk Data ND-30.003.7 EN

---

## Page 274

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

Inactive use is defined as a period when there is neither input from nor output to the terminal. There is no check on what the user is actually doing, i.e. running a program or just in SINTRAN. A user who leaves a terminal without saving risks losing all work carried out since the last save.

Automatic logging-out of inactive users increases data security. It decreases the risk of unauthorized users accessing logged-in terminals from empty offices. But this is no excuse for not logging out after finishing work!

You select automatic logging-out for all inactive users after timeout by giving the following command:

```
TIMEOUT-OFF (<memory?>) (<image?>) (<save-area?>)
```

Default for all BAS questions about SINTRAN parts to be affected is "NO". The command

```
TIMEOUT-ON (<memory?>) (<image?>) (<save-area?>)
```

enables the TIMEOUT function on all terminals initially. This can later be changed for each terminal individually by the commands:

```
ENABLE-TIMEOUT <logical unit number> (<memory?>) (<image?>) (<save-area?>)
```

```
DISABLE-TIMEOUT <logical unit number> (<memory?>) (<image?>) (<save-area?>)
```

Norsk Data ND-30.003.7 EN

---

## Page 275

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

Suppose that all terminals, except the console (placed in a safe, locked data room) shall have timeout enabled:

| Selecting timeout                  |
|------------------------------------|
| *BACKGROUND-ALLOCATION-UTILITIES   |
| FUNCTION: TIMEOUT-ON               |
| MEMORY? Y                          |
| IMAGE? Y                           |
| SAVE-AREA? Y                       |
| FUNCTION: DISABLE-TIMEOUT          |
| LOGICAL UNIT NUMBER (OCT): 1       |
| MEMORY? Y Y                        |
| FUNCTION: LIST-PARAMETERS          |
| MEMORY? Y Y Y                      |

| MEMORY | IMAGE | SAVE |
|--------|-------|------|
| TIMEOUT| ON    | ON   | ON   |
| NUMBER OF MINUTES INACTIVE BEFORE LOGGED OUT: | 30 | 30 | 30 |
| NUMBER OF MINUTES INACTIVE BEFORE WARNING:    | 25 | 25 | 25 |

You change the warning and logout time by:

**CHANGE-LOGOUT-TIME ((number of minutes)) ((memory?)) ((image?)) ((save-area?))**

**CHANGE-WARNING-TIME ((number of minutes)) ((memory?)) ((image?)) ((save-area?))**

Suppose you want to change the logout time from 30 to 15 minutes, and warning time from 25 to 13 minutes:

| Example of changing logout and warning time   |
|-----------------------------------------------|
| *BACKGROUND-ALLOCATION-UTILITIES              |
| FUNCTION: CHANGE-LOGOUT-TIME                  |
| NUMBER OF MINUTES (DEC.): 15 Y Y Y            |
| FUNCTION: CHANGE-WARNING-TIME                 |
| NUMBER OF MINUTES (DEC.): 13 Y Y Y            |

The terminal bell will be sounded when the terminal has been inactive for 13 minutes without logging out. After another two minutes, it will be logged out automatically.

Norsk Data ND-30.003.7 EN

---

## Page 276

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

It is possible to force a fixed connection between a given background program and terminal number. The command to use is:

**SET-PERMANENT-CONNECTION** `<terminal number>` `<memory?>` `<image?>` `<save-area?>`

### Example of setting permanent connection

| FUNCTION: SET-PERMANENT-CONNECTION | LOGICAL UNIT NO (OCT): 36D V Y V |
| --- | --- |
| FUNCTION: DISPLAY | |
| LOG. (DEC) | DEV. TYPE | STATUS | BACK. PROGR. | DYN. ALL. | TIME-OUT | PERM. CONNECTION |
| --- | --- | --- | --- | --- | --- | --- |
| | 36 TERMINAL | RESERVED BAK36 | YES | YES | YES |

The user of terminal 36 gets from now on BAK36 when logging in.

YES here means the "DYN. ALL." parameter is overridden.

## 6.4.4 Some variables in the terminal datafield

Only a small number of variables related to terminals, and considered to be important to all configurations, are described here. There are also many additional variables that can be changed to suit special needs.

Seen from SINTRAN, each terminal is described by two datafields. One datafield is for input and one is for output. The input datafield describes variables related to data from terminal to the computer, and the output part describes the opposite. Figure 41 illustrates this.

*Norsk Data ND-30.003.7 EN*

---

## Page 277

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

![Simplified model of user dialogue with an application](figure.png)

**Figure 41. Simplified model of user dialogue with an application**

The datafield is inspected and changed by using the SINTRAN Service Program command:

**\*CHANGE-DATAFIELD** `<logical unit number>` `<input or output?>` `(<memory?>)` `(<image?>)` `(<save-area?>)`

---

# TSPEED - Terminal speed

TSPEED tells the terminal controller inside the computer how fast characters are to be sent or received. The transmission speed must be set accordingly in both computer and terminal in order to establish communication. It is possible to have different speed on input and output, split-speed, as seen from the computer. This is not possible with all terminals.

For screen-oriented terminals it is an advantage to use split-speed. The output speed should normally be set to the highest possible value, to make updating of the screen picture fast. The input speed should be set to a lower value to avoid characters from being overwritten in the computer when sequences of characters arrive. The human element is the slowest part in the communication process anyway, so this will not be a drawback.

The terminal speed is set initially by a switch setting on the terminal interface. See appendix K for this and the settings on the terminals. The TSPEED must be set to `177777B` if the initial speed is to be used.

Norsk Data ND-30.003.7 EN

---

## Page 278

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

Select values from table 19 to make the value for TSPEED. To have split-speed, select desired values from the input and output columns, and simply add them together.

**NOTE! You must do a warm start to put the TSPEED change into effect!**

| BPS 1) out | split-speed in and out | comments             |
|------------|------------------------|----------------------|
|            | in        | equal      |                      |
|            | ----      | ----       | ----                 |
| 19200      | 0         | 0          | 0 Only ND-102740 FIFO terminal interface |
| 9600       | 10        | 200        | 210                  |
| 4800       | 11        | 220        | 231                  |
| 2400       | 14        | 300        | 314                  |
| 1800       | 12        | 240        | 252                  |
| 1200       | 13        | 260        | 273                  |
| 600        | 6         | 140        | 146                  |
| 300        | 15        | 320        | 335                  |
| 200        | 5         | 120        | 125                  |
| 150        | 16        | 340        | 356                  |
| 134.5      | 4         | 100        | 104                  |
| 110        | 17        | 360        | 377                  |
| 75         | 3         | 60         | 63                   |
| 50         | 2         | 40         | 42                   |
| 100        | 1         | 20         | 21 Not for ND-102740 FIFO terminal interface |

1) BPS is Bits Per Second  
Note that ND-102740 can NOT be programmed for split-speed at all.

**Table 19. Values to select terminal transmission speed**

**NOTE! Terminals are divided into groups of 4 terminals each. When TSPEED is changed for one terminal, it MUST also be changed for the remaining terminals in the group. Appendix X has a list of terminals numbers and respective terminal groups.**

Norsk Data ND-30.003.7 EN

---

## Page 279

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION  

---

### Example of changing TSPEED

Suppose you have a FACIT TWIST terminal, terminal number 55, where you want 9600 BPS on output and 1200 BPS on input part:

    TSPEED = 108 + 260T = 2708

Then you change the TSPEED in the terminal's input datafield:

    *CHANGE-DATAFIELD 55D I
    MEMORY? Y Y Y
    TSPEED/ 000210 000210 000210 210 .

    Full stop brings you back to SINTRAN Service.

The value 210 indicated that TSPEED not has been set in software since SINTRAN was loaded from floppy diskette.

---

### CTYTP - Terminal type

The variable CTYTP contains the terminal type definition. Table 18 lists the most usual terminal types. This is stored in bits 0-7 of the word. The remaining bits are mainly used by applications using VTM (Virtual Terminal Manager):

#### CTYTP bit assignment

| Bit no. (dec.) | 15 | 14 | 13 | 12 | 11 | 10 | 7 | 0 |
|----------------|----|----|----|----|----|----|---|---|
|                | ND | VDU | BS | FF | CPOS | ESC | 0 0 | term. type |

- **Bit 10:** Set if terminal can send (ASCII) ESC sequences on input.  
- **11:** Set if terminal has cursor positioning.  
- **12:** Set if (ASCII) Form Feed gives new page or clears screen.  
- **13:** Set if (ASCII) Back Space is handled correctly.  
- **14:** Set if the terminal is a VDU (screen not hardcopy).  
- **15:** Set if bits 0-7 contains an official ND terminal type.

Norsk Data ND-30.003.7 EN

---

## Page 280

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

### Example of setting CTYP

Suppose you want to set terminal type for the FACIT TWIST (24-lines mode). Calculate CTIYP value:

| | |
|----------------|----------------|
| Terminal type  | 91D (133B)     |
| Bits set: 10, 11, 13 - 15 = 1024 * (1 + 2 + 8 + 16 + 32) | 60416D (166000B) |

------------------------------

| CTIYP        | 60507D (166133B) |
|--------------|------------------|
|              |                  |

Change CTIYP in the terminal's **input** datafield:

```
*CHANGE-DATAFIELD 55D I
MEMORY: Y Y Y
CTIYP:  000000 000000 000000 166133 .

It is not necessary to set anything but the terminal type
before running an application using VTM. The remaining
attributes will then by modified automatically.
```

---

### DFLAG - Data FLAGs (ADVANCED)

The variable DFLAG contains information about some attributes handled by the terminal driver (the part of SINTRAN that administers terminal IO). Some of the attributes are only used for internal communication in the IO-driver, between the input and the output, and are therefore of no interest to system supervisors.

Some of the attributes in DFLAG are affected by the command

```
@TERMINAL-MODE (<CAPITAL LETTERS?>) (<DELAY AFTER CARRIAGE RETURN?>)
               (<STOP ON FULL PAGE?>) (<LOGOUT ON MISSING CARRIER?>)
```

The DFLAG contains also flags for selecting XON/XOFF. Use of XON/XOFF requires that the terminal is able to understand it. It is a simple terminal "protocol" to prevent data buffers from being overwritten.

---

Norsk Data ND-30.003.7 EN

---

## Page 281

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

### DFLAG Bit Assignment

| 15 | 14 | 13 | 12 | 11 | 10 | 9  | 8  | ... | 4  | 3  | 2  | 0  |
|----|----|----|----|----|----|----|----|-----|----|----|----|----|
| XON/  | *  | INH  | * UPC | * XON/ | x |  NO | x  |
| XOFF  | ESC |   | XOFF |  |    | ECHO |  |

*x = the bit can be dynamically set and reset by SINTRAN*

- **Bit 3:** Set if terminal is NOT to get echo of characters on input.
- **9:** XON/XOFF handled on output, i.e., SINTRAN expects that the terminal sends XOFF and later on XON when terminal’s databuffer is nearly full.
- **11:** Converts all characters from terminal to uppercase (affects also echoed characters).
- **13:** Inhibits ESC character on input. The ESC character will not generate user break.
- **15:** Handles XON/OFF on input, i.e., computer sends XOFF and later on XON when it’s ringbuffer for the terminal is nearly full. Only a few terminals can make use of this feature. Note that this should not be used if the terminal is connected to a terminal interface with FIFO. The reason is that SINTRAN cannot make use of the FIFO on output in this case.

### Example of Setting DFLAG

Suppose you want to set DFLAG for terminal 38; a FACIT TWIST. This terminal is connected to a terminal interface with FIFO, so only bit 9 should be set (bit 9 set corresponds to 1000B).

```
*CHANGE-DATAFIELD 38D I Y Y Y

DFLAG/  000000 000000 000000 1000J
```

Turn to appendix K for setting the terminal set up menus.

### TINFO - Terminal INFO (ADVANCED)

The variable TINFO contains various items of information about the terminal. Only the items considered to be most important are documented here. TINFO is stored in the terminal’s input datafield. It is only stored in the memory part.

Norsk Data ND-30.003.7 EN

---

## Page 282

# SINTRAN III SYSTEM SUPERVISOR  
## PERIPHERALS AND SPOOLING SUPERVISION

### TINFO Bit Assignment

| Bit  | Description |
|------|-------------|
| 0    | FIFO terminal interface. The terminal interfaces ND-102730 and ND-102740 have a character buffer that speeds up terminal-I/O on output. |
| 3    | Terminal used as a printer. Setting this bit prevents this line from being used by any background program. |
| 4    | EPSON printer connected directly to terminal. SINTRAN will use control sequences to select the printer. |
| 6    | Unmodified input; no parity. Normally receives applications 7-bits ASCII with even parity. |
| 7    | Carriage return delay. Used for a printer terminal needing a delay before it is able to advance to new line (by LF). |
| 12   | Telefix terminal. A modem is connected to the line. |

### ROUSPEC - Routine Special (ADVANCED)

The variable ROUSPEC tells SINTRAN whether a special routine is to be activated each time a character is received on input or not. The contents of ROUSPEC is used as the address (in physical memory) to this special routine. ROUSPEC = 0 means that no routine is called. In a standard configuration of SINTRAN, ROUSPEC is set to the value of "XOFTR". "XOFTR" is a symbol in the system file SYMBOL-2-LIST.

The routine with address "XOFTR" is used for handling the SINTRAN line editing characters CTRL-Q and CTRL-S. Note that these are the same characters as the ones used for XON/XOFF. No problem arises from having both the routine "XOFTR" and XON/XOFF enabled at the same time. The advantage of being able to use the routine far outweighs the insignificant loss of CPU time involved.

### CESC - Escape Character

The variable CESC contains the local character in the most significant byte (bits 8-15), and the escape character in the least significant. Both characters are in ASCII representation.

By default, the local character is CTRL-@ (ASCII 0) and the escape character CTRL-[ (ASCII 27D).

---

Norsk Data ND-30.003.7 EN

---

## Page 283

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

---

### 6.4.5 Security primitives

A variable in SINTRAN called EXSECURITY contains attributes related to data security for terminals and background programs:

| EXSECURITY bit assignment |
|---------------------------|
| **Bit 0:** Set if no listing of command lines in the @TERMINAL-STATUS command except for own user. If the command is performed by user SYSTEM, the command lines for all background programs logged in will be listed. The command lines will also be listed for the background programs running under the same user area as the one executing the @TERMINAL-STATUS command. |
| **Bit 1:** Set if the background segment, both program and data bank, will be set to zero when logging out. This feature delays the logout sequence considerably (seconds). If the background program is terminated abnormally, this zeroing will take place when you log in the first time after the abnormal termination. |
| **Bit 2:** The scratch file pages written to in the last session will be set to zero when logging out. This will also slow down the logout sequence. |
| **Bit 3:** Zeroing of pages released from a file, this normally occurs when using the @DELETE-FILE command. |
| **Bit 4:** A user is not allowed to log in without a SINTRAN password. Login without it is only allowed once after @CREATE-USER. |
| **Bit 5:** The commands @HELP and @LIST-REENTRANT will only list commands and reentrant subsystems/ND-500 standard domains available to the user giving the command. An unprivileged user will thus not "see" commands available only to users SYSTEM or RT. |

The default value of the variable EXSECURITY is 7 (bits 0, 1, and 2 are set) but this can be changed by the @SINTRAN-SERVICE-PROGRAM command *CHANGE-VARIABLE*. 

---

Norsk Data ND-30.003.7 EN

---

## Page 284

# SINTRAN III SYSTEM SUPERVISOR
## PERIPHERALS AND SPOOLING SUPERVISION

### Example of changing EXSECURITY

You want to change the EXSECURITY to set bits 0, 4 and 5. You want to force everybody to have a SINTRAN password, but you reset the bits that slow down response time, because you consider this less important than "absolute" data security:

EXSECURITY = 1 + 16 + 32 = 49D = 61B

### @SINTRAN-SERVICE-PROGRAM

#### *CHANGE-VARIABLE EXSECURITY

| VALUE (OCT.) | 61 |
|--------------|----|

MEMORY? Y Y Y 

This definition becomes rather permanent.

| MEMORY:    | 61B |
|------------|-----|
| IMAGE:     | 61B |
| SAVE-AREA: | 61B |

Norsk Data ND-30.003.7 EN

---

## Page 285

# SINTRAN III SYSTEM SUPERVISOR  
## TAKING BACKUP  

---

## CHAPTER 7  
### TAKING BACKUP  

This chapter describes some backup procedures relevant for the system supervisor. For a more detailed study of how to take backup, see the manual ND Backup User Guide (ND-60.250). This manual contains more information for the system supervisor and for ordinary users (e.g. personal backup and backup on magnetic tape).  

You should be familiar with the major concepts of the SINTRAN file system, described in chapter 4. The backup disk must be formatted (see section 4.2.2).  

---

### 7.1 Why and how often you should take backup  

There is always a risk that files or disk packs can be destroyed. This can be caused by hardware errors (e.g. physical disk crash) or software errors (e.g. inconsistency in a database).

User errors also happen from time to time. Somebody deletes a file accidentally, or unintentionally overwrites an existing file so that original data is lost.

Backup copies can be used in such cases for restoring lost or corrupted data. The system supervisor has the responsibility for taking backup of all files in the system. In addition, each user can take his own personal backup on floppy diskettes or magnetic tapes.

How often you should take backup depends on the importance of the files. This can vary from several times a day to once a month. If important data changes rapidly, backup should be taken often.

Data security increases if you have more than one generation of backup. The backup should be stored in a safe place, i.e. without risk of being damaged by fire, water, dust or other environmental disturbances. Keeping several backup copies of the same disk stored in different places (e.g. different buildings) increases the safety.

An example of different, complete backup generations is shown in figure 42. Figure 43 shows another way of taking backup, incremental backup, which is based on partial backups. You must decide how much time and money to spend on taking backup and buying disk packs, compared to the cost of regenerating lost data.

---

Norsk Data ND-30.003.7 EN

---

## Page 286

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

### Figure 42. Several generations of a complete backup

| Backup Frequency    | Backup Packs |
|---------------------|--------------|
| Weekly backup       | Backup pack A → Backup pack B |
|                     | Disk in use → Backup pack C → Backup pack D |
| Monthly backup      | Backup pack E |
| Half year backup etc. | Backup pack E |

There are three different tools for taking backup. Which tool to use depends on your needs:

- SINTRAN commands
- The Backup System program
- Stand-alone programs

### Caution

> When you are taking backup, make sure that you copy in the correct direction (from source to destination and NOT opposite!). If not, your source data is lost forever!

Norsk Data ND-30.003.7 EN

---

## Page 287

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

---

### 7.2 SINTRAN commands for taking backup

Two SINTRAN commands can be used by user SYSTEM for taking on-line backup of a complete disk (directory). This is useful for making several copies of a floppy diskettes. You find similar functions in the Backup System so you do not have to make use of these!

The following command copies all pages on the source device onto the destination device:

```
@COPY-DEVICE <destination device name> <device unit>
[<fixed=F/removable=R>] <source device name> <device unit>
[<fixed=F/removable=R>]
```

The destination device will be exactly equal to the source. The command applies to devices such as disk packs, magnetic tapes and floppy diskettes. The devices must be of equal size. The destination device cannot be entered.

It is a good idea to enter the directory on the source disk before copying to make sure that you do not copy in the wrong direction.

| Example of taking backup using @COPY-DEVICE |
|---------------------------------------------|
| @RELEASE-DIRECTORY PACK-TWO                 |
| @COPY-DEVICE DISC-70MB=1 0 DISC-70MB=1 1    |

The following command copies all files in the source directory onto the destination directory:

```
@COPY-DIRECTORY <destination directory name> <source directory name>
```

The user areas and file names will be the same in the destination directory as in the source directory. The destination directory can be empty when the command is given, e.g. the directory must have been created but no user areas or files need to exist. However, creating the users and files saves time. The destination files will be reorganized, thus giving more contiguous space. Allocated files will be created and given space, but they are not copied.

---

Norsk Data ND-30.003.7 EN

---

## Page 288

# 7.3 Using the Backup System

The Backup System offers a variety of facilities for copying files efficiently. It handles the storage media's disks, floppy diskettes and magnetic tape. Backup can even be taken on a remote computer using COSMOS Remote File Access. One of the greatest advantages of the Backup System is that backup is done while the computer is running.

Files are restored using the same commands as are used for taking the backup. The difference is that you must exchange the source and directory parameters. Be careful with this!

Some of the BACKUP SYSTEM commands have subcommands. An extensive description of all commands and parameters is available on-line. You can at any time use a question mark "?" to find out the legal answers. You will hopefully also find the commands HELP and DESCRIBE-ALL-COMMANDS useful to get on-line information.

You can type `ESC` to restart parameter collection in a command.

SINTRAN commands are made directly available in the Backup System by preceding any command with a `@`.

| Commands                   | Subcommands? | Functions only for SYSTEM         |
|----------------------------|--------------|-----------------------------------|
| COPY-USERS-FILES           | Yes          |                                   |
| CREATE-VOLUME              |              |                                   |
| DELETE-VOLUME-FILES        |              |                                   |
| DESCRIBE-ALL-COMMANDS      |              |                                   |
| DEVICE-COPY                | Yes          | All                               |
| EXIT                       |              |                                   |
| HELP                       |              |                                   |
| LIST-VOLUME                |              |                                   |
| MULTIUSER-COPY             | Yes          | Copying to directory              |
| RECREATE-FILES-AND-USERS   |              |                                   |
| SERVICE-PROGRAM-CUF        | Yes          | Some subcommands                  |

_Table 20. The Backup System commands_

Norsk Data ND-30.003.7 EN

---

## Page 289

# SINTRAN III SYSTEM SUPERVISOR  
# TAKING BACKUP  

---

## 7.3.1 Device copy  

The Backup System command  

### DEVICE-COPY  

can be used for copying a complete device unit (one or more directories) or a sub-unit (single directory on a disk with several directories). The command is restricted to user SYSTEM.  

The device unit can be a disk, streamer tape or a magnetic tape. If the `<destination device unit>` is a directory, it must not be entered. If it is a streamer or magnetic tape, it must not be in use (occupied). The `<source device unit>` must be entered if it is a disk. The contents of files currently opened for write on the source are not copied. This means that no user activity must be in process involving files on this medium.  

The copy will be an image of the original source device. Thus, both file system information and the files themselves are copied.  

If you are going to take backup of a system with only one disk, or the system pack, you must stop all user activities before backup. The device units must be of equal size.  

This a better way of taking backup than using a stand-alone program, because some user activities can usually go on simultaneously. In addition, DEVICE-COPY copies with the same speed as stand-alone programs.  

---

Norsk Data ND-30.003.7 EN

---

## Page 290

# Example of device copy from a subdivided disk

## @BACKUP-SYSTEM

**Ba-sy: DEVICE-COPY**

- Destination device name: DISC-70MB-1
- Destination device unit: 0
- Source device name: DISC-288MB-1
- Source device unit: 1:3

```
Unit 1, sub-unit 3.
```

- Function: COPY
  - ERT DMASRV

```
This message is only output on the error device if the DMA Server is not already started. It is used by the Backup System for fetching pages from the disk.
```

```
- DMA-SERVER - 
```
- Ready, version

- Pages to copy: 34765
- Copying
- Comparing
  - OK

**Ba-sy: EXIT**

In the previous example, comparison of source and destination data was done automatically. The compare mode can be changed in the Backup System:

# Example of changing the compare mode

## @BACKUP-SYSTEM

**Ba-sy: SERVICE-PROGRAM-CUF**

- Cuf-serv: COMPARE-MODE
  - Mode "DEVICE": NO

```
No comparison at all.
```

**Cuf-serv: EXIT**

| Mode          | Description                                                                   |
|---------------|-------------------------------------------------------------------------------|
| DEVICE        | Compare after using DEVICE-COPY                                               |
| RETENTION     | Compare for streamer tape. The tape is wound and rewound before use.          |
| FILECOMPARE   | Compare after using COPY-USERS-FILES and MULTIUSER-COPY.                      |

Norsk Data ND-30.003.7 EN

---

## Page 291

# SINTRAN III SYSTEM SUPERVISOR

## TAKING BACKUP

### Example of device copy to a streamer tape

#### @BACKUP-SYSTEM

- **Ba-sy:** SERVICE-PROGRAM-CUF
- **Cuf-serv:** COMPARE-MODE
  - **Mode DEVICE**: RETENTION
- **Cuf-serv:** EXIT
- **Ba-sy:** DEVICE-COPY
  - **Destination device name:** STREAMER-TAPE-1
  - **Destination device unit:** 0
  - **Source device name:** DISC-74MB-1
  - **Source device unit:** 1
  - **Function:** COPY

#### Retention
- **Pages to copy:** 36396

#### Notations
- Copying: >>>>>>>>
- Comparing: >>>>>>>>

| Operation Details                        |
| ---------------------------------------- |
| **Operation takes** 2 - 3 minutes.       |
| `\` is output after each of the 8 streamer tracks is copied. Each operation takes 12 - 15 minutes. |

**Section:** 1  
Accumulated number of pages copied: 30509  
Continue copying by mounting a new medium: STREAMER-TAPE-1.0  
For object DISC-74MB-1,1  
Mounted (YES/NO, you can push ESC): Y

| Post Mounting                            |
| ---------------------------------------- |
| After mounting 2nd cartridge.            |

#### Retention
- OK

| Retention Details                        |
| ---------------------------------------- |
| Same events occur as for previous cartridge. The operations uses 8 - 10 minutes altogether. |

#### Cartridge Capacity

Each cartridge is capable of holding 60MB of data.

**Note:**  
Remember to label the cartridges with the date, directory name, and sequence number (tape number 1 or 2).

---

### 7.3.2 Commands for selective copying of files

You can copy one or more files belonging to the same user area by giving the command `COPY-USERS-FILES`. Files belonging to several user areas can be copied with the command `MULTIUSER-COPY`. Only user SYSTEM can use `MULTIUSER-COPY` to copy files to a directory.

---

Norsk Data ND-30.003.7 EN

---

## Page 292

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

Both commands have subcommands to describe the source and destination. The subcommands to specify the destination are DIRECTORY (ordinary file system structure) and VOLUME (files ordered sequentially on a media). It is useful for copying large files onto several floppies, or onto magnetic tape.

If you want to port information between different makes of computer, you must use the application FOREIGN-MEDIA. File system organization is generally incompatible between manufacturers.

Before you start the Backup System for using the COPY-USERS-FILES or the MULTIUSER-COPY commands onto a directory make sure that:

- The destination media is formatted.
- The destination directory exists (create it if necessary).
- The destination user area(s) exists (create the user area if necessary). User area(s) must also exist in a main directory.
- The destination user area(s) have enough pages to contain new or extended files since the last time copying took place.

If you log in as user SYSTEM, you are allowed to set automatic expansion (subcommand in SERVICE-PROGRAM-CUF). This makes allocation of pages and necessary creation of user areas automatic.

- FLOPPY-USER should exist on all computers. You should copy files to this user area if the files are to be read into another ND computer.
- Files opened for write on the source directory are not copied. That is, all files to be copied must be closed.

For the command COPY-USERS-FILES also make sure that:

- You have read access to all files to be copied. The general rules for file access rights apply. Normally, you should log in on the source user area to be allowed to copy files. It is a good idea to give FLOPPY-USER maximum file access rights, if you are going to copy to this user area. Another solution is to declare the destination user area as a friend of the source user area with read access. In this case you should log in on the destination user area when copying.

| NOTE! | Files to be copied that do not exist on the destination user area are automatically created. |

| CAUTION! | The Backup System sets maximum access rights to the destination files before copying unless the destination user area is remote. That is, public users cannot prevent existing files from being overwritten when source and destination user area are the same, or when the Backup System is run from user SYSTEM. |

Norsk Data ND-30.003.7 EN

---

## Page 293

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

---

### Copying files belonging to a single user area

#### Example of taking selective backup of one user area

```
@ENTER-DIRECTORY BACKUP-PACK DISC-70MB-1
```
Done from user SYSTEM.

```
@BACKUP-SYSTEM
```
You have now logged in as user SUPERVISOR.

```
BACKUP-SYSTEM / HO2    86.06.23
Ba-sy: COPY-USERS-FILES
```

**Destination type:** DIRECTORY  
Destination directory name : `:` BACKUP-PACK  
Destination user name `SUPERVISOR` : `*`  
_Select default._

**Source type:** DIRECTORY   
Source directory name `:` `.` PACK-ONE  
Source user name `SUPERVISOR` : `*`   
Source file name `:` `*`  
_Default is all._

Manual selection: Y  
_You want to confirm whether every file is to be copied or not._

| FILE 0: | (PACK-ONE:SUPERVISOR)BACKUP-ROUTINES:SYMB;1 |
|---------|--------------------------------------------|
| INDEXED | 17 pages  Modified 86.07.05  (YES/NO) Y    |

OK

```
Ba-sy: EXIT
```

It is possible to use **PARAMETER-FILE** as an answer to the question **Source type**. A parameter file is a file containing the names of the files or user areas to be copied. Output from the commands `@LIST-FILES` and `@LIST-USERS` can be used to make a parameter file. Information in the parameter file not recognised as file or user names is ignored. A parameter file can easily be modified in an editor.

If you use **LIST** as answer to the **Manual selection** parameter, all files to be copied are listed.

**SELECT** is used to enter a new subsystem to make advanced selection of files. For example, you can select all indexed files modified since the last backup was taken.

Norsk Data ND-30.003.7 EN

---

## Page 294

# SINTRAN III SYSTEM SUPERVISOR  
## TAKING BACKUP

The **COPY-USERS-FILES** and **MULTIUSER-COPY** commands will also copy the contents of the directory information for the source file to the destination. For user SYSTEM, and for those with directory access to the source, the last date **OPENED FOR READ** and number of times **OPENED** is not changed on the source.

---

### Example of copying a large file onto floppy volume

`@BACKUP-SYSTEM`

Ba-sy: **CREATE-VOLUME**  
Volume name: 07-86  
Device name `FLOPPY-DISC-1`:  
Device unit: 0

Ba-sy: **COPY-USERS-FILES**  
Destination type: VOL  
Destination volume name: 07-86  
Destination device name `FLOPPY-DISC-1`:  
Destination unit number: 0  
Destination file generation `':` 1  
Source type: DIR

---

Select source file in ordinary way.

Volume is now produced in mode: BACKUP SYSTEM

| File 44: | `PACK-ONE:SYSTEM\MY-LARGE-FILE:DATA:1` |
|----------|--------------------------------------|
|          | INDEXED 519 pages...                  |

* End of volume

---

Install a new floppy, label the floppy with file name, volume name and sequence number.

---

Mounted? (YES/NO, you can push ESC) Y

Copying interrupted file

---

Norsk Data ND-30.003.7 EN

---

## Page 295

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

---

## Copying files for several user areas

The following example shows how all files on a directory can be copied to a directory on another disk. The destination directory BACKUP has been created and entered, but is otherwise empty. Only user SYSTEM is allowed to specify directory as destination type.

**Example of copying files on all user areas**

```
@ENTER-DIRECTORY BACKUP DISC-TOMB-1 2
@BACKUP-SYSTEM
```

The destination directory must be entered.

```
BACKUP-SYSTEM / ......
Ba-sy: MULTIUSER-COPY
   Destination type: DIR
   Destination directory name: BACKUP
   Source type: DIR
   Source directory name: PACK-ONE
   Source user name:!
   Manual user check? 'LIST'* .
   Manual selection: LIST
```

All user areas selected.

All files copied and listed without further confirmation.

| FILE | ALLOCATED/INDEXED | PAGES | MODIFIED |
|------|-------------------|-------|----------|
| FILE 0 : (PACK-ONE:SYSTEM)SINTRAN:DATA:1 | ALLOCATED | 63 pages | Modified 86.06.05 |
| FILE 54 : (PACK-ONE:SMART-GUY)PS400:TEXT | INDEXED | 78 pages | Modified 86.05.20 |

Ba-sy: EXIT

---

## Incremental backup

For the commands `COPY-USERS-FILES` and `MULTIUSER-COPY` it is only possible to copy files modified since last backup. Thus, an incremental backup can be made. This is handled by the file system by setting a flag when files are opened for write. The Backup System resets this flag when copying takes place. This option is normally restricted to user SYSTEM.

---

Norsk Data ND-30.003.7 EN

---

## Page 296

# SINTRAN III SYSTEM SUPERVISOR

## TAKING BACKUP

The modified source files are copied to new versions of the destination files. This can be changed by the SERVICE-PROGRAM-CUF subcommand COPY-MODE equal to OVERWRITE-INCREMENTAL which copies onto an existing version of the destination files. In addition, a log file must be used to keep track of the copied files. This is specified by the MASTER-LOG-MODE in the SERVICE-PROGRAM-CUF.

### Example of incremental backup

```
@BACKUP-SYSTEM

Ba-sy: SERVICE-PROGRAM-CUF  
Cuf-serv: DESTINATION-EXPANSION-MODE  
Automatic expansion mode 'NO': Y
```

| User areas will be created and expanded when necessary. |

```
Cuf-serv: MASTER-LOG-MODE  
Master log file '': (SYSTEM)BACKUP-LOG  
Append access? 'YES': Y
```

| Copied files will be appended to the end of the log file. |

```
Cuf-serv: EXIT

Ba-sy: MULTIUSER-COPY

Destination type: DIR  
Destination directory name: PACK-BACKUP

Source type: DIR  
Source directory name: PACK-ONE  
Source user name '': J

Manual user check? 'LIST': J  
Manual selection: SELECT  
Selection: MODIFIED-SINCE-LAST-BACKUP  
Selection: EXECUTE  
Manual file check?: N

User name: JAN-DAVID  
User name: SAMSON
*Not possible, file is open for write (PACK-ONE:SAMSON)MIC-MAC  
User name: UTILITY
```

| NOTE! Files opened for write are not copied. |

*Norsk Data ND-30.003.7 EN*

---

## Page 297

# SINTRAN III SYSTEM SUPERVISOR

## TAKING BACKUP

Figure 43 shows an example of incremental backup. A complete backup of all files on the directory is taken each week. In addition, backup of all modified files is taken daily. The backup is taken on disks which are then kept for two weeks before re-use.

Incremental backup can for example be run as a batch job during the night when almost all files are closed. It takes some time to make a complete backup on a directory, e.g. 2-3 hours for a 70MB disk.

```
┌───────────────┐    ┌───────────────┐    ┌───────────────┐    
│ COMPLETE      │    │ INCREM.       │    │ INCREM.       │    
│ BACKUP        │    │ BACKUP        │    │ BACKUP        │    
└────┬──────────┘    └────┬──────────┘    └────┬──────────┘    
     │                   │                   │                
     └───────────────────┼───────────────────┼──────────...   
                         │                   │                
     ┌───────────────┐   │   ┌───────────────┐    ┌─────────── 
     │ COMPLETE      │   └───┤ INCREM.       │    │ INCREM.   
     │ BACKUP        │       │ BACKUP        │    │ BACKUP    
     └────┬──────────┘       └────┬──────────┘    └─────┬───── 
          │                      ┌─┘                    │     
          └──────────────────────┴──────────────────────┘     
                                │                            
          ┌─────────────────────┴─────────────┐                
          │ DIRECTORY         IN USE          │                
          └───────────────────────────────────┘                
```

**Figure 43. Example of incremental backup using several directories**

A new directory is created for each incremental backup. A log file for each week must be used to keep track of the most recent backup of a file. The log file should be placed on the {source directory}. It should be opened by append access when taking incremental backup to accumulate the information during a week. However, the first incremental backup after a complete backup should initialize one of the log files.

The method of using a new directory for each incremental backup usually means that a lot of space is wasted, because only a few files are modified between each backup. A better way is to collect more than one incremental backup on the same directory. A new directory should only be created when used for the first time after a complete backup. Different generations of the same file are stored as different versions of the backup. Version number 1 is the last backup of the file, and the highest version number the oldest.

Norsk Data ND-30.003.7 EN

---

## Page 298

# Restoring files

The easiest way of restoring a complete directory is to use the last complete backup and copy all the incremental backup to it. The incremental backup can be copied back in reverse order. The BACKUP SYSTEM will then ask whether the copying is taking place in the right direction the first time it reads a file already restored. If the direction is confirmed, the system will ask if such files should be skipped. Thus, it is only possible to restore the last version of each file.

The BACKUP-SYSTEM command `RECREATE-FILES-AND-USERS` with the list as parameter file will create empty user areas and files on the directory. The selection command `DESTINATION-EXPANSION` should be used to give each user area the appropriate space to hold the files.

# Remote backup

The Backup System is able to use the Remote File Access facility in COSMOS. That means that it is possible to take backup from or to a remote computer. Both `<source>` and `<destination>` directory or volume can be remote. Remote backup is only available for the command `COPY-USERS-FILES`. It is specified by using Remote File Access notation:

    <remote system(remote user(password))>

Remember that you will get the same file access on the `<remote computer>` as the `<remote user>`.

Norsk Data ND-30.003.7 EN

---

## Page 299

# SINTRAN III SYSTEM SUPERVISOR

## TAKING BACKUP

### Example of taking remote backup

Suppose you want to copy files from your local system to the computer CYBER.

@BACKUP-SYSTEM

Ba-sy: COPY-USERS-FILES  
Destination type: DIR  
Destination directory name: CYBER(BACKUP(TOP-SECRET)).PACK-ONE  
Destination user name: 'SYSTEM'  
Source type: DIR,PACK-ONE,SYSTEM,LIST  

List of files copied. Remote copying goes slower than copying within a computer.

---

### Advanced file selection

Using **SELECT** as response to the **Manual selection** parameter; for COPY-USERS-FILES and MULTIUSER-COPY makes it possible to make an advanced file selection. Several selection criteria are available. Different criteria can be combined in an expression by using parentheses ( ) and Boolean operators **NOT AND OR**. The precedence relations between the operators are ( ) as the strongest and **OR** as the weakest.

---

Norsk Data ND-30.003.7 EN

---

## Page 300

# TAKING BACKUP

Suppose you wish to prevent files on some user areas from being copied, e.g. SCRATCH ("temporary files") and BPUN-FILES (files that can usually be restored from floppies):

## Example of excluding user areas from being copied

| Ba-sy: MULTIUSER-COPY |   |
|------------------------|---|
| Manual selection: SELECT |   |
| Selection: NOT FILE-NAME (SCRATCH) |   |
| Selection: AND NOT FILE-NAME, (BPUN-FILES) |   |
| Selection: LIST-SELECTION |   |

List of the current selection.

| Selection: LIST-FILES-SELECTED |   |

List of all matching file names.

| Selection: EXECUTE |   |

Leave the select subcommands, and copying takes place.

The SELECTION subcommands also contain functions for editing the current selection:

## DELETE-CURRENT-SELECTION DELETE-LAST-KEY

The result from the previous example could also have been obtained by using a PARAMETER-FILE as input to the Source type ?: parameter. You can make a parameter file in this way:

## Example of excluding user areas from being copied by parameter file

| @LIST-USERS, "BASY-USER-LIST:SYMB" |   |

Read the file into an editor. Remove undesired user areas.

| @BACKUP-SYSTEM |   |
| Ba-sy: MULTIUSER-COPY |   |
| Source type: ? PARAMETER-FILE BASY-USER-LIST |   |
| Manual user check? 'LIST' : N |   |

Copying the selected files ..

Norsk Data ND-30.003.7 EN

---

## Page 301

# SINTRAN III SYSTEM SUPERVISOR  
### TAKING BACKUP

The next example shows how it is possible to prevent copying of certain file types and attributes.

#### Example of excluding certain files

Suppose you do not want to backup :PROG and :BPUN files. In addition, you want to only copy the files which are indexed.

```
@BACKUP-SYSTEM

Ba-sy: MULTIUSER-COPY

Manual selection: SELECT  
Selection: NOT FILE-NAME :PROG AND NOT FILE-NAME :BPUN  
Selection: AND FILE-ATTRIBUTE INDEXED  
Selection: EXECUTE
```

Using parentheses, this could also be expressed as:

```
Selection: NOT ( FILE-NAME :PROG OR FILE-NAME :BPUN )  
Selection: AND FILE-ATTRIBUTE INDEXED
```

## 7.3.3 Modifying the copying mode

The Service Program in the Backup System can be used to modify the copying mode. After the modifications are done, they can be saved by dumping a new version of the Backup System program. If dumping is omitted, the old values reappear next time the program is started.

Norsk Data ND-30.003.7 EN

---

## Page 302

# Example of modifying the BACKUP-SYSTEM

@BACKUP-SYSTEM

## Ba-sy: SERVICE-PROGRAM-CUF

| Cuf-serv: DESTINATION-EXPANSION-MODE |
| -------------------------------------|
| Automatic expansion mode 'NO' : Y |

User areas expanded when necessary.

| Cuf-serv: SHRINKING-MODE |
| -------------------------|
| Shrinking? 'NO' : Y |

Indexed, destination files are automatically shrunk. But this must not be done for files which contain "holes", e.g. program files!

| Cuf-serv: COPY-MODE |
| -------------------|
| Special mode ' ' : CONTIGUOUS-DESTINATION |
| Delete the source files? : N |

Indexed source files are copied to contiguous dest. files.

| Cuf-serv: DUMP-BACKUP-SYSTEM |
| ----------------------------|
| PROG user name 'SYSTEM' : UTILITY |

The original program is overwritten if the original is stored on the specified user area. Remember to dump the modified program reentrant.

@DUMP-PROGRAM-REENTRANT BACKUP-SYSTEM (UTILITY)BACKUP-H

---

## 7.4 Running stand-alone programs for taking backup

Stand-alone programs provide another method of taking backup of disks. The least amount to be taken backup of is a complete directory. You must stop SINTRAN and all the user activity in the system before using such a program. The stand-alone programs listed below are the ones mainly used for taking backup.

- DISC-TEMA (all SMD disks)
- DIR-BACKUP (Winchester disk to streamer tape)
- WINCH-TO-FLOPP (Winchester disk to floppies)
- FLOPP-TO-WINCH (Floppies to Winchester disk)

WINCH-TO-FLOPP and FLOPP-TO-WINCH are mainly for use with computers with fixed Winchester disks and no Streamer.

- MCOPY-TANDB (for STC, Cipher, Tandberg and Pertec drives)

Norsk Data ND-30.003.7 EN

---

## Page 303

# SINTRAN III SYSTEM SUPERVISOR

## TAKING BACKUP

MCOPY-TANDB is a program for copying between disks and magnetic tapes. For example, MCOPY-TANDB can copy a complete directory to a magnetic tape and restore it when necessary.

You find DISC-TEMA on the floppy diskette ND-210523 - Test programs for ND-100. The other stand-alone programs are on the floppy diskette ND-210628 - SINTRAN Utility programs.

Backup disks can later be entered as ordinary disks for selective restoring of files. If you need to restore the complete disk, you use the same commands as for making backup.

---

## 7.4.1 Example of running Filesystem Investigator

Before taking backup of a complete disk, make sure it is not corrupted. You check the file system by using the stand-alone program Filesystem Investigator. You can find the Filesystem Investigator on the SINTRAN Utility diskette (ND-210628).

| Example of running Filesystem Investigator |
|--------------------------------------------|
| Stop the system as described in chapter 3. |
| Install the SINTRAN Utility programs diskette (FLOPPY-DISC-1, unit 0), and start the program from the console: |

| #MACL                                      |
| #*1560&                                    |
| *LOAD FILSYS                               |
| Load Filesystem Investigator from floppy.  |

| DEVICE NAME: DISC-70MB-1                   |
| UNIT: 0                                    |
| Use the correct device name.               |

| Use the following commands to check the consistency: |
|------------------------------------------------------|

| >DUMP-DIRECTORY-ENTRY                            |
|--------------------------------------------------|
| >LIST-USERS                                      |
| You can normally ignore error messages concerning user SCRATCH. Some scratch files are usually left open. |
|--------------------------------------------------|
| >PAGE-LIST                                       |
| Select error reports only.                       |

If you get serious error messages, e.g. page conflicts or bit file error, turn to chapter 10.

---

Norsk Data ND-30.003.7 EN

---

## Page 304

# 7.4.2 DISC-TEMA

Use the `COPY` command in DISC-TEMA to create the backup. Remember to test your backup for validity, using the commands `VERIFY` or `COMPARE`. `VERIFY` compares the contents of two disk areas by reading them both from the disk, and then comparing them word-by-word in memory.

`COMPARE` compares the contents of two disk areas by reading the first area into memory and making the disk controller do the comparing. Thus, a second data transfer to memory is avoided. It also handles correction of correctable errors (ECC redundancy included on the disk).

Obviously, `VERIFY` takes more time than `COMPARE`. It is a good idea to do `COMPARE` until an error is found. Then use `VERIFY` on these areas. Continue with `COMPARE` again if possible.

DISC-TEMA has, in addition, the command `MATCH`. This means that `COMPARE` will be performed as long as no error is found. `VERIFY` takes over whenever an error is encountered, returning to `COMPARE` afterwards.

## Example of taking backup with DISC-TEMA

|  |  |
|---|---|
| Stop the system as described in chapter 3. |  |
| Install the diskette with Test Programs for ND-100 (FLOPPY-DISC-1 unit 0), and start it from the console: |  |
| `#MACL ##1560&` |  |
| `*LOAD DISC-TEMA` | Load and start the program. |

|  |  |
|---|---|
| *** DISC TEST AND MAINTENANCE SYSTEM (DISC-TEMA) ***  |  |
| DISC NAME: DISC-70MB-1  | Use the correct device name. |
| DISC-70MB-1 |  |
| Data way to disc system 1 tested. |  |
| Memory Address Register on system tested. |  |
| Memory buffers are initialized. |  |
| The command HELP gives you a list of the commands. |  |

|  |  |
|---|---|
| If you will be copying to a device type different from the source (e.g. DISC-70MB-2), use the command `SET-DISC-TYPE`. |  |

---

## Page 305

# SINTRAN III SYSTEM SUPERVISOR
## TAKING BACKUP

### Example continued

```
Do the following to see which cylinder is currently being copied. 

>OPCOM
>U/I 404 ESC

>COPY
COPY
FROM DISC-70MB-1
Unit (0-3 Oct.): 0
```

| Make sure that "from" and "to" are specified correctly. |
|----------------------------------------------------------|

```
TO DISC-70MB-1
Unit (0-3 Oct.): 1

The previous content will be destroyed on
Disc system: 1 Unit: 0

Do you still want to continue (Yes/No): Y
```

| This is the last chance to cancel. |
|--------------------------------------|

```
This operation takes some time. It is completed when the U
register reaches cylinder number 1404B in this example.

>MATCH
MATCH
FROM DISC-70MB-1
Unit (0-3 Oct.): 0

TO DISC-70MB-1
Unit (0-3 Oct.): 1

>OPCOM
```

| Compare and verify the backup after copying. |
|----------------------------------------------|
| Do a warm start of the computer.             |

### 7.4.3 DIR-BACKUP

The DIR-BACKUP can be used for backup of all the Winchester disks. Each Streamer cartridge can store 45MB of data. You must use more cartridges for the backup if the disk is larger (e.g. 74MB). You are asked to change the streamer cartridge when it becomes full.

The command **BACKUP** is for backup from Winchester disk (ST506) to streamer. The command **RECOVER** is for restoring the backup from streamer to disk.

Norsk Data ND-30.003.7 EN

---

## Page 306

# Example of Taking Backup with DIR-BACKUP

Stop the system as described in chapter 3.  
Install the SINTRAN Utility Program diskette (FLOPPY-DISC-1, unit 0), and start it from the console:

```
#MACL
#1560#
*LOAD DIR-BACKUP
```

The command HELP gives you a list of the commands.

>MODE  
>It is convenient to use this command before backup.

| Option                               | (Yes/No) | Selection |
|--------------------------------------|----------|-----------|
| Running on a screen terminal         | Yes/No   | Y         |
| Restart SINTRAN after backup         | Yes/No   | N         |
| Comparing after copy                 | Yes/No   | Y         |
| Abort when compare error             | Yes/No   | N         |
| Disable ESC function                 | Yes/No   | N         |
| System name or number                |           | J         |

>BACKUP

TO  
STREAMER system (1-2 oct.) : 1  
Unit ........(0-3 oct.) : 0  

FROM  
Disc name ..............: DISC-45MB-1  
Unit .................. : 0  

**The old content on the streamer tape is lost after backup.**

```
== hh.mm.ss Initializing disc and streamer ==         Takes 3-4 min.
== hh.mm.ss Copying from disc to streamer ==          Takes 10-12 min.
```

Current page xxxxxx  
*The current page (octal) being copied.*

```
== hh.mm.ss Compare disc and streamer ==
```

Current page xxxxxx  
*This also takes 10-12 min, depending on the speed of the streamer.  
This is the same as warm start.*

>RESTART-SINTRAN

Disc name ..............: DISC-45MB-1  
Unit .................. : 0  

*The system disk with SINTRAN.*

Norsk Data ND-30.003.7 EN

---

## Page 307

# SINTRAN III SYSTEM SUPERVISOR  
## MAIL SUBSYSTEM  

### CHAPTER 8  

#### MAIL SUBSYSTEM  

The MAIL system makes it possible for a user to send simple and short messages to any other user. User SYSTEM can, in addition, send a broadcast. A broadcast is a message sent to all users at the same time.

How to start and initialize the MAIL system is explained in section 3.3.5. The initialization is normally done in the HENT-MODE file, but is really only needed each time SINTRAN is loaded from a floppy diskette.

The system supervisor normally uses the MAIL system for informing users about stopping and starting of the computer and similar activities.

There are two basic types of messages/broadcasts. The first type is the direct message that is immediately displayed on the user(s)' terminal(s). It is displayed irrespective of what the user is doing and whether s/he has logged in or not. The system supervisor normally uses this message type. The MAIL commands related to this type of message are:

- **SEND-DIRECT-MESSAGE <terminal number> <message>**

- **DIRECT-BROADCAST <message>**

The second type puts the message into the user(s)' mailbox. The receiver(s) is/are notified when logging in or out. The MAIL subsystem must then be entered to fetch the message. You fetch a message by using:

```
@MAIL [<output file>]
```

All messages are stored in the file `(SYSTEM)MAILBOX:DATA`. All users should have file access RWA to this file.

Norsk Data ND-30.003.7 EN

---

## Page 308

# SINTRAN III SYSTEM SUPERVISOR MAIL SUBSYSTEM

## Example of fetching MAIL

```
@LOGOUT
*** YOU HAVE MAIL ***
@MAIL
OUTPUT FILE: Default is terminal.

M A I L FROM USER GRAPHICS

I HAVE GOT SOME DATA SHEETS FOR A MAGNIFICENT NEW LASER PRINTER! INTERESTED?

*EXIT The message is now removed from the mailbox.
```

When sending a message to be displayed on the screen at once, draw a box around it. This prevents the message from being hidden within other text or a screen picture on the terminal.

## Example of sending a direct broadcast

```
@MAIL

TYPE YOUR MESSAGE TERMINATED BY CONTROL L:
********************************************************
** THE COMPUTER WILL BE STOPPED 6 O'CLOCK FOR MAINTENANCE **
** IT WILL PROBABLY TAKE APPROX. ONE HOUR -- SUPERVISOR **
********************************************************

CTRL+L

*EXIT
```

The MAIL system makes use of the SINTRAN line-editing features. These are described in the SINTRAN Commands Reference manual. In addition to having the uppercase part of the ASCII character set, the character `$` is converted to CR+LF on output. Control characters can also be made.

Such a character is entered by typing CTRL+V followed by CTRL and the control character itself. The ASCII character for a bell, for example, is CTRL+G.

A mail message displayed on the screen does not affect the user's application program, i.e. the application program will not "know" that a message has been sent to the terminal. If the application program is screen-oriented (using VTM), the screen picture can be refreshed by typing FUNC+Θ.

`@MAIL` is implemented as a command with a subcommand set in SINTRAN. Thus, it is possible to enter the MAIL system from an application program accepting SINTRAN commands without losing context. Only one user can enter the MAIL subsystem at a time.

Norsk Data ND-30.003.7 EN

---

## Page 309

# SINTRAN III SYSTEM SUPERVISOR  
## MAIL SUBSYSTEM  

If a batch or mode job tries to use the MAIL system when it has already been entered, the job is aborted. Such jobs should therefore be preceded by the command and parameter:

### @SCHEDULE 1205B

The SCHEDULE <logical device number> command halts the job execution until the device becomes ready (released). MAIL reserves internal device 1205B when it is entered. The internal device is a semaphore without a queue. When the MAIL system becomes ready, all scheduled jobs for MAIL are allowed to continue, but it is still only possible for one to enter. The others are then finally aborted. See also appendix H.1 for typical examples of use.

| NOTE! When using MAIL from a batch or mode job, the commands must be preceded by a commercial at (@), and not the asterisk (*) used by the MAIL system itself. |

A message is removed from the mailbox after the user has read it. A broadcast is stored once in the mailbox, and is deleted after the last user has read it. It is possible to list or delete unread messages and broadcasts. This is convenient for clearing-up the mailbox, by removing old and irrelevant mail. The MAIL commands for these functions are:

- **LIST-BROADCAST (<output file>)**
- **LIST-MESSAGE (<output file>)**
- **DELETE-BROADCAST <mail index>**
- **DELETE-MESSAGE <mail index>**

Norsk Data ND-30.003.7 EN

---

## Page 310

# Example of Removing a Broadcast

```
@MAIL
*BROADCAST

This is just for fun! CTRL+L

MAIL INDEX:   1
*EXIT
```

From now on, you use this index to refer to the message/broadcast.

```
@MAIL
*LIST-BROADCASTS,

MAIL INDEX:   1
B R O A D C A S T

THIS IS JUST FOR FUN!
```

Some days later ..

This is restricted to user SYSTEM.

hh.mm.ss month day, year

```
*DELETE-BROADCAST
MAIL INDEX:  1
*EXIT
```

This is also only for user SYSTEM.

---

The ADP product NOTIS-ID is an advanced tool for sending short messages and letters between users on a computer, or users connected via COSMOS. The product is also integrated with UE (User Environment) and NOTIS-WP (for editing letters). You are advised to buy this product if your users need to send a lot of messages or letters internally in the company.

---

Norsk Data ND-30.003.7 EN

---

## Page 311

# CHAPTER 9 ACCOUNTING (ADVANCED)

The ACCOUNTING system provides facilities for keeping accounts of the use of the computer's resources.

The ACCOUNTING system can be enabled for keeping accounts of the use by background users or RT-programs of the following resources:

- CPU time used for background programs and RT-programs (both ND-100 and ND-500).
- Total time logged in on ND-100 or ND-500 (elapsed time).
- Number of pages read or written to mass storage devices via the file system.
- Number of pages output on printers via the spooling system.

The ACCOUNTING system consists of:

- Accounting files belonging to user SYSTEM.
- SINTRAN commands for starting and stopping it.
- Service Program for use by the system supervisor to maintain projects and produce reports from accounted data.
- The RT-program ACCRT for accounting of RT-programs.

The system supervisor is responsible for creating project names and project passwords. When ACCOUNTING is enabled for background programs, it will apply to all users. It cannot be selected for some users and not for others. The supervisor must notify users of their project names and project passwords.

## 9.1 Installation

You find the ACCOUNTING system on the floppy diskette "Accounting System for SINTRAN III N" (ND-210415). When copying the ACCOUNTING System from floppy diskette onto user SYSTEM, you must name it ACCOUN-SERV-PROG:PROG.

If you are going to keep accounts for RT-programs you need the ACCRT program. If you are running SINTRAN K VSX, it is automatically installed together with SINTRAN.

Norsk Data ND-30.003.7 EN

---

## Page 312

# SINTRAN III SYSTEM SUPERVISOR ACCOUNTING (ADVANCED)

If you have SINTRAN K VSE, you install it as follows:

## Loading ACCRT Program

| Step | Description |
|------|-------------|
| 1    | Copy the ACCRT program from floppy to user BPUN-FILES. |
| 2    | Load the RT-program to segment 32B: |
|      | `@RT-LOADER`<br>`*READ-BINARY (ND:FLOPPY-USER)\ACCRT:BPUN,32`<br>`*YES`<br>`*END-LOAD`<br>`*EXIT` |
| 3    | Include the commands somewhere in the HENT-MODE file to be executed during each cold start. |

## 9.2 Initializing, starting and stopping ACCOUNTING

Only users SYSTEM and RT are allowed to give the SINTRAN commands for accounting.

The ACCOUNTING system must be initialized before starting it the first time. If you want to save existing results, use the DUMP-AND-ACCUMULATE command in the ACCOUNTING Service Program first. You initialize ACCOUNTING by giving the command:

`@INIT-ACCOUNTING (<number of accounts before warning>) (<maximum number of accounts>) <background?> <RT?> [<clear logged information?> <logging interval>] <spooling?>`

Answer "YES" for each category (background, RT or spooling) to be accounted. The optional parameters appear if <RT> is answered with "YES".

When the ACCOUNTING system is running and the actual value for the first parameter has been reached (default 1000), the message "APPROACHING END OF ACCOUNTING FILE" is displayed on the terminal at every log out.

When the actual value for the second parameter is reached (default 1200), the message "ACCOUNTING FILE FULL" is output at log out and the ACCOUNTING omits dumping further information until the ACCOUNTING file is reset. Default value is 1200. Resetting of the ACCOUNTING file is done via the ACCOUNTING Service Program.

Norsk Data ND-30.003.7 EN

---

## Page 313

# SINTRAN III SYSTEM SUPERVISOR
## ACCOUNTING (ADVANCED)

If the accounting files do not exist, they are created when initializing:

- **ACCOUNTS:DATA** (accumulated results)
- **PROJNAM:DATA** (background project names and project passwords)
- **RTPROJ:DATA** (RT project names)

User RT must be a friend of user SYSTEM with read access to the files. In addition, RT needs write and append access to the ACCOUNTS file.

The parameter `<clear logged information>` must be answered "YES" or "NO". It refers to two accounting tables internally in SINTRAN. When "YES" is answered, the entries for all user RT-programs in the tables are set to zero.

The `<logging interval>` is the number of seconds between dumps of the RT accounting table on the file ACCOUNTS:DATA.

After initialization, the ACCOUNTING system is stopped and started by other commands. They should be included in warm start (LOAD-MODE):

```
START-ACCOUNTING [<background?> <RT?> <cleared logged information?> <logging interval>] <spooling?>]
```

See INIT-ACCOUNTING for parameter explanation. All parameters are optional. Only parameters for the categories not already started (background, RT, or spooling) are asked for.

```
STOP-ACCOUNTING [<background?> <RT?> <spooling?>]
```

Only started categories (background, RT, or spooling) are asked for.

If RT accounting is used, you must also select the relevant user RT-programs for logging:

```
START-RT-ACCOUNTING <RT-program name>
```

The parameter `<RT-program name>` is checked against names in the file RTPROJ:DATA. This means that it must be defined in the ACCOUNTING Service Program before this command can be given. This command may be repeated to start more RT-programs. Only user-defined RT-programs can be selected.

The command to stop the logging of a single RT-program is:

```
©STOP-RT-ACCOUNTING <RT-program name>
```

Norsk Data ND-30.003.7 EN

---

## Page 314

# SINTRAN III SYSTEM SUPERVISOR
## ACCOUNTING (ADVANCED)

The command

**@LIST-RT-ACCOUNTING**

displays the names of all RT-programs being logged with their project names and the time used since the last dump of the RT accounting table.

---

## 9.3 ACCOUNTING Service Program

You enter the Service Program by typing

**@ACCOUN-SERV-PROG**

or a legal abbreviation (e.g. A-S-P).

The **EXIT** command causes return to SINTRAN. The Service Program uses the prompt ACC: to indicate that ACCOUNTING commands can be entered.

**HELP** lists all commands matching the given command name string. If HELP is typed as parameter to HELP, the commands will be listed with their explanations.

A question mark (?) following an ambiguous command acts as HELP with the command name as parameter. If the command name is unique, it gives an explanation of this command. A (?) given in place of a parameter explains the parameter.

**ESC** can be used to abort parameters collecting in a command, i.e. abort the command. If ESC is given in other situations, the program is aborted.

The ACCOUNTING Service Program can be used to produce ISAM accounting records, but you need not use ISAM to achieve readable results. ISAM is described in the manual ISAM Reference Manual (ND-60.108).

---

| **CAUTION!** | It is always possible that an error leaves the ISAM files, ACCOUNTS:DATA and AACCOUNTS:ISAM, in an inconsistent state. It is essential to take backup of these files before using the ACCOUNTING Service Program commands: |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              | DUMP-AND-ACCUMULATE                                                                                                                                                                                                |
|              | DELETE-ACCUMULATED-USER                                                                                                                                                                                            |
|              | DELETE-ACCUMULATED-PROJECT                                                                                                                                                                                         |

Norsk Data ND-30.003.7 EN

---

## Page 315

# 9.3.1 Creating and Deleting Background Projects

## Creating Background Projects

```
ACC: CREATE-BACKGROUND-PROJECT

PROJECT PASSWORD / / : CONFIDENTIAL
PROJECT NAME : MY-PROJECT

ACC: LIST-BACKGROUND-PROJECTS

OUTPUT FILE / TERMINAL / : ⬇︎
```

| PROJECT PASSWORD | PROJECT NAME             |
|------------------|---------------------------|
| A                | PROJECT-A                 |
| B                | PROJECT-B                 |
|                  | NEITHER-A-NOR-B           |
| CONFIDENTIAL     | MY-PROJECT Your last defined project. |

The three first projects serve only as examples. They are created when ACCOUNTING is initialized. You can delete them if you do not need them.

It is not possible to create more than one project with the same password. It is permitted to have one project with no (empty) project password.

The user is allowed three attempts to log in. If there are no background projects, just press CR when the project password is asked for.

## Deleting Background Projects

```
ACC: DELETE-BACKGROUND-PROJECT

PROJECT PASSWORD / / : A

ACC: DELETE-BACKGROUND-PROJECT

PROJECT PASSWORD / / : ⬇︎
```

Deleting the projects created when initializing ACCOUNTING.

```
NEITHER-A-NOR-B
```

Norsk Data ND-30.003.7 EN

---

## Page 316

# SINTRAN III SYSTEM SUPERVISOR
## ACCOUNTING (ADVANCED)

The results from the previous examples could also have been achieved by first deleting all "dummy" projects and then creating your own examples:

### Deleting all background projects before creating new

| ACC: RESET-BACKGROUND-PROJECT-TABLE |
|--------------------------------------|
| All projects in the PROJNAM file are cleared. |

| ACC: CREATE-BACKGROUND-PROJECT                  |
|--------------------------------------------------|
| PROJECT PASSWORD / / : CONFIDENTIAL               |
| PROJECT NAME : MY-PROJECT                         |

---

## 9.3.2 Creating and deleting RT projects

The following example shows how projects for RT-programs are created.

### Creating RT project

| @LIST-RT-PROGRAMS,...                 | Find the names of your RT-programs. |
|---------------------------------------|--------------------------------------|

| @ACC-SERV-PROG                        |                                      |

| ACC: CREATE-RT-PROJECT                |                                      |
| RT-PROGRAM NAME: MYRT                 |                                      |
| PROJECT NAME: MY-PROJECT              | The associated project name.        |

| ACC: LIST-RT-PROJECTS                 |                                      |
| OUTPUT FILE / TERMINAL / :            |                                      |

| **RT-PROGRAM** | **PROJECT NAME**     |
|----------------|----------------------|
| MYRT           | MYPROJECT            |

| ACC: EXIT                            |                                      |
| @START-RT-ACCOUNT                    | Accounting of the RT-program has so far |
| RT PROGRAM: MYRT                      | only been defined, not started.         |

---

Norsk Data ND-30.003.7 EN

---

## Page 317

# SINTRAN III SYSTEM SUPERVISOR
## ACCOUNTING (ADVANCED)

A single RT-project may be deleted from the RTPROJ:DATA file by the command:

**DELETE-RT-PROJECT <RT-program name>**

All created RT-projects in the RTPROJ:DATA file can be cleared by a single command:

**RESET-RT-PROJECT-TABLE**

---

## 9.3.3 Dumping and inspecting ACCOUNTING information

Information in the ACCOUNTS:DATA file should be dumped at regular intervals to the AACCOUNTS:DATA file (Accumulated ACCOUNTS). The command to use is:

**DUMP-AND-ACCUMULATE <reset ACCOUNTING file?> [...] <do you want a log?> [...] <do you want accounts?> [...]**

The command produces a log and resets the ACCOUNTS file for new data (the latter optional). In addition, you may ask for a log and accounts to be printed.

<reset ACCOUNTING file?>

If "YES" is answered, the file is reset and optional parameters apply:

| (<number of records before warning>) | (<maximum number of records>) |

See the command INIT-ACCOUNTING for explanation.

<Do you want a log?>

If "YES" is answered, a log is printed using the optional parameters:

| (<output file for log>) | (<lines per page>) |

Where to print the log, and no. of lines between form feed (FF).

---

Norsk Data ND-30.003.7 EN

---

## Page 318

# Do you want accounts?

If "YES" is answered, a printout of existing accounts is made. The following parameters apply:

## Accounts by project name/user name/or both

The accounts can be sorted according to PROject name with one entry for every project name, or by USER area name with one entry for every user name, or BOTH alternatives can be printed. Legal answers are PROJ, USER or BOTH, respectively.

## Do you want a sub-totalling?

If "YES" is specified, sub-totals are given for every project used by each user area listed. If the output is sorted on projects, sub-totals are given for each user.

## Output file name for accounts (lines per page)

Where to print the accounts, and no. of lines per printed page.

### Example of DUMP-AND-ACCUMULATE

| --- | --- |
| ACC: DUMP-AND-ACCUMULATE | 
| RESET ACCOUNTING FILE: YES |
| DO YOU WANT A LOG: YES |
| OUTPUT FILE NAME FOR LOG / LINE-PRINTER / : LOG-PRINT |
| DO YOU WANT ACCOUNTS: YES | 
| ACCOUNTS BY PROJECT NAME OR USER NAME OR BOTH / BOTH / : USER |
| DO YOU WANT SUB-TOTALLING: YES |
| OUTPUT FILE NAME FOR ACCOUNTS / LINE-PRINTER / : ACC-PRINT |

---

## Page 319

# SINTRAN III SYSTEM SUPERVISOR
## ACCOUNTING (ADVANCED)

### Example of log printing produced by DUMP-AND-ACCUMULATE

**PED: 26 lines read (1986 bytes)**

**BACKGROUND AND ND-500 ACCOUNTING LOG FOR SINTRAN III**  
yy.mm.dd

#### ND-100

| USER NAME    | PROJECT NAME | TERM NO. | TERM TIME HH:MM:SS | CPU TIME MM:SS.S |
|--------------|--------------|----------|-------------------|------------------|
| SYSTEM       | MY-PROJECT   |          | 0:18:21           | 0:05.4           |
| FLOPPY-USER  | MY-PROJECT   | 36       | 0:11:48           | 0:03.5           |

**Total time logged on**  
**CPU time used (min. sec.)**  
**BTU**

#### ND-500

| TERM TIME HH:MM:SS | CPU TIME MM:SS | BLOCK I/O | LOG ON TIME   | LOG OFF TIME  |
|--------------------|----------------|-----------|---------------|---------------|
| 0:17:49            | 0:17.3         | 21        | 86.09.30 10.07| 86.09.30 10.25|
| 0:00:00            | 0:00.0         | 5         | 86.09.30 9.14 | 86.09.30 9.25 |

**No. of pages (blocks) accessed via file system**

### Example of accounting printing

**DUMP-AND-ACCUMULATE**

#### ACCOUNTS BY USER NAME

**ND-100**

| USER NAME   | PROJECT NAME | TERMINAL MINS | %     | CPU SECS | %     |
|-------------|--------------|---------------|-------|----------|-------|
| SYSTEM      | TOTAL        | 18            | 100.0 | 5        | 100.0 |
|             | MY-PROJECT   | 18            | 100.0 | 5        | 100.0 |

**ND-500**

| PAGES PRINTED NO. | % | BLOCK I/O NO. | % | TERMINAL MINS | % | CPU SECS | %     |
|-------------------|---|---------------|---|---------------|---|----------|-------|
| 0                 | 0 | 21            |100.0| 17          |100.0| 17     | 100.0 |
| 0                 | 0 | 21            |100.0| 17          |100.0| 17     | 100.0 |

**Spooling usage**

---

*Norsk Data ND-30.003.7 EN*

---

## Page 320

# NUMBER-OF-ACCOUNTS

Use the command

NUMBER-OF-ACCOUNTS

to see how many records there are in the ACCOUNTS file. After results have been dumped to the file AACCOUNTS:DATA, they can be inspected by:

PRINT-ACCUMULATED-ACCOUNTS (<do you want accounts by user name?>)  
(<do you want accounts by project name?>)  
(<output file name for accounts>) (<do you want sub-totalling?>)  
(<lines per page>)

See DUMP-AND-ACCUMULATE parameter <do you want accounts?> for more explanation.

# LOOK-ACCUMULATED

The command

LOOK-ACCUMULATED

makes it possible to inspect the accumulated account for a given user area and project name in the AACCOUNTS file.

## Example of using LOOK-ACCUMULATED

ACC: LOOK-ACCUMULATED

USER NAME: SYSTEM  
PROJECT NAME: MY-PROJECT

RECORD FOR USER: SYSTEM  
PROJECT: MY-PROJECT

| RESOURCE             | INTERMEDIATE VALUE | ACCUMULATED VALUE |
|----------------------|--------------------|-------------------|
| ND-100 TERMINAL TIME | 18 MINS            | 18 MINS           |
| ND-100 CPU TIME      | 5                  | 5                 |
| PAGES PRINTED        | 0                  | 0                 |
| BLOCK I/O TRANSFERS  | 21                 | 21                |
| ND-500 TERMINAL TIME | 17                 | 17                |
| ND-500 CPU TIME      | 17                 | 17                |

From ACCOUNTS file | From AACCOUNTS file

Norsk Data ND-30.003.7 EN

---

## Page 321

# SINTRAN III SYSTEM SUPERVISOR

ACCOUNTING (ADVANCED)  

## 9.3.4 Deleting ACCOUNTING information

The commands

**DELETE-ACCUMULATED-USER** `<user name>`

**DELETE-ACCUMULATED-PROJECT** `<project name>`

clear all information about a user area or a project from the ACCOUNTS file, respectively.

The command

**RESET-ACCOUNTING-FILE** `(<number of records before warning>) (<maximum number of records>)`

is used for clearing the ACCOUNTING file. The number of records in the ACCOUNTING file before a warning, and the maximum number of records in file before logging stops may be adjusted with the parameters. There is also another command to change these parameters:

**ADJUST-ACCOUNTING-FILE** `(<number of records before warning>) (<maximum number of records>)`

The current active values are default values.

Norsk Data ND-30.003.7 EN

---

## Page 322

# SINTRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 323

# SINTRAN III SYSTEM SUPERVISOR  
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

### CHAPTER 10  
#### PREVENTIVE MAINTENANCE AND TEST PROGRAMS

This chapter contains information about what kind of preventive maintenance the system supervisor should carry out, and gives a short presentation of relevant test programs.

There are test and verification programs to test the file system and hardware modules, e.g. CPU, memory and IO-controllers. More information about test programs is found in the manuals ND-100 Hardware Maintenance (ND-30.008), and ND-500 Hardware Maintenance (ND-30.014).

The following are the most important test programs for system verification:

- ND-100 test programs (ND-210523)
- ND-500/2 Test Micro-programs - TEMICS (ND-211041)
- ND-500/1 Test Micro-programs (ND-210321)
- DESMODUR verification system for all ND-500 CPUs (ND-210330)

---

### 10.1 Environmental requirements

This section gives a few hints about hardware considerations.

All ND-100 and ND-500 computers, except ND-100 Butterfly (PC), ND-100 Satellite and ND-100 Compact computers without external disk(s), must be placed in a data room.

| CLEANING DATA ROOM | The data room must be kept clean and free of dust. Observe the following guidelines: |
|--------------------|------------------------------------------------------------------------------------|
| • To ensure that the static charge is kept low, use a vacuum cleaner without a metal nozzle to clean the data floor. Do not sweep the floor. |
| • Dust with a damp cloth, not dry or wet. |
| • Keep doors and windows shut. |
| • Regularly clean under the data floor (at least once a year). |

---

Norsk Data ND-30.003.7 EN

---

## Page 324

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

**TEMPERATURE**

| Description             | Value          |
|-------------------------|----------------|
| The ideal temperature   | 22<sup>o</sup> C ± 2 <sup>o</sup> C |
| The minimum             | 16<sup>o</sup> C     |
| The maximum             | 32<sup>o</sup> C     |
| Temperature gradient    | Max. 3<sup>o</sup> C |

**AIR PRESSURE (DUST)**

To keep the room free of dust, the air pressure in the computer room should be kept higher than outside by use of an air-conditioning unit. If the air contains corrosive gases, salts, conductive particles or other harmful particles, the air-conditioning unit should be provided with a suitable filter.

**AIR HUMIDITY**

The relative humidity (RH) should be within the limits 40% - 60% RH non-condensating.

**CLEANING FLOPPY DRIVE**

If the drive only is used a few times per week, the floppy drive should be cleaned at least every third month.

To clean the read/write heads, you can run a similar mode file:

| Mode file to clean floppy drive                |
|------------------------------------------------|
| @MODE CLEAN-FLOPPY, containing the commands:   |
| @ENABLE-ESCAPE-FUNCTION;                       |
| @ENTER-DIRECTORY, FLOPPY-DISC-1,0 (or 1)       |
| @SET-BYTE-POINTER,101,0                        |

Run the mode files 30 seconds to 1 minute before pressing ESC. 3M delivers a cleaning set (DC 051111).

**CLEANING STREAMER DRIVE**

If it is used daily for backup, the Streamer drive should be cleaned weekly. Tandberg Data delivers a cleaning kit: No. 7566 "TDC Cleaning Kit".

**CLEANING OF MAGNETIC TAPE DRIVES AND AIR FILTERS**

See the related operator/maintenance manuals for how often to clean, and how to carry out the cleaning procedure for mag. tape and air filters. Cleaning of air filters is normally taken care of by ND. Check your service contract.

Air filters for air-conditioning units and disks should be changed regularly (2 - 4 times a year).

Norsk Data ND-30.003.7 EN

---

## Page 325

# SINTRAN III SYSTEM SUPERVISOR  
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

### 10.2 TPE Monitor and ND-100 test program overview (ADVANCED)

The ND-100 test-program floppy diskette contains a TPE (Test Program Environment) Monitor which offers a set of standard Monitor commands. In addition, each program has its own set of Program commands. The test programs are mainly for stand-alone use. The TPE Monitor and some test programs can also be run under SINTRAN (as a user program, or as an RT-program). The TPE Monitor has functions to support TELEFIX, e.g., a communication protocol for TELEFIX automatic mode. The TPE is loaded and started stand-alone as shown below:

#### Example of starting TPE for running stand-alone

| Software-stop the computer, and install floppy diskette. |

| **MACL** |  
| #15160# |  
| Do this from the console terminal. If the X-register on level 15D is set to any value but 0, you enter the FLOPPY-MONITOR, otherwise you enter the TPE Monitor. |

#### IF HERE TYPE ANY CHARACTER

| You can run TPE from another terminal than the console. You must first identify the terminal by pressing any key. The device number is then stored in T-register on level 15D. |

**TPE Monitor, ND-100 / ND-110 ...**

If you type HELP a full list of commands available is displayed.

```
TPE>LIST-FILES :TST
...
CONFIGURATION:TEST;1
```

| All available test programs are listed. |

```
TPE>LOAD CONFIG
```

| The test program is loaded and can be started by typing RUN. |

You can give HELP or ? as an answer to most command parameters to obtain explanations of the legal alternatives. A running test program, or a parameter collection in a command can be aborted by pressing ESC. OPCOM can be activated by typing CTRL+O.

Norsk Data ND-30.003.7 EN

---

## Page 326

# SINTRAN III SYSTEM SUPERVISOR  
PREVENTIVE MAINTENANCE AND TEST PROGRAMS

Commands and parameters are entered and abbreviated in the same way as for SINTRAN commands. A default value for a parameter is displayed by giving CR as response to the parameter prompt. It can then be edited, or used as the actual value by giving another CR.

Numbers can be given with a trailing radix specifier (B D H or X for binary).

The following is a brief overview of the MONITOR commands in the TPE Monitor, when running it stand-alone:

| Command                    | Description                                                                                                                                                                    |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **EXIT**                   | EXIT from the TPE Monitor. SINTRAN can be restarted from the operator panel.                                                                                                   |
| **OPCOM**                  | Enter OPCOM mode, to communicate with the ND-100 CPU. You return to the TPE Monitor by typing ESC. SINTRAN can be restarted from the console terminal when you are in OPCOM.   |
| **MONITOR-HELP**           | List TPE commands matching (\<command\>). Default is all commands.                                                                                                             |
| **PROGRAM-HELP**           | List program commands available in the current loaded test program, matching (\<command\>). Default is all.                                                                    |
| **EXPLAIN-COMMAND**        | Give a short explanation of the (\<command\>). Default is an overall explanation of the current loaded test program.                                                          |
| **PROGRAM-STATUS**         | Print some information about current active test program.                                                                                                                      |
| **SET-CONSOLE-DEVICE-NUMBER**  | Redefine the number of the terminal to interact with the TPE Monitor. Default value is the one currently used. The value can be given as the logical device number, or as the hardware device number. Note that OPCOM can only be used from terminal 1. |
| **SET-PRINTER-DEVICE-NUMBER**  | Redefine the output device (terminal or printer) to receive output from the TPE Monitor and test programs. The number can be given as logical or hardware device number. Default is your terminal.                 |
| **SET-TERMINAL-TYPE**      | Redefine the terminal type to allow for line-oriented line-editing facilities. If the selected terminal type corresponds to a VDU (screen terminal), a subset of the line-editing functions in VTM apply. If the terminal type is set to 2 (printer terminal), a subset of the line-editing facilities in SINTRAN apply. The initial value is 2. |
| **UPDAT and DATCL**        | Similar to the SINTRAN commands @UPDAT and @DATCL.                                                                                                                             |
| **TERMINAL-MODE**          | Make program output stop temporarily after each full screen page (22 lines). This prevents unintentional scrolling. This can also be avoided by using CTRL+S                                                       |

Norsk Data ND-30.003.7 EN

---

## Page 327

# SINTRAN III SYSTEM SUPERVISOR

## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

to stop the printout temporarily, and CTRL+Q to restart it (XON/XOFF is handled by TPE).

### DEFINE-MACRO `<name> <body>`

A macro is a user-defined command containing one or more TPE / program commands and parameters. A macro can also call other macros, including itself (which results in an endless loop). A command or macro must always be terminated by a semicolon (;). The content of a macro is not checked for validity before execution.

### MODE `<input file name> [<output device>]`

Make the command processor execute the commands and parameters residing in a file on the floppy diskette. The default file type is :SYMB. Output from command execution goes to the printer device currently defined or, if supplied, in accordance with the optional parameter.

The following table gives an overview of test programs available for testing of different parts. The right-hand column contains a YES if the program can be run under SINTRAN.

| test program   | used for testing/verifying of                                                | SINTRAN? |
|----------------|------------------------------------------------------------------------------|----------|
| CONFIGURATION  | All ND-100 modules.                                                          |          |
| POWER-FAIL     | Power-fail handling in ND-100 CPU and MPM-4.                                 | YES      |
| MAGTAPE        | Cipher & Pertec controller and tape drives.                                  | YES      |
| CACHE-100      | ND-100 cache memory (integral part of MMS).                                  |          |
| CACHE-110      | ND-110 cache memory (integral part of CPU).                                  |          |
| UNIVERS-DMA    | Universal DMA interface.                                                     | YES      |
| GRAPHIC-TERM   | Optional, graphic interface in TDV 2209/S.                                   | YES      |
| FLOPPY-STREA   | Floppy or floppy & streamer controller.                                      |          |
| LP-TEST        | All Line Printers.                                                           | YES      |
| COLOUR-TERM    | NCT and CTI colour terminals.                                                | YES      |
| TERM-ASY       | Terminals and other asynchronous devices.                                    | YES      |
| SYNC-MODEM     | Synchronous modem interface.                                                 | YES      |
| PAGING         | MMS (Memory Management System) for ND-100 and ND-110 CPUs.                   |          |
| HDLC-MEGALINK  | HDLC and Megalink communication interfaces.                                  | YES      |
| PRINTERS       | Various printers.                                                            | YES      |
| MEMORY         | All main memory accessible from ND-100 CPU (ND-100 local memory, MPM-3 ... MPM-5). |          |
| INSTRUCTION    | Instruction set of ND-100 and ND-110 CPUs                                    |          |
| DISC-TEMA      | Formatting, backup, recovery, verifying and changing of data on SMD disks.   |          |
| PIOC-ETHER     | PIOC and Ethernet communication controllers.                                 |          |

*Table 21. ND-100 test programs*

Norsk Data ND-30.003.7 EN

---

## Page 328

# 10.2.1 Example of running CONFIGURATION

CONFIGURATION should be one of the first test programs to be run when verifying that the hardware modules function properly.

```
TPE>LOAD CONFIG

  CONFIGURATION ... 

TPE>PRINT-MEMORY-MAP

  === MEMORY MAP ===
```

| bank no | 0     | 1     | 2     | 3     | 7     |
|---------|-------|-------|-------|-------|-------|
| 000B    | Local | Local | Local | Local | Local |
| 010B    | Pioc  | Pioc  | Pioc  | Pioc  |       |
|         |       |       |       |       |       |
|         |       |       |       |       |       |
| 100B    | MPM5  | MPM5  | MPM5  | MPM5  | MPM5  |
| 110B    | MPM5  | MPM5  | MPM5  | MPM5  | MPM5  |

Total memory size: 3.512 Mbyte

> A bank is 64K words. The computer has 1MB local ND-100 memory, 512 KB PIOC memory and 2MB MPM5 shared Multiport memory.

```
TPE>RUN

  HARDWARE CONFIGURATION
```

| Specification       | Details                           |
|---------------------|-----------------------------------|
| CPU type            | ND-100/CX upgraded for 16 PITS    |
| Floating format     | 32 bits                           |
| Memory Management   | MMS-2                             |
| Cache               | Yes                               |
| ALD register        | 21540B                            |

*Norsk Data ND-30.003.7 EN*

---

## Page 329

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

### Example continued

| HARDWARE DEVICE NAME | FIRST DEVNO | LAST DEVNO | LEV10 | LEV11 | LEV12 | LEV13 | LOG DEV NO |
|----------------------|-------------|------------|-------|-------|-------|-------|-----------|
| REAL TIME CLOCK      | 1           | 10         | 13    |       |       |       | 1         |
| ND-500 INTERFACE     | 1           | 60         | 77    |       |       |       | 16        |
| TERMINAL INTERFACE 1 | 300         | 307        |       |       |       |       |           |
| TERMINAL INTERFACE 5 | 340         | 347        | 44    | 44    | 44    | 44    |           |
| TERMINAL INTERFACE 6 | 350         | 357        | 45    | 45    | 45    | 45    |           |
| TERMINAL INTERFACE 7 | 360         | 367        | 46    | 46    | 46    | 46    |           |
| TERMINAL INTERFACE 8 | 370         | 377        | 47    | 47    | 47    | 47    |           |
| SMD 10MHZ DISC CNT   | 1           | 1540       | 1547  | 17    |       |       | 1100      |
| FLOPPY DISC PIO      | 1           | 1560       | 1567  | 21    |       |       | 1145      |
| PIOC                 | 1           | 140020     | 140023|       |       |       | 1700      |

### INTERRUPT PRIORITY SEQUENCE

| LEVEL (DEC.) | IDENT | HARDWARE DEVICE NAME    |
|--------------|-------|-------------------------|
| 13           | 1     | REAL TIME CLOCK         |
| 12           | 16    | ND-500 INTERFACE        |
| 12           | 44    | TERMINAL INTERFACE 5    |
| 12           | 45    | TERMINAL INTERFACE 6    |
| 12           | 46    | TERMINAL INTERFACE 7    |
| 12           | 47    | TERMINAL INTERFACE 8    |
| 11           | 17    | SMD 10 MHZ DISC CONTR.  |
| 11           | 21    | FLOPPY DISC PIO         |

Norsk Data ND-30.003.7 EN

---

## Page 330

# SINTRAN III SYSTEM SUPERVISOR  
PREVENTIVE MAINTENANCE AND TEST PROGRAMS

## 10.3 TEMICS for the ND-500/2 CPUs (ADVANCED)

TEMICS (TEst MIcro-programS) is designed for the second generation of the ND-500 CPUs. You find corresponding test programs for ND-500/1 on the floppy diskette ND-210321. TEMICS is run under the TPE Monitor, either stand-alone, or under SINTRAN as RT-programs. TEMICS can be used both as verification tests, and as test programs for hardware fault diagnostics. This section shows how to use it for verification.

---

### Precautions for running TEMICS

The description in this section is based on running TEMICS as RT-programs accessing files on a floppy diskette. User RT must have at least 20 unused pages, and the segment file (e.g., SEGFIL0) must have space for one 64K words segment.

- Log in as user RT and run the mode file INST-TPE-FLO:MODE which is on the TEMICS floppy (211041). It loads the RT-program TPEMON on a segment.
- Stop all user activity on the ND-500 CPU to test.
- Start TEMICS. It reserves the ND-500 CPU. Users trying to enter the ND-500 Monitor get the message "ND-500 RESERVED FOR SPECIAL USE".

If you get the error message "ERROR IN MEMORY CONFIGURATION", use the ND-500 Monitor command DEFINE-MEMORY-CONFIGURATION together with memory parameters reported when running TEMICS.

TEMICS consists of several main tests with subtests. Each subtest is identified by a unique number TNN, where T is main test number, and NN is subtest number.

Norsk Data ND-30.003.7 EN

---

## Page 331

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

The following main tests are available:

| T | Name  | Used for testing of                            |
|---|-------|------------------------------------------------|
| 0 | COMTE | ND-100 - ND-500/2 communication                |
| 1 | SLICE | ND-500/2 Slice and Sequencer                   |
| 2 | MEMIC | Multiport memory and Cache                     |
| 3 | PREEF | Prefetch processor                             |
| 4 | ARITH | External Arithmetic                            |
| 5 | GMOFF | Memory Management in Off mode                  |
| 6 | GMENT | Memory Management in On mode                   |
| 7 | TRAPT | ND-500/2 Trap system                           |
| 8 | EXTRA | Extra tests, mainly Prefetch processor         |
| 9 | ADDIT | Additional tests, mainly Multiport memory and Cache |

*Table 22. TEMICS main tests*

---

## Starting TEMICS

If you are going to run TEMICS from the console terminal, log in as user RT, and give the command `@RT TEMICS`. You have to logout before TEMICS starts.

If you wish to run it from another terminal, log in as user RT and run the start-up program `@TPE-RT-MON:PROG`.

In both cases the TPE Monitor is now ready to accept commands, and you can load TEMICS: `TPE>LOAD (211041:FLOPPY-USER)TEMICS`.

If are going to run test programs requiring cache or Multiport memory, you should now use the command `INVESTIGATE-AND-RESERVE`.

---

Norsk Data ND-30.003.7 EN

---

## Page 332

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

Example of status reported from INVESTIGATE-AND-RESERVE

**TPE) INVESTIGATE-AND-RESERVE**

### STATUS ON SYSTEM:

| Parameter                        | Value                            |
|----------------------------------|----------------------------------|
| System number                    | 6786                             |
| Local CPU type (acc. SINTRAN)    | ND-100 - 32 bits floating        |
| Instruction set                  | ND-100/CX                        |
| Operating system                 | SINTRAN III VSX/500 - K version  |
| Patch/revision level             | 10200R                           |
| Generation time                  | 15.5, 1986                       |
| Local memory size defined        | 1 Mb + 512 Kb (1400B Pages)      |
| Multiport memory size defined    | 1 Mb (1000B Pages)               |
| Data Cache size                  | 16 Kb (i.e. 1 cache module)      |
| Instruction Cache size           | 16 Kb (i.e. 1 cache module)      |
| CPU                              | ND-500/2                         |
| Product name                     | ND-570/CX                        |

- **RESERVE MEMORY** - Specify amount of memory to reserve for test

Reserve all, parts or no (All/Parts/No): ALL

**SINTRAN will now reserve as much as possible of the MPM.**

**-WAIT- This may take some time ...**

| Memory area reserved (pages) | 000016B - 000754B |
|------------------------------|-------------------|
| Total pages reserved         | 000737B           |

```
CHANGED - Instruction memory address area: 00000000000B
CHANGED - Data memory address area: 000000000008
```

**TEMICS** reports that it has changed the logical address area for the tests. The parameters affected by this command can from now on be inspected by the command LIST-PARAMETERS and changed by the command RESERVE-MEMORY.

---

**NOTE!** The command EXPLAIN-ABBREVIATION is useful to obtain the full name of abbreviated ND-500 terms used by TEMICS.

---

Norsk Data ND-30.003.7 EN

---

## Page 333

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

The tests are now ready to be run. The following example show how to run all verification tests.

### Example of running the verification tests

```
>HAREM-RUN

All tests or some (All or Some): All
Loopmode (Loop or Noloop): Noloop

All tests are to be run once.
```

- **START TEST:** Testing started at 1986.10.27 10:55:59

023. Verify DATA REGISTER on the ND-500 interface

0 24. Verify 24 bits MEMORY ADDRESS REGISTER (MAR)

| Test number | Subtest heading |
|-------------|-----------------|

A complete test can take several hours, depending on the amount of Multiport memory and ND-500/2 model. You can type ESC to stop the testing.

- **END TEST**
- **TIME USED**

There are also several other commands to start running of test(s):

- **RUN**  
  Run all subtests of a main test.

- **SUBTEST**  
  Run one subtest of a main test.

- **PREVIOUS-SUBTEST**  
  Run previous subtest in current main test.

- **NEXT-SUBTEST**  
  Run next subtest in current main test.

- **CURRENT-SUBTEST**  
  Repeat last subtest run.

- **REPEAT-SUBTEST**  
  Run a subtest a specified number of times.

---

Norsk Data ND-30.003.7 EN

---

## Page 334

# SINTRAN III SYSTEM SUPERVISOR  
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

---

### 10.4 The File System Investigator (ADVANCED)

This stand-alone program (on the floppy diskette "SINTRAN Utility Programs" ND-210628) can be used to check that the internal data structure of a directory is correct, i.e. that pointers to pages within the directory are correct, files do not conflict, and that the bit-file, the number of pages used, user entries and object entries are correct.

> **NOTE!** The program only reads from the disk. It diagnoses errors, but does not attempt to correct them.

The advised procedure before testing a directory with the Filesystem Investigator is:

- If SINTRAN is running, carry out a controlled stop of the system (see section 3.1).
- Run Filesystem Investigator.
- Take backup of the directory before making any attempt to correct errors (see chapter 7). This will at least make it possible to regenerate the inconsistent directory, if the correction of errors makes the directory even worse.
- Correct errors one by one, each time followed by a new run of Filesystem Investigator.

> **CAUTION!** Do NOT try to correct any error if you NOT have a good knowledge of the file system. Leave it to ND Service instead.  
>  
> Appendix F gives a reference overview of the file system.

---

### 10.4.1 Directory consistency check

It is advisable to use the Filesystem Investigator regularly to check directories. You should definitely use it before taking a stand-alone backup of a directory. The check takes only a few minutes on a 70 MB disk. To check that a directory is free from errors, three Filesystem Investigator commands are needed:

Norsk Data ND-30.003.7 EN

---

## Page 335

# SINTRAN III SYSTEM SUPERVISOR  
### PREVENTIVE MAINTENANCE AND TEST PROGRAMS

---

## Directory Consistency Check

```
#*1560&
*FILSYS-INV;BPUN
...
DEVICE NAME: DISC-70MB-1
UNIT: 0

>DUMP-DIRECTORY-ENTRY

>LIST-USERS

>PAGE-LIST
```

Load and start Filesystem Investigator.

The three commands needed to check the directory consistency.

---

If E is answered to the question output when using the command PAGE-LIST, only errors will be listed. The output will describe the type of errors and the page number where they are located. All numbers are in octal.

The output can be directed to a printer by using the command SET-PRINTER-DEVICE-NUMBER.

Table 23 shows the commands available in the Filesystem Investigator.

| Command               | Command                |
|-----------------------|------------------------|
| *DUMP-BIT-FILE        | *LIST-FILE-NAMES       |
| *DUMP-DIRECTORY-ENTRY | *LIST-PAGE-NUMBERS     |
| *DUMP-FILE            | *LIST-USERS            |
| *DUMP-OBJECT-ENTRY    | *PAGE-LIST             |
| *DUMP-PAGE            | REDEFINE-DISC-TYPE     |
| *DUMP-USER-ENTRY      |                        |

*Table 23. Commands in the Filesystem Investigator*

---

## 10.4.2 Correcting Errors

Always take a backup of the erroneous directory before doing any corrections to it. It is difficult to predict whether errors are serious or not. The backup must be an image copy, i.e. backup done with stand-alone programs such as DISC-TEMA, or a DEVICE-COPY in the Backup System.

If you are going to correct errors on the system disk, you have to use DISC-TEMA for changing disk contents. DISC-TEMA operates on physical addresses, so use the command TRANSLATE for conversion from page number to physical address. The command CHANGE is used for correction.

Norsk Data ND-30.003.7 EN

---

## Page 336

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

If SINTRAN is running, the following commands are related to correction of the directory:

| Dump commands        | Change commands      |
|----------------------|----------------------|
| @DUMP-DIRECTORY-ENTRY| @CHANGE-DIRECTORY-ENTRY|
| @DUMP-USER-ENTRY     | @CHANGE-USER-ENTRY   |
| @DUMP-OBJECT-ENTRY   | @CHANGE-OBJECT-ENTRY |
| @DUMP-PAGE           | @CHANGE-PAGE         |
| @DUMP-BIT-FILE       | @CHANGE-BIT-FILE     |

The commands use the same syntax as OPCOM (see chapter 2). To terminate a "CHANGE" command, and return to SINTRAN, type a period.

All addresses are relative to the start of an entry, page or file (the same address space as used in appendix F).

Users who have little experience with the file system can use the SINTRAN commands below (after having run Filesystem Investigator and taken backup) when they get one of the error messages: "BIT-FILE ERROR", "PAGES MARKED AS OCCUPIED BUT THEY ARE NOT USED BY ANYONE" or "ERROR IN PAGES USED". Do not use them with other errors.

Set the system unavailable, log out all users, and abort all batch jobs before using the commands:

### @TEST-DIRECTORY \<directory name\>

### @REGENERATE-DIRECTORY \<directory name\>

The command @TEST-DIRECTORY does more than just testing the directory. It also tries to correct errors by rebuilding the bit-file, as well as correcting some minor errors, for example in the open and current enter counts. It also reports major errors. Always execute @TEST-DIRECTORY before @REGENERATE-DIRECTORY.

The command @REGENERATE-DIRECTORY performs the same functions as for @TEST-DIRECTORY. In addition, it tries to correct conflicting page references, i.e. where two or more files have references to the same disk page, and the number of pages used. Do not use it if the command @TEST-DIRECTORY reported serious errors.

Norsk Data ND-30.003.7 EN

---

## Page 337

# SINTRAN III SYSTEM SUPERVISOR

## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

---

### CAUTION! 

The commands `@TEST-DIRECTORY` and `@REGENERATE-DIRECTORY` clear and rebuild the bit-file during execution.

Give the command `@DISABLE-ESCAPE`, immediately before giving one of these commands to ensure that the command is not aborted.

If a serious error is detected during the execution of `@TEST-DIRECTORY` or `@REGENERATE-DIRECTORY`, there is always a risk that the command is aborted, thus leaving the bit-file insufficiently rebuilt. In this case, the inconsistent directory must be recovered by the backup before making further attempts to correct it.

---

### NOTE! 

The commands can be rather time consuming, depending on directory size and number of errors detected (maximum 12 hours for 10MB disk, maximum 3 days for 288 MB disk).

---

Norsk Data ND-30.003.7 EN

---

## Page 338

# Example of Running Filesystem Investigator

Stop the system as described in chapter 3.

## File Information

- **#15606**  
- **\*LOAD-FILE FILSYS-INV**  
- **FILE SYSTEM INVESTIGATOR**

## System Info

- **SUT 2135P00**  
- **ISSUED AUG 21, 1986**

## Device Info

- **DEVICE NAME:** DISC-70MB-1  
  - DISC-70MB-1  
- **DEVICE UNIT:** 0

All program commands operate on this device name unless changed by REDEFINE-DISC-TYPE command.

- **TOTAL NO. OF PAGES IS 103715**  
- **THE COMMAND HELP GIVES YOU A LIST OF THE COMMANDS**

## Help

Only Filesystem Investigator commands are shown here:

## Program Commands

```
DUMP-BIT-FILE
DUMP-DIRECTORY-ENTRY
DUMP-FILE
DUMP-OBJECT-ENTRY
DUMP-PAGE
DUMP-USER-ENTRY
LIST-FILE-NAMES
LIST-USERS
LIST-PAGE-NUMBERS
PAGE-LIST
REDEFINE-DISC-TYPE
```

## Directory Entry Dump

- **>DUMP-DIRECTORY-ENTRY**

#### Directory Entry Dump:

| Octal/ASCII                                                 |
| ------------------------------------------------------------|
| 050101 041513 026517 047105 023400 000000 000000 000000     |

```
040000 044374  OBJECT FILE POINTER
040000 044376  USER FILE POINTER
000000 044050  BIT FILE POINTER
000000 063505  PAGES NOT RESERVED
```

--- 

Norsk Data ND-30.003.7 EN

---

## Page 339

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

### Example continued

>LIST-USERS  
LIST-USERS  
USER LIST:  

```
000 SYSTEM
ENTER COUNT IS NOT ZERO  

001 SCRATCH  
002 RT  
...
```

|  | A minor error is reported. |
|---|---|
|  | User indexes and user names are listed. |

PAGES RESERVED ON THIS DIRECTORY (ACC. FROM USER ENTRIES):  
```
024404
```

>PAGE-LIST  
PAGE-LIST  

THE WHOLE PAGE LIST (W), PART OF IT (P), OR ONLY ERROR MESSAGES (E): **E**  

FETCHING OF ALL PAGE NUMBERS IS STARTED  

WARNING: CURRENT OPEN COUNT IS NOT ZERO. THE FILE IS OPEN FOR READ. USER AND FILE NOS.: 000000 000025  

| User SYSTEM, file 25B. |

WARNING: CURRENT OPEN COUNT IS NOT ZERO. THE FILE IS OPEN FOR WRITE. USER AND FILE NOS.: 000001 000000  

| User SCRATCH, file 0. |

SORTING IS STARTED  

PAGE LIST AND BIT FILE CHECK  

CHECK FOR UNUSED, BUT OCCUPIED PAGES IS STARTED  

BIT FILE ERROR  
PAGES ARE MARKED AS OCCUPIED IN THE BIT FILE, BUT THEY ARE NOT USED BY ANYONE. PAGE NOS.:  

```
075303
```

>DUMP-OBJECT-ENTRY  
DUMP-OBJECT-ENTRY  

| Inspect the object entries of the files for which errors were reported. |

USR NO. (0-377): 1  
FILE NO. (0-07777): 0  

USER 001 OBJECT ENTRY 000 DUMP:  

```
150001   U/W/R/M TERM. NO OF RESERVING USER
051503 051101 052103 041060 030447 000000 000000 000000  
```

| File name in octal and ASCII. |

```
SCRATCH01
```

Norsk Data ND-30.003.7 EN

---

## Page 340

# SINTRAN III SYSTEM SUPERVISOR
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS

### Example continued

```
>DUMP-OBJECT-ENTRY  
DUMP-OBJECT-ENTRY  
USER NO. (0-3777): 0  
FILE NO. (0-07777): 25  

USER 000 OBJECT ENTRY 025 DUMP:  

110001                 U/W/R/M TERM. NO OF RESERVING USER  
044105 047124 026515 047504 042447 000000 000000 000000  
                    HENT-MODE  
051531 046502         TYPE (SYMB)  
000025 000025         POINTERS TO NEXT AND PREVIOUS VERSION  
002377                 ACCESS WORD  
000040                 OBJBL (BITS 017-014)/TEMP/L/M/A/C/I/S/P/T  
000000                 DEVICE NUMBER  
000000                 MAIN DIR INDEX / USER INDEX OF RESERVING USER  
000025                 OBJECT INDEX OF THIS ENTRY  
000001 000004         CURRENT AND TOTAL OPEN COUNT  
106561 001127         DATE CREATED (1985.5.24 16.09.23)  
110714 162713         LAST DATE OPENED FOR READ (1986.1.30 14.23.11)  
110714 162713         LAST DATE OPENED FOR WRITE (1986.1.30 14.23.11)  
000000 000001         PAGES IN FILE  
000000 003015         MAX. BYTE POINTER  
040000 044765         FILE POINTER  

> DUMP-USER-ENTRY  
DUMP-USER-ENTRY  

Inspect the user entries of the users for which errors were reported.

USER NO. (0-0377): 0  

USER 000 ENTRY DUMP:  

100401                 ENTER COUNT ETC.  
051531 051524 042515 023400 000000 000000 000000 000000 SYSTEM  
013117                 PASSWORD  
106561 001127         DATE CREATED (1985.5.24 16.09.23)  
110714 162601         LAST DATE ENTERED (1986.1.30 14.22.01)  
000000 023420         PAGES RESERVED  
000000 012625         PAGES USED  
000000                 USER INDEX  
000000                 MAIL AND BROADCAST FLAG  
003777                 USER DEFAULT FILE ACCESS  
000000                 PREVIOUS USER ENTRY  
000000                 NEXT USER ENTRY  
000042                 MXOBL (BITS 7-4) AND ACOBL (BITS 3-0)  
103401 117533 000000 000000 000000 ... 000000 FRIEND TABLE  
```

*Norsk Data ND-30.003.7 EN*

---

## Page 341

# SINTRAN III SYSTEM SUPERVISOR  
## PREVENTIVE MAINTENANCE AND TEST PROGRAMS  

The errors reported by Filesystem Investigator in the previous example showed that:

- The current open count for user SYSTEM was 1.

- The file HENT-MODE was opened for read from terminal 1.

- The file (SCRATCH)SCRATCH01:DATA was opened for write from terminal 1.

From this we can conclude that the supervisor has forgotten to log out before stopping the system from the console terminal. It is not necessary to take further action in this case. In general it is unnecessary to correct errors like open SCRATCH files, and files open for read only.

---

### 10.4.3 More hints about correcting errors

You find some hints about correcting serious errors in this section.

---

#### Errors in a directory entry

Such errors can be corrected by SINTRAN commands provided it is possible to enter the directory.

If the directory entry has been more or less destroyed, it can be restored if the user has a previous dump from the Filesystem Investigator. Use the DISC-TEMA command TRANSLATE to get the logical disk address for the directory entry (1 for most disks, 7 for HAWK disks), and then use the command CHANGE to restore the directory entry. The entry is located in word addresses 1760 to 1777 on page 0 (160 to 177 for HAWK disks).

The directory entry can also be restored by copying back 2 sectors (108 for HAWK disks) from a recent backup copy. Use logical address 0 and set the directory mode off (important!) by the TP command MODE or TPE command SET-PARAMETER. Then start COPY with amount 2 (10 for HAWK disk).

---

Norsk Data ND-30.003.7 EN

---

## Page 342

# Errors in the User Files

If a user name has disappeared and apparently also the files on that user area, the best thing to do is to create the user area again by giving the command @CREATE-USER. It is important that the user area gets the same number as before, i.e. the user index as found from @DUMP-USER-ENTRY, since this number also identifies the files belonging to that user area. When SINTRAN creates a user area, it allocates the user entry which has lowest index and at the same time is free. The files lost should now reappear.

If the user name and probably the whole user entry is destroyed, use the command @CHANGE-USER-ENTRY, and put a zero in the first word of the user entry. This will remove the user area, i.e. SINTRAN thinks that the user entry is unused. Then create the user area again. The command @LIST-USERS can be used to find the destroyed entries that are marked as used. Repeat this procedure if more user entries need correcting. Then give @REGENERATE-DIRECTORY.

# Bit-file Errors

If a directory has a page conflict, all the conflicting references to the page must be removed.

If an error message tells you that there are pages in the bit-file that are occupied, but not used by anyone, use @TEST-DIRECTORY. If the error in the bit-file results from a destroyed index block, remove the file by giving the command @CHANGE-OBJECT-ENTRY. This is done by putting 0 in word 0 of the object entry. This makes SINTRAN think that the object entry is unused. The command @TEST-DIRECTORY can be used afterwards. To be safe, run the Filesystem Investigator once more.

# More than One Version of a File or No Version Number 1

If an indexed, non-spooling file has a version-number other than 1, and new versions of this file have never been created, this must be an error. It can be corrected by changing the previous and next versions pointer in the object entry. They should be set to the same value as this version pointer (location 22B) in the object entry.

Norsk Data ND-30.003.7 EN

---

## Page 343

# SINTRAN III SYSTEM SUPERVISOR

## ERROR SUPERVISING

This chapter describes the detection of errors in the operating system and supplies brief information on how some of these errors can be corrected. All errors and irregularities that stop the computer or reduce its performance are regarded as serious.

Whenever a serious error condition occurs, it is the system supervisor's responsibility to take charge of the installation. You should proceed as follows:

- Identify the failure.
- Get necessary information to describe the error situation, and the "health" of the computer.
- Decide whether to correct the fault yourself or call ND Service for assistance.
- If ND Service decide that they want to use TELEFIX for investigating your system, see section 11.7

### 11.1 The main types of serious errors

The overall "health" of the computer can be investigated from the operator panel and the error device (see also chapter 2):

- SINTRAN has detected a non-fatal error when an error message is output on the error device, and it continues to run. See section 11.3 for an overview of the error messages.

- SINTRAN has entered a "hang-up" situation when the "RUN" indicator (or "RUNNING" field) is lit, and there is no response on any terminal.

  The error may be caused by a user-written or application RT-program running with very high priority.

  SINTRAN will not output any error message in this case. See section 11.5 for action to take.

- The computer is in stop mode, and thereby also SINTRAN, when the "OPCOM" indicator is lit and the "RUN" indicator is NOT.

Norsk Data ND-30.003.7 EN

---

## Page 344

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING

The reason may be that SINTRAN has discovered an internal error of such a serious nature that it cannot allow itself to continue. It calls the ERRFATAL routine which stops the computer.

You should normally consult ND Service before trying to restart the computer. ND Service may also want a dump of your system state before you do so. See section 11.4 about MEMTOF.

- The computer is probably powered off when there are no indicators lit on the operator panel.

If the error is caused by the computer being accidentally powered off, power the computer on and carry out a warm start.

If the cause of the error is unknown, there may be something wrong with other hardware or with the power supply. Call ND Service.

---

### 11.2 Error logging

System start-up messages and error messages from RT-programs are written on the error device. This may be the same as the console (terminal 1). Related commands are:  

`@GET-ERROR-DEVICE`

`@SET-ERROR-DEVICE <logical device number>`

Logical device numbers for logged in terminals are listed by the command `@WHO-IS-ON`.

All hardware errors may be logged and stored on a segment for later investigation. The command to use for initializing of this log is:  

`@INITIALIZE-ERROR-LOG`

The contents of the error log is printed by the command:  

`@PRINT-ERROR-LOG (<output file>)`

The default output file is your terminal. The commands are only available to user SYSTEM.

---

Norsk Data ND-30.003.7 EN

---

## Page 345

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

---

### 11.3 Overview of SINTRAN error messages

This section gives an overview of the error messages output by SINTRAN. They fall into two main categories: file system (related to files and peripheral devices) and run-time (from the SINTRAN MONITOR).

Serious error messages such as those relating to run time and file-system error messages related to RT-programs are output to the error device. If the RT-program is a background program, the error message is written to the corresponding terminal.

Application programs also usually output error messages to the error device. Such error messages are not described here.

Application programs may also execute SINTRAN commands and get the same error messages that the users get directly. The application program may then output this error message to the user's terminal (in some cases with an additional explanation about the context).

If the error message is related to an RT-program, this will in most cases be aborted. You check the execution state of an RT-program by giving the command:

@LIST-RT-DESCRIPTION (<RT-program name/RT-description address>)

File-system and run-time error messages are listed in this section. Additional explanations are provided here for errors that are not intended to be self-explanatory, which are often the commonest messages to appear.

---

### 11.3.1 Format of error messages related to RT-programs

An error message concerning an RT-program has the following format and interpretation:

`<hh.mm.ss.> ERROR <no> IN <RTprog> AT <address>: <errmsg> [<ixx>, <iyy>]`

| Symbol     | Description                                                                         |
|------------|-------------------------------------------------------------------------------------|
| `<hh.mm.ss.>` | The time, i.e. hours, minutes, seconds, when the error message was printed.         |
| `<no>`        | Error code number.                                                                  |
| `<RTprog>`    | The RT-program name or address to the RT-description in octal.                      |

Norsk Data ND-30.003.7 EN

---

## Page 346

# SINTRAN III SYSTEM SUPERVISOR ERROR SUPERVISING

`<address>` Program address in octal where the error occurred.

`<errmsg>` A short error message.

`<xx>,<yy>` Optional numbers carrying additional information about the error.

## 11.3.2 Format of the tables describing the error messages

The following notation is used to keep the columns in the tables short:

### TYPE:

| USE | The error is related to wrong use of a command or Monitor call (called by the user's program or an RT program). It may be caused by any of the following: |
| --- | ----------------------------------------------------------------------------------------------------------------------------- |
|     | - typing an illegal character                                                                                                 |
|     | - specifying a parameter outside the legal range                                                                              |
|     | - trying to carry out a task not allowed at the moment.                                                                       |
|     | You should call ND Service if the error is caused by a system-included RT-program (see table 3).                              |

| EVENT | An erroneous event has occurred, or SINTRAN has found inconsistencies in internal data structures. |
| ---   | -------------------------------------------------------------------------------------------------- |

| SERIOUS | Serious error. You should normally call ND Service when such errors occur. You should also do so for any less serious events that occur many times in succession. |
| ---     | ------------------------------------------------------------------------------------------------------------------------------------------- |

### WHERE:

The part of the system the error is related to.

- RT - RT-program
- HW - hardware inside the computer
- DEVICE - Peripheral device
- DRIVER - software driver running on a dedicated interrupt level

### COMM:

If the column is not empty, more information is given in COMMENTS `<number>` following the error-message table.

Norsk Data ND-30.003.7 EN

---

## Page 347

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

### 11.3.3 SINTRAN run-time error messages

| ERROR CODE | ERROR MESSAGE                                                      | TYPE             | WHERE   | COMM |
|------------|--------------------------------------------------------------------|------------------|---------|------|
| 00         | Illegal monitor call                                               | USE              |         |      |
| 01         | Bad RT-program address                                             | USE              | RT      |      |
| 02         | Wrong priority in PRIOR                                            | USE              | RT      |      |
| 03         | Bad memory page (xx=page no)                                       | SERIOUS EVENT    | HW      | 1    |
| 04         | Internal interrupt on direct task level (xx=level, yy=bit no.)     | SERIOUS EVENT    | DRIVER  |      |
| 06         | Batch input error (xx=file system error)                           | USE              |         |      |
| 07         | Batch output error (xx=file system error)                          | USE              |         |      |
| 08         | Batch system error (xx=file system error, yy=L-register)           | SERIOUS EVENT    |         |      |
| 09         | Illegal parameter in CLOCK                                         | USE              |         |      |
| 10         | Illegal parameter in ABSET                                         | USE              |         |      |
| 11         | Illegal parameter in UPDAT                                         | USE              |         |      |
| 12         | Illegal time parameters                                            | USE              |         |      |
| 13         | Page fault for non-demand                                          | EVENT            | RT      | 2    |
| 14         | Outside segment bounds                                             | EVENT            | RT      | 3    |
| 15         | Illegal segment number (xx=segment no.)                            | USE              | RT      |      |
| 16         | Segment not loaded (xx=segment no.)                                | USE              | RT      |      |
| 17         | Fixing demand (xx=segment no.)                                     | USE              | RT      | 4    |
| 18         | Too many fixed pages (xx=segment no.)                              | USE              | RT      | 5    |
| 19         | Too big segment (xx=segment no.)                                   | USE              | RT      | 6    |
| 20 21      | Disk transfer error (xx=16 LSB of disk address. Large disks use more bits!) | SERIOUS EVENT    | HW/DEVICE | 7    |

Norsk Data ND-30.003.7 EN

---

## Page 348

# SINTRAN III SYSTEM SUPERVISOR ERROR SUPERVISING

| No. | Description                                                        | Type           | Source/Device |
|-----|--------------------------------------------------------------------|----------------|---------------|
| 22  | False interrupt (xx=interrupt level)                              | EVENT          | HW            |
| 23  | Device error (xx=hardware device no., yy=hardware status)         | SERIOUS EVENT  | HW/DEVICE     |
| 25  | Already fixed                                                     | USE            | RT            |
| 26  | Device timeout                                                    | EVENT          | HW/DEVICE     |
| 27  | Illegal parameter in CONCT                                        | USE            | RT            |
| 28  | Space not available (xx=segment number)                           | USE            | RT 8          |
| 29  | MON 64 and MON 65 (xx=file system error)                          | USE            |               |
| 30  | Divide by zero                                                    | USE            |               |
| 31  | Permit violation                                                  | USE            | RT            |
| 32  | Ring violation                                                    | USE            | RT            |
| 33  | HDLC driver, fatal error                                          | SERIOUS EVENT  | DRIVER        |
| 34  | Illegal instruction                                               | USE            |               |
| 35  | Reentrant-FTN stack error                                         | USE            |               |
| 36  | Privileged instruction                                            | USE            |               |
| 37  | IOX error (xx=hardware device no., yy=hardware status)            | EVENT          | RT/HW         |
| 38  | Memory parity error (xx = PEA register, yy=PES register)          | SERIOUS EVENT  | HW 12         |
| 39  | Memory out of range (xx = PEA register, yy=PES register)          | EVENT          | RT 12         |
| 40  | Power fail                                                        | EVENT          | HW 9          |
| 41  | Illegal error code in ERMON                                       | USE            |               |
| 42  | Overlapping segments (xx=segment numbers)                         | USE            | RT            |
| 44  | Corrected memory error (xx=PEA, yy=PES)                           | EVENT          | HW            |
| 45  | Not demand segments                                               | USE            | RT            |
| 46  | XMSG fatal error, internal error or inconsistency (xx=error, yy=address) | SERIOUS EVENT | DRIVER        |
| 47  | XMSG user error (xx=user int. level)                              | USE            |               |

Norsk Data ND-30.003.7 EN

---

## Page 349

# SINTRAN III System Supervisor
## Error Supervising

|   | Error Description | Severity | Type |
|---|-------------------|----------|------|
| 48 | False BEX interrupt | EVENT | HW |
| 49 | Remote power fail interrupt | EVENT | HW |
| 50-69 | User defined error (MON 142) (xx=error) | USE | |
| 70 | BEX parity error (xx=BUSC no.) | EVENT | HW |
| 71 | False MPM4 interrupt (xx=BUSC no.) | EVENT | HW |
| 72 | MPM4 power fail interrupt (xx=BUSC no.) | EVENT | HW |
| 73 | MPM4 memory out of range (xx=BUSC no., yy=LL-register) | EVENT | RT |
| 74 | MPM4 memory error (xx=PEA, yy=PES) | EVENT | HW |
| 75 | MPM4 parity error (xx=BUSC, yy=LL-reg.) | EVENT | HW |
| 76 | MPM4 write parity error (xx=BUSC no.) | EVENT | HW |
| 90 | FORTRAN run-time error (xx=error no.) | USE | |
| 91 | FORTRAN I/O error | EVENT | HW |
| 92 | Fatal error in GPIB driver. Controller stopped. | SERIOUS EVENT | HW/DRIVER |
| 93 | GPIB error | EVENT | HW |
| 94 | Illegal page index block | EVENT | |
| 95 | Illegal function code | USE | |
| 96 | Segment is fixed in page index table | SERIOUS EVENT | |
| 97 | Trying to start uninitialized background program | USE | 10 |
| 98 | No background process available | USE | 11 |
| 99 | Octobus error | EVENT | HW |
| 100 | FTN library error | USE | |

_Table 24. SINTRAN run-time error messages_

Norsk Data ND-30.003.7 EN

---

## Page 350

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

### COMMENTS 1: BAD MEMORY PAGE

SINTRAN has found a page in physical memory that cannot be used at all. A bad page will not prevent the system from functioning, but you should contact ND Service to have the memory card replaced.

### COMMENTS 2: PAGE FAULT FOR NON-DEMAND

A non-demand RT-program has tried to access a page outside its segment bounds. Non-demand means the RT-program's segments are in physical memory all the time the program is running. The program needs correction and reloading by the RT-Loader.

### COMMENTS 3: OUTSIDE SEGMENT BOUNDS

An RT-program has tried to use an address outside the legal range. The legal range is determined by the RT-Loader when loading the program. The program should be corrected and reloaded by the RT-Loader.

### COMMENTS 4: FIXING DEMAND

An RT-program (or user, by giving the commands @FIX or FIXC) tries to fix a demand segment in physical memory. Only non-demand segments may be fixed in memory. Fix means that the segment is "locked" in memory without allowing for swapping. This is mainly used by system-included RT-programs, and special RT-programs needing to communicate with DMA devices (e.g. the DMA server in the Backup System). This error may be caused by forgetting to define the segment as non-demand when loading it. If so, reload the RT-program with the RT-Loader. Use the command *NEW-SEGMENT (<segment name>) (<ring>) (<demand/non demand>) .. with parameter 3 equal to "ND".

Norsk Data ND-30.003.7 EN

---

## Page 351

# SINTRAN III SYSTEM SUPERVISOR

## ERROR SUPERVISING

### COMMENTS 5: TOO MANY FIXED PAGES  
**LAMU ERROR MESSAGES**

There are not sufficient free pages in physical memory to fix the segment/LAMU. This may be caused by a programming error, by running the system with too little memory, or by trying to run too many non-demanding RT-programs/LAMUs at the same time. LAMUs must be generated using the S3-Configuration program if application programs shall be able to use them (see section 3.5).

---

### COMMENTS 6: TOO BIG SEGMENT  

The segment to be fixed exceeds the available swapping area of the computer.

---

### COMMENTS 7: DISK TRANSFER ERROR  

There are several reasons for this error message. There may be a bad spot on the disk, the disk may have been unintentionally write-protected or there may be an error in the disk controller. Run DISC-TEMA to test the disk (see chapter 10).

---

### COMMENTS 8: SPACE NOT AVAILABLE  

The segment file has not sufficient free space for the segment. See section 3.3.3

---

### COMMENTS 9: POWER FAIL  

The message is output when SINTRAN automatically restarts after a power failure. The power failure occurs when the mains disappears and SINTRAN is still running. The computer will only restart if it still has battery backup (standby power lasts for 12-18 minutes) at the moment the mains returns. There may also be something wrong with the power supply, which must be corrected by ND Service. See also chapter 2.

---

Norsk Data ND-30.003.7 EN

---

## Page 352

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING

### COMMENTS 10: TRYING TO START UNINITIALISED BACKGROUND PROGRAM

The error message is relevant for systems using BAS (Background Allocation System). It appears when an attempt is made to start a background program that has not reserved a terminal (e.g. misuse of the command @RT). See also section 11.6.

### COMMENTS 11: NO BACKGROUND PROCESS AVAILABLE

This error may occur when running the Background Allocation System and trying to log in when there are no more free background programs. More terminals can be generated by running the S3-Configuration program (VSX only). Refer also to section 6.4.3.

### COMMENTS 12: MEMORY PARITY ERROR  
### MEMORY OUT OF RANGE

_Memory out of range_ means that a program has tried to access nonexistent physical memory.

_Memory parity error_ means that one or more bits contain wrong values during a memory access.

The physical address of the failing memory access is found in the 16 PEA and PES registers, located inside the ND-100 CPU.

| PES | PEA |
|-----|-----|
| **bit no. (dec.)**  | **15 14 13 12 8 7** | **0** | **15** | **0** |
| Fe Dm Fa | ECC | 8 MSB bits | 16 LSB bits |

ECC  
Error Correction and Control code. This identifies the failing bit number in case of single bit errors. It is of interest to ND Service.

- **Fe - Fetch**  
  The error occurred during an instruction fetch.

- **Dm - DMA**  
  The error occurred during a DMA access by a controller.

- **Fa - Fatal**  
  The error is non-correctable (must be corrected for each access into this location).

Norsk Data ND-30.003.7 EN

---

## Page 353

# SINTRAN III SYSTEM SUPERVISOR

## ERROR SUPERVISING

### 11.3.4 Some SINTRAN file system error messages

> **NOTE!** File system messages that are considered to be self-explanatory or not likely to occur are omitted.

| ERROR CODE | ERROR MESSAGE                           | TYPE     | COMM |
|------------|-----------------------------------------|----------|------|
| 05         | Device not reserved                     | USE      | 1    |
| 18         | No such page                            | EVENT    | 2    |
| 21         | You are not authorized to do this       | USE      | 3    |
| 26         | Directory entered                       | USE      | 4    |
| 28         | Unit occupied                           | USE      | 5    |
| 29         | Master block transfer error             | SERIOUS  | 6    |
| 30         | Bit-file transfer error                 | EVENT    |      |
| 33         | Files open on this directory            | USE      | 7    |
| 40         | Attempt to create too many users        | USE      | 8    |
| 42         | User has files                          | USE      | 9    |
| 43         | User is entered                         |          |      |
| 55         | Contiguous space not available          | USE      | 10   |
| 56         | Not directory access                    | USE      | 11   |
| 61         | No more pages available for this user   | USE      | 12   |
| 63         | Attempt to create too many files        | USE      | 13   |
| 64         | Outside device limits                   | SERIOUS  | 6    |
| 77         | File reserved by another user           | USE      | 11   |
| 78         | File already opened for write by you    |          |      |
| 95         | No scratch file open                    | EVENT    | 14   |
| 103        | Device unit reserved for special use    | USE      | 15   |
| 110        | File already opened for write by another user | USE | 11   |
| 112        | Two pages must be left unreserved       | USE      | 16   |

Norsk Data ND-30.003.7 EN

---

## Page 354

# SINTRAN III System Supervisor  
## Error Supervising

| Code | Description                                                                 | Type           | Page |
|------|-----------------------------------------------------------------------------|----------------|------|
| 116  | DMA error                                                                   | SERIOUS EVENT  | 6    |
| 121  | Device error (device-function read-last-status to get status)               | EVENT          | 17   |
| 125  | Write-protect violation                                                     | EVENT          | 18   |
| 132  | Device not ready                                                            | EVENT          | 17   |
| 137  | No spooling for this device                                                 | USE            | 19   |
| 141  | Not last used by you                                                        | USE            | 20   |
| 147  | Formatting error                                                            | SERIOUS EVENT  | 6    |
| 148  | Incompatible device sizes                                                   | USE            | 21   |
| 155  | Error in object entry                                                       | SERIOUS EVENT  | 6    |
| 165  | No more unused spooling files available                                     | USE            | 22   |
| 166  | Inconsistent directory                                                      | SERIOUS EVENT  | 6    |
| 172  | Illegal floppy format                                                       | USE            | 23   |
| 176  | File-access reentrant segments not loaded                                   | USE            | 24   |
| 178  | File-access connection aborted by file server                               | EVENT          | 25   |
| 179  | File-access connection aborted by FSA                                       | EVENT          | 25   |
| 180  | No answer from remote system; file-access connection aborted                | EVENT          | 25   |
| 181  | File-access initialization failed                                           | SERIOUS EVENT  | 26   |
| 183  | File-access protocol error; connection aborted                              | SERIOUS EVENT  | 26   |
| 184  | File-access internal error; call not valid ...                              | SERIOUS EVENT  | 26   |
| 185  | Error messages related to the use of LAMUs (These are run-time error messages.) | USE            | 5    |
| 199  | Warning; 2-bank prog. file, but segment is only 1-bank                       | USE            | 27   |
| 200  | Warning; no such page in data bank, program starts as 1-bank                 | USE            | 27   |
| 213  | Wrong format in file                                                        | USE            | 30   |
| 219  | Remote file server is not available                                         | EVENT          | 25   |

Norsk Data ND-30.003.7 EN

---

## Page 355

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING  

|   | Description                          | Type    | Code |
|---|--------------------------------------|---------|------|
| 220 | ND-100 panel clock incorrect        | EVENT   | 28   |
| 226 | Protected command                   | USE     | 3    |
| 228 | No more spooling pages left         | EVENT   | 29   |
| 247 | No more physical memory available   | SERIOUS | 5    |
|     | (This is a run-time error message.) | EVENT   |      |

### COMMENTS 1: DEVICE NOT RESERVED  

Trying to write to a device that has to be reserved before use. The device may be a terminal belonging to another user, floppy drive, line printer or an internal device. The error will usually only appear when running application programs.  

### COMMENTS 2: NO SUCH PAGE  

A program tries, during file access, to access a disk page outside the file. The message may also be caused by a "hole" in an indexed file. Program files have normally "holes".  

### COMMENTS 3: YOU ARE NOT AUTHORIZED TO DO THIS PROTECTED COMMAND  

The command (task) is restricted to user SYSTEM (and RT). Your current user area is of category PUBLIC. The command @HELP gives information about commands that are restricted. See also chapter 1.  

### COMMENTS 4: DIRECTORY ENTERED  

Some tasks performed on a directory require that the directory is released, e.g. @ENTER-DIRECTORY, @RENAME-DIRECTORY and @COPY-DEVICE. It is not possible to have more than one entered directory with the same name, for example. A device backup must be renamed before entering it.  

Norsk Data ND-30.003.7 EN

---

## Page 356

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

### COMMENTS 5: UNIT OCCUPIED

Trying to do `@ENTER-DIRECTORY` on a device unit (e.g. a directory) that already is in use. Use the command `@LIST-DIRECTORIES-ENTERED`.

### COMMENTS 6: MASTER BLOCK TRANSFER ERROR

|  |  
|---|  
| MASTER BLOCK TRANSFER ERROR |  
| BIT-FILE TRANSFER ERROR |  
| OUTSIDE DEVICE LIMITS |  
| DMA ERROR (hardware) |  
| FORMATTING ERROR (hardware) |  
| ERROR IN DIRECTORY ENTRY |  
| INCONSISTENT DIRECTORY |  

There is a serious error in the directory entry (or hardware). You may use the Filesystem Investigator (section 10.4) if you are an experienced supervisor. You should call ND Service for help if the error occurs on media containing valuable data that may not easily be restored by a recent backup, or which you are not able to take backup of now.

### COMMENTS 7: FILES OPEN ON THIS DIRECTORY

All files on a directory have to be closed before releasing or reserving it. Use the command `@LIST-RTOPEN-FILES` and `@LIST-OPEN-FILES` (repeated for all users logged in).

### COMMENTS 8: ATTEMPT TO CREATE TO MANY USERS

The number of users is limited to 256 per main directory. A new main directory is needed in order to have more users.

Norsk Data ND-30.003.7 EN

---

## Page 357

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

### COMMENTS 9: USER HAS FILES USER IS ENTERED

A user area which has files, or which is currently being accessed, cannot be deleted. All files in a user area may be deleted by giving the command `@DELETE-USERS-FILES (<manually check?>)`. Use the command with care!

### COMMENTS 10: CONTIGUOUS SPACE NOT AVAILABLE

There is not sufficient free contiguous space on the directory to expand or create a contiguous file. It may help to reorganize the directory. See chapter 6.

### COMMENTS 11: NOT DIRECTORY ACCESS

- FILE RESERVED BY ANOTHER USER
- FILE ALREADY OPENED FOR WRITE BY YOU

Trying to access (or rename/delete) a file where the file access codes or current use do not allow for your request. See table 10 for how file access codes are used. If another person is making use of the file, you can use `@WHERE-IS-FILE` to find out who it is.

### COMMENTS 12: NO MORE PAGES AVAILABLE FOR THIS USER

No more free pages for a user area to keep new or extended files. If there are sufficient free pages in the directory, use the command `@GIVE-USER-SPACE (<number of pages>)`.

### COMMENTS 13: ATTEMPT TO CREATE TOO MANY FILES

You find how many files a user area is allowed to create by giving the command `@USER-STATISTICS (<user name>)`. As long as there are less than 4096, the maximum number of files allowed for the user area may be increased by the command `GIVE-OBJECT-BLOCKS`.

---

Norsk Data ND-30.003.7 EN

---

## Page 358

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING  

### COMMENTS 14: NO SCRATCH FILE OPEN  

An error has occurred during logging in, or the scratch file for a user has accidentally been closed. This may be cured by logging out again. If there is still no scratch file open, there is probably an inconsistency in the particular scratch file belonging to the background program (e.g. open count is not zero). See also sections 4.3.3 and 10.4.

---

### COMMENTS 15: DEVICE UNIT RESERVED FOR SPECIAL USE  

Somebody has used the command `@RESERVE-DIRECTORY`. Use the command `RELEASE-DIRECTORY`.

---

### COMMENTS 16: TWO PAGES MUST BE LEFT UNRESERVED  

Two pages in the directory must be left unreserved for exclusive use by the file system.

---

### COMMENTS 17: DEVICE ERROR  
### DEVICE NOT READY  

Problems when using a peripheral device, e.g. floppy drive. The reason may be that the door is not properly locked, the floppy diskette may have been inserted in the wrong direction (8 possibilities of which only one is right!). The floppy diskette may be write-protected or not formatted. You can use the command `@DEVICE-FUNCTION <peripheral file name> READ-LAST-STATUS` to get the hardware status from the controller. This requires, however, that you are able to decode the octal output:

---

Norsk Data ND-30.003.7 EN

---

## Page 359

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

| FLOPPY DISK CONTROLLER STATUS REGISTER | MAGTAPE CONTROLLER STATUS REGISTER |
|-----------------------------------------|-----------------------------------|
| Some error codes related to wrong use:  | Bit no. (dec.)  | Meaning when bit=1 |
| 00xxxB OK!                              | 4               | Error detected     |
| 010xxxB Format not found                | 6               | Bad data block    |
| 011xxxB Impossible to format            | 7               | Tape mark detected|
| 013xxxB Illegal format                  | 9               | EOT - End Of Tape |
| 014xxxB Single-Sided floppy             |                                   |
| 015xxxB Double-Sided floppy             |                                   |
| 016xxxB Write protected floppy          |                                   |
| x = any octal digit                     |                                   |

*Table 25. Some error codes from floppy and magtape controller*

## COMMENTS 18: WRITE-PROTECT VIOLATION

The disk has been write-protected. This must not be done, even when entering the directory. See chapter 2 for how to write-enable the disk. A modification patch to enable the disk for read only is available on request.

## COMMENTS 19: NO SPOOLING FOR THIS DEVICE

No spooling has been prepared for this printer (peripheral device). Refer to chapter 6.

## COMMENTS 20: NOT LAST USED BY YOU

In order to remove something from (or manipulate) the spooling queue, you have to be logged in as the same user who sent the file/document for printing.

---

Norsk Data ND-30.003.7 EN

---

## Page 360

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

### COMMENTS 21: INCOMPATIBLE DEVICE SIZES

When giving the command **@COPY-DEVICE**, the source and the destination device must be of equal size (same number of pages).

### COMMENTS 22: NO MORE UNUSED SPOOLING FILES AVAILABLE

There are too many files/documents waiting to be printed (the printer may have stopped), or too few spooling files have been created. If you want more spooling files, see chapter 6.

### COMMENTS 23: ILLEGAL FLOPPY FORMAT

Only floppy formats 0B (SS/SD) and 17B (DS/DD) is to be used together with SINTRAN.

### COMMENTS 24: FILE-ACCESS REENTRANT SEGMENTS NOT LOADED

Trying to access files on a remote system when the COSMOS FAU (File-Access User) segment(s) have not been installed. This should be done in every cold start. See chapter 5.

### COMMENTS 25: FILE-ACCESS CONNECTION ABORTED BY FILE SERVER

- FILE-ACCESS CONNECTION ABORTED BY FSA
- NO ANSWER FROM REMOTE SYSTEM
- REMOTE FILE SERVER IS NOT AVAILABLE

The file server on a remote system is not able to carry out the requested service. Contact the supervisor on the remote system.

Norsk Data ND-30.003.7 EN

---

## Page 361

# SINTRAN III SYSTEM SUPERVISOR
## ERROR SUPERVISING

| COMMENTS 26: FILE-ACCESS INITIALIZATION FAILED |
|-------------------------------------------------|
| FILE-ACCESS PROTOCOL ERROR; CONNECTION ABORTED  |
| FILE-ACCESS INTERNAL ERROR; CALL NOT VALID ..   |

Error when trying to access a remote file. The user who gets the error message should log out and in again. If that does not help, reload the COSMOS FAU segments (as for cold start) before contacting ND Service.

| COMMENTS 27: WARNING!                           |
|-------------------------------------------------|
| 2-BANK PROG. FILE, BUT SEGMENT IS ONLY 1-BANK   |
| NO SUCH PAGE IN DATA BANK, PROGRAM STARTS AS 1-BANK |

This message can be ignored as it is just a warning. SINTRAN has found an old format in a :PROG file when trying to start the ND-100 program. The old format for 1-bank programs was changed when 2-bank programs were introduced. Reload of the program will remove format inconsistency.

| COMMENTS 28: ND-100 PANEL CLOCK INCORRECT       |

This message may occur during warm start. You update the clock by the command @UPDAT or @CLADJ.

| COMMENTS 29: NO MORE SPOOLING PAGES LEFT        |

There are too many documents waiting for printing (printer stopped?), or you may be trying to print a document that is too large for the spooling. Related commands are @LIST-SPOOLING-QUEUE, @GIVE-SPOOLING-PAGES, and @SPOOLING-PAGES-LEFT. User SYSTEM must at least have as many free pages as the number of spooling pages.

| COMMENTS 30: WRONG FORMAT IN FILE               |

Wrong format in :PROG file when trying to start an ND-100 program. The message may easily be caused by a typing error (e.g. typing @MY-MODE-JOB:MODE instead of @MODE MY-MODE-JOB:MODE).

Norsk Data ND-30.003.7 EN

---

## Page 362

# 11.4 Using MEMTOF (ADVANCED)

MEMTOF is a stand-alone program for dumping the contents of physical memory to floppy diskettes. The dump is used to identify the cause of an error.

**NOTE!** The state of the system must be dumped **before** doing any restart.

The following are of interest to ND Service in addition to the memory dump:

- Indicators on the operator and display panel (e.g. the active interrupt levels, interrupt and paging status).

- Which ND application programs were run. Note also the version letter of the product.

- Which non-standard programs were run, e.g., RT-programs.

- The hardware configuration and system number of the computer.

Make also a paper printout of ND-100 CPU registers (and physical memory) using OPCOM before starting MEMTOF:

- Make the computer enter stop mode (if it has not already done so):

  `#STOP↵` (Do NOT use MACL yet!)

- Dump the register block:

  `#0<17RD↵`

- Dump the internal registers:

  `#IRD↵`

- Dump some of the physical memory (**only** necessary if ND Service asks for it):

  | Description                        | Command                  |
  |------------------------------------|--------------------------|
  | for SINTRAN VSE (system variables) | `#0\1000↵`               |
  | for SINTRAN VSX                    | `#60000<60500↵`          |

- Press the `MCL` button on the operator panel.

Norsk Data ND-30.003.7 EN

---

## Page 363

# SINTRAN III SYSTEM SUPERVISOR  
ERROR SUPERVISING

---

## MEMTOF for SINTRAN VSX

MEMTOF is installed together with SINTRAN. To start it, just type:

#151! (start running from location 15B)

You are asked to install **formatted** floppy diskettes (one after another) in floppy drive 1, unit 0.

---

## MEMTOF for SINTRAN VSE

- Install the MEMTOF floppy diskette in floppy drive 1, unit 0.

- Load MEMTOF by typing:

#1560&

You are asked to install **formatted** floppy diskettes (one after another) in floppy drive 1, unit 0.

---

## After MEMTOF has completed the dump (both VSE and VSX)

Label the floppy diskettes containing the memory dump (include date). Do not forget also to send the OPCOM printout when sending the MEMTOF floppies to ND Service.

Also include a printout of the error log and the file SYMBOL-2-LIST:SYMB on a separate floppy diskette if you can get the machine running again. It is also a good idea to include the output from the @LIST-RT-PROGRAMS command and other possible error messages.

ND has an internal product for inspecting the MEMTOF dump. This is called INVESTIGATOR.

---

Norsk Data ND-30.003.7 EN

---

## Page 364

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING  

### 11.5 RT-program hang (ADVANCED)

The computer may "hang" due to a RT-program with too high priority. "Hang" means that the program does not let any other program gain access to the CPU. Sometimes it is possible to abort this RT-program without restarting the system. The procedure should only be used for user-written RT-programs (running on interrupt level 1):

- Make the computer enter stop mode and OPCOM:

  Use **STOP** on the operator panel (but DO NOT use **MCL**).

- Select page table (S3DPIT) and memory address (BEXQU) from the following table:

| CPU     | SINTRAN      | pt | bexqu | prior    | sts      |
|---------|--------------|----|-------|----------|----------|
| ND-110  | SINTRAN VSX K | 7  | 4013  | RT-desc+3 | RT-desc+1 |
| ND-100  | SINTRAN VSX K | 13 | 4013  | RT-desc+3 | RT-desc+1 |
| both    | SINTRAN VSE K | 0  | 13    | RT-desc+1 | RT-desc+1 |

Enter the selected values into OPCOM:

- `#ptEJ`

- `#bexqu/RT-desc` (Get address of "prior" and "sts" in table.)

If SINTRAN VSX:

- `#sts/ xx 120000J` (The program is set in IO- and RT-wait.)

- `#prior/ yy 1J` (The program priority is set to 1.)

If SINTRAN VSE:

- `#prior/ xy 120001J` (The program is set in wait with priority 1.)

After changing the RT-description:

- `#!` (Type the exclamation mark!)

- `#ACT/`

Log in as user SYSTEM. Find the name of the RT-program (`@LIST-RT-PROGRAMS`). Abort it (`@ABORT`) and close its RT-opened files.

Norsk Data ND-30.003.7 EN

---

## Page 365

# SINTRAN III SYSTEM SUPERVISOR  
## ERROR SUPERVISING

---

## 11.6 Stuck terminals

If one or more terminals are stuck (do not respond) this does not necessarily mean that the whole system has stopped. A user will for example experience this when s/he executes a program that runs in an endless loop with the escape function disabled (pressing the ESC key does not then affect the program execution). Screen-oriented application programs do in fact run with the escape function disabled.

Carrying out the following procedure stepwise should in most cases make the terminal respond again:

---

### The very first things to check (for ordinary users)

- Is the terminal ON-LINE?

- Has CTRL+S been used accidentally (the same as XOFF)? Type CTRL+Q on the stuck terminal (the same as XON).

- Is the terminal "locked"? Use the reset function on the stuck terminal to initialize the terminal.

- Is it possible to send a message to the terminal from the MAIL subsystem? Use the command `*SEND-DIRECT-MESSAGE`. Have there been any changes in the switch settings (such as transmission speed and terminal type)? See section 6.4 and appendix K.

---

### The first things to check (for the System Supervisor)

Log in as user SYSTEM to carry out the remainder of the procedure:

- Has the command `@WAIT-FOR-OPERATOR` accidentally been used? (may be abbreviated to `@WA`, `@-FOR` or `@-OPER`). The message "WAITING TERMINAL" should be present on the error device. Use the command `@RESTART-USKR <terminal number>`. This will in general allow a background program in RTOFF state to continue.

- Is the escape function enabled? Use the command `@ENABLE-ESCAPE-FUNCTION`. Try the ESC key and the local key used by COSMOS (by default CTRL+@) on the stuck terminal.

- Was the stuck terminal running an ND-500 application? Enter ND-500 Monitor and use the command `PROCESS-STATUS` to find the ND-500 process number. Then try to stop this process. Try first `@LOGOUT-PROCESS <process number>` and then `@ABORT-PROCESS <process number>`.

---

Norsk Data ND-30.003.7 EN

---

## Page 366

# SINTRAN III SYSTEM SUPERVISOR ERROR SUPERVISING

- Try the command ⓈTOP-TERMINAL `<terminal number>`. Press the ESC key on the stuck terminal.

- If you know that the terminal was running an ND-500 application, make a controlled stop of ND-500 and restart it.

## The last things to do (ADVANCED)

The following procedure is especially relevant for systems running BAS:

```
@LIST-DEVICE <stuck terminal number>   (get name of BAKxx)

@SINTRAN-SERVICE-PROGRAM

*CHANGE-DATAFIELD <stuck terminal number> I Y N N

*FLAGB/ xxxxxx xxxxxx4 (Change only last digit.)

@ABORT BAKxx

@SINTRAN-SERVICE-PROGRAM

*CHANGE-DATAFIELD <stuck terminal number> I Y N N

BSTATE/ss Q
```

Use the same number

```
@LIST-FILES (SCRATCH)SCRATCHxx (Get object index yy.)

@CHANGE-OBJECT-ENTRY SCRATCH yy
22/cc 0
```

Press ESC on the stuck terminal.

### CAUTION!

Do NOT use the old procedure @ABORT BAKxx, followed by ⓇT BAKxx.

- As the last alternative before calling ND Service, carry out a warm start of the computer.

*Norsk Data ND-30.003.7 EN*

---

## Page 367

# SINTRAN III SYSTEM SUPERVISOR

## ERROR SUPERVISING

### 11.7 TELEFIX

ND has a product called TELEFIX, which provides remote diagnosis and maintenance services for its customers. TELEFIX offers the possibility of tracing and correcting faults in a machine some distance away via the telecommunication network.

By using TELEFIX, the system supervisor can more easily obtain assistance in diagnosing faults from ND. The system supervisor is able to monitor communication between the TELEFIX centre and the computer.

In order that the ND TELEFIX Centre shall be available to access your computer, you must have a TELEFIX adapter (either as a separate box or included in the operator panel) and a telephone modem. Instructions for the TELEFIX switch setting are given in chapter 2 and appendix K.

If the ND TELEFIX Centre wants to transfer files from your computer for further diagnosis, you must install the product "TELEFIX FILES FOR USER SITES" (ND-210375).

Norsk Data ND-30.003.7 EN

---

## Page 368

```
# SINTRAN III SYSTEM SUPERVISOR

Page 350

Norsk Data ND-30.003.7 EN
```

---

## Page 369

# SINTRAN III SYSTEM SUPERVISOR  
PATCHING  

---

## CHAPTER 12  

To patch is to modify the contents of the machine-executable code (also called object code and "octal" code) and system variables of SINTRAN in physical memory or on mass storage files.  

---

### 12.1 Patching when loading SINTRAN from floppy diskettes  

SINTRAN must be patched each time it is loaded from floppy diskettes in order to add the latest updates of SINTRAN. This is done by running a patch file on a separate floppy diskette after having loaded SINTRAN.  

The patch file is constantly being revised and improved by ND. When a reasonable amount of changes have been added to the patch file, a new patch floppy is distributed to the customers. The revision level is marked on the patch floppy's label, e.g., 102000B. The higher the revision level is, the newer the patch file is. You also find the revision level by using the command  

@LIST-TITLE  

Note that each version of SINTRAN, e.g., K-version, must only be run with patch files meant for this version. When you get a new patch file, SINTRAN has to be reloaded from floppy, and the patch file run.  

You run the patch file by using the NEW-SYSTEM program (see procedure in section 3.4). NEW-SYSTEM also copies the symbol-list files onto user SYSTEM:  

- SYMBOL-1-LIST and SYMBOL-2-LIST for SINTRAN in memory.  
- FILSYS-SYMBOLS for the file system  
- RTLO-SYMBOLS for the RT-Loader  
- N500-SYMBOLS for ND-500 System Monitor  
- LIBRARY-MARKS which tells SINTRAN options included  

The result of the patching can be inspected by reading one of the files PATCHES:OUT or PATCH:OUT into an editor. PATCHES:OUT contains a log of the patching. The file should contain the text "*** 000000 DIAGNOSTICS ***" to tell that the patching has been run successfully. The file PATCH:OUT contains comments to each patch, for example on the kind of error it corrects.  

Norsk Data ND-30.003.7 EN

---

## Page 370

# SINTRAN III SYSTEM SUPERVISOR PATCHING

Each month, **Customer Support Information** should be checked for important patches and technical changes that apply to the installed version of SINTRAN. Important patches are announced here in advance of their implementation on the patch floppy.

SINTRAN can be patched in the following ways:

- @LOOK-AT command
- SINTRAN Service Program commands
- The command DMAC and the subsystem FMAC
- SINTRAN file system commands (see appendix F)

## 12.2 Patching with SINTRAN commands

The command below can be used to examine and modify segments, memory locations and registers on the ND-100:

**@LOOK-AT <area> [<MAC commands>]**

The command accepts only octal input. It does not recognise symbolic variable names or symbolic instructions. Use a period to terminate the command.

The parameter `<area>` describes where the examination or modification should take place. The following alternatives are available:

| Area        | Description                                                                                                                                                   |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MEMORY      | A user's virtual memory space mapped via the normal page table. Maximum 64 K address space.                                                                   |
| ALT-MEMORY  | A user's virtual memory space mapped via the alternative page table. Maximum 64 K address space. The background segment size must be 128K (default).          |
| SEGMENT     | A segment on a segment file, e.g. SEGFILEO. Use a legal segment number. It is also possible to use segment names, provided the segment name is specified on the same line as the command. Use the RT-Loader command *WRITE-SEGMENT to obtain a list of segments. Only the lower 64K address space may be inspected. |
| ALT-SEGMENT | The optional, upper 64K of a segment which can be accessed by the alternative page table of a RT-program. The same rules as for SEGMENT apply.               |

Norsk Data ND-30.003.7 EN

---

## Page 371

# SINTRAN III SYSTEM SUPERVISOR  
PATCHING

## RTCOMMON
Locations of the common data area in physical memory to be used by RT-programs.

## PHYS-MEMORY
SINTRAN MEMORY part. The part of SINTRAN that always resides in memory (never swapped out).

## COMMON CODE
The SINTRAN common code residing in the lowest part of physical memory.

## REGISTERS
Registers on each of the 16 interrupt levels in the ND-100 CPU. The same information can be found by using OPCOM (see section 2.1.3).

The SINTRAN Commands Reference Manual (ND-60.128) documents the use of the alternative parameters in detail.

The SINTRAN Service Program command

**\*CHANGE-VARIABLE** `<variable>` `<value>` [[`<memory?>`] (`<image?>`) (`<save-area?>`)]

can be used to change system variables in SINTRAN. The command uses symbolic variable names. See SINTRAN Commands Reference Manual for information on which variables may be changed.

Data fields can be patched with the SINTRAN Service Program command:

**\*CHANGE-DATAFIELD** `<logical device number>` `<input/output>` (`<memory?>`) (`<image?>`) (`<save-area?>`) `<sub-commands>`

See section 6.4.4 for relevant examples.

---

### 12.3 Patching with DMAC and FMAC

FMAC and DMAC are special versions of the MAC assembler. They are automatically installed when SINTRAN is loaded from floppy. In addition, DMAC is loaded onto a segment during cold start. Thus, it may also be activated by the @DMAC command in SINTRAN.

FMAC is used for patching SINTRAN on the files SINTRAN:DATA and MACM-AREA:DATA. You find most of the SINTRAN save-area here (see appendix D).

DMAC can be used for patching any segment on a segment file (e.g. SEGFILE:DATA). Here you also find the remaining part of SINTRAN save-area, SINTRAN image, and system-included segments that are used by the currently running SINTRAN.

* * * 

Norsk Data ND-30.003.7 EN

---

## Page 372

# SINTRAN III SYSTEM SUPERVISOR

## PATCHING

Both FMAC and DMAC accepts symbolic variables and symbolic instructions as in MAC.

A patch implemented on MACM-AREA:DATA or SINTRAN:DATA is permanent, but will not become effective until the system is cold started. Care must be taken when patching on a segment file. There is no protection mechanism against simultaneous updating by the RT-Loader or the file system. Such simultaneous updating will result in one of the two updates being lost. Use the command @SET-UNAVAILABLE before patching.

The segment to be operated upon in DMAC is defined by the command:

)CLOAD <segment number>

Norsk Data ND-30.003.7 EN

---

## Page 373

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX A

| APPENDIX A | CONFIGURATION-DEPENDENT INFORMATION |
|------------|------------------------------------|

In this appendix you should collect operator/supervisor information related to your system such as:

- PD-sheets (Product Description)
- Notes about software applications
- Notes about hardware equipment
- Special procedures
- Others ...

Norsk Data ND-30.003.7 EN

---

## Page 374

# SITRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 375

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX B

---

### APPENDIX B  
### BINARY, OCTAL AND HEXADECIMAL NUMBERS

Norsk Data computers make use of binary, octal, and hexadecimal (hex) number formats. Table 26 shows what the decimal numbers from 0 to 17 look like in the different formats.

| DECIMAL | BINARY | OCTAL (B) | HEX (H) |
|---------|--------|-----------|---------|
| 0       | 000000 | 00        | 00      |
| 1       | 000001 | 01        | 01      |
| 2       | 000010 | 02        | 02      |
| 3       | 000011 | 03        | 03      |
| 4       | 000100 | 04        | 04      |
| 5       | 000101 | 05        | 05      |
| 6       | 000110 | 06        | 06      |
| 7       | 000111 | 07        | 07      |
| 8       | 001000 | 10        | 08      |
| 9       | 001001 | 11        | 09      |
| 10      | 001010 | 12        | 0A      |
| 11      | 001011 | 13        | 0B      |
| 12      | 001100 | 14        | 0C      |
| 13      | 001101 | 15        | 0D      |
| 14      | 001110 | 16        | 0E      |
| 15      | 001111 | 17        | 0F      |
| 16      | 010000 | 20        | 10      |
| 17      | 010001 | 21        | 11      |

*Table 26. Binary, octal, and hexadecimal numbers*

From table 26 you see that the value of a digit within a number depends on its position. This way of representing numbers is called positional.

```
number base (radix)
    │
    │
    │
Decimal example: 135 D = 1*10² + 3*10¹ + 5*10⁰
    │
    │
    │
    digits
```

As octal:  
207 B = 2*8² + 0*8¹ + 7*8⁰ = 135 D

As binary:  
01000011 = 2⁷ + 2² + 2¹ + 2⁰ = 135 D

Norsk Data ND-30.003.7 EN

---

## Page 376

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX B  

As hexadecimal: 87H = 8*16^1 + 7*16^0 = 135 D  

Decimal and octal numbers are used in output from SINTRAN. The binary format is somewhat more hardware-related, and is useful for decoding words where a single bit carries information (e.g. flags). The hexadecimal format is used in output from the ND-500, which reduces the numbers of digits needed to represent a number.

The representation of a number can be converted from one number system to another by performing simple division procedures on it. These procedures are most easily demonstrated by examples:

## DECIMAL TO OCTAL CONVERSION  
   
**Problem:** 135D = ? B  

Divide by 8 give the following remainders (R): remainders (R):  

| OPERATION         | R    |
|-------------------|------|
| 135/8 gives 16    | 7    |
| 16/8 gives 2      | 0    |
| 2/8 gives 0       | 2    |

Stop on zero!

The result is found from the rightmost column:  

135D = 207B  

## OCTAL TO DECIMAL CONVERSION  

**Problem:** 2167B = ? D  

Calculating the decimal value of each octal digit:  

| Calculation      | Result |
|------------------|--------|
| 7*0 = 7*1        | 7      |
| 6*8 = 6*8        | 48     |
| 1*8^2 = 1*64     | 64     |
| 2*8^3 = 2*512    | 1024   |

The result is the sum of the products:  

1143  

2167B = 1143D  

Norsk Data ND-30.003.7 EN

---

## Page 377

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX B

Conversion from octal or hexadecimal into decimal or vice versa can be done by the same method as used in the last two examples.

The reason for using octal and hexadecimal numbers is that one octal or hexadecimal digit corresponds to a fixed group of bits:

313B = 101 001 101 (each octal digit replaced by 3 binary digits).

97H = 1001 0111 (each hex digit replaced by 4 binary digits).

Text strings contain packed arrays of ASCII characters. There are 2 characters within one word in ND-100. Each character occupies 8 bits which is not a multiple of 3 bits. If you intend to decode text, be careful to separate the bytes correctly.

Example: The word 051123B consists of the characters 122B ("R") and 123B ("S").

| Byte Boundary | Bit No. (dec.) |
|---------------|----------------|
| 15 14 | 12 11 |
| 9 8 | 7 6 5 |
| 3 2 | 0        |

"RS" -> 

|       |       | 0 1 0 0 1 0 0 1 0 1 0 0 1 1 |
|-------|-------|-----------------------------|

01 010 010 = 122B

01 010 011 = 123B

If you need to convert numbers, you can let the computer do the work for you! PED and NOTIS-WP have a home command which may be used for converting numbers: V. It accepts octal, decimal and hex numbers as input (by appending B, D or H as number base) and displays the number in all of these formats. The ASCII representation is also displayed. When you re-enter the text area, this information will remain displayed until you repeat the command or refresh the screen.

---

Norsk Data ND-30.003.7 EN

---

## Page 378

# SINTRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 379

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX C

### MASS STORAGE DEVICE NAMES

Disks, floppy disks and magnetic tapes have the device names listed in table 27. A device name has the following format:

**type-x-yyMB-z-a**

`type` is either DISC, FLOPPY-DISC or MAG-TAPE.

`z` tells which controller the mass storage unit is connected to. In a standard SINTRAN VSX configuration there can be a maximum of two controllers per device type, giving `z` either the value 1 or 2.

The `x-yyMB` and `-a` parts of the device name are only used for disks. If the disk can only have one directory, `x` is omitted, `yy` is the size of the disk in MB.

If the disk is sub-divided into several directories, `x` says how many directories the disk has, while `yy` is the size of the directory in MB.

`-a` is used for some disks to indicate whether the disk pack is fixed (-F) or removable (-R).

| DEVICE NAMES  | MASS STORAGE DEVICE CONTROLLER  | DEVICE TYPE        |
|---------------|--------------------------------|--------------------|
| DISC-10MB-1   | Cartridge disk controller 1    | CDC 9427 Hawk      |
| DISC-10MB-2   | Cartridge disk controller 2    |                    |
| DISC-14MB-1   | 14-MB disk controller 1        | CDC 9410 Finch     |
| DISC-14MB-2   | 14-MB disk controller 2        |                    |
| DISC-16MB-1   | 16-MB disk controller 1 (ST506)| Micropolis 1304    |
| DISC-16MB-2   | 16-MB disk controller 2 (ST506)|                    |
| DISC-21MB-1   | 21-MB disk controller 1        | CDC 9410 Finch     |
| DISC-21MB-2   | 21-MB disk controller 2        |                    |
| DISC-23MB-1   | 23-MB disk controller 1 (ST506)| Micropolis 1304    |
| DISC-23MB-2   | 23-MB disk controller 2 (ST506)|                    |
| DISC-28MB-1   | 28-MB disk controller 1 (ST506)| Micropolis 1325    |
| DISC-28MB-2   | 28-MB disk controller 2 (ST506)|                    |
| DISC-30MB-1   | 30-MB big cartridge disk ctrl 1| CDC 9448 CMD       |
| DISC-30MB-2   | 30-MB big cartridge disk ctrl 2|                    |
| DISC-33MB-1   | 33-MB disk controller 1 (ND-IO)| CDC 9762 SMD       |
| DISC-33MB-2   | 33-MB disk controller 2 (ND-IO)|                    |
| DISC-38MB-1   | 38-MB disk controller 1 (ND-IO)| CDC 9762 SMD       |
| DISC-38MB-2   | 38-MB disk controller 2 (ND-IO)|                    |
| DISC-45MB-1   | 45-MB disk controller 1 (ST506)| Micropolis 1304/1325|
| DISC-45MB-2   | 45-MB disk controller 2 (ST506)|                    |
| DISC-50MB-1   | 50-MB disk controller 1        | CDC 9448 CMD       |
| DISC-50MB-2   | 50-MB disk controller 2        |                    |
| DISC-60MB-1   | 60-MB disk controller 1 (ND-IO)| CDC 9762 SMD       |
| DISC-60MB-2   | 60-MB disk controller 2 (ND-IO)|                    |

Norsk Data ND-30.003.7 EN

---

## Page 380

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX C

| DEVICE NAMES   | MASS STORAGE DEVICE CONTROLLER     | DEVICE TYPE      |
|----------------|------------------------------------|------------------|
| DISC-70MB-1    | 70-MB disk controller 1            | CDC 9710 RSD     |
| DISC-70MB-2    | 70-MB disk controller 2            |                  |
| DISC-70MB-3    | 70-MB disk controller 3            |                  |
| DISC-70MB-4    | 70-MB disk controller 4            |                  |
| DISC-74MB-1    | 74-MB disk controller 1 (ST506)    | Micropolis 1325  |
| DISC-74MB-2    | 74-MB disk controller 2 (ST506)    |                  |
| DISC-75MB-1    | 75-MB disk controller 1            | CDC 9762 SMD     |
| DISC-75MB-2    | 75-MB disk controller 2            |                  |
| DISC-75MB-3    | 75-MB disk controller 3            |                  |
| DISC-75MB-4    | 75-MB disk controller 4            |                  |
| DISC-90MB-1    | 90-MB disk controller 1            | CDC 9448 CMD     |
| DISC-90MB-2    | 90-MB disk controller 2            |                  |
| DISC-140MB-1-F | 140-MB disk controller 1           | Fujitsu M2322K   |
| DISC-140MB-2-F | 140-MB disk controller 2           |                  |
| DISC-140MB-3-F | 140-MB disk controller 3           |                  |
| DISC-140MB-4-F | 140-MB disk controller 4           |                  |
| DISC-2-70MB-1-F| Sub-divided 140-MB disk ctrl 1     | Fujitsu M2322K   |
| DISC-2-70MB-2-F| Sub-divided 140-MB disk ctrl 2     |                  |
| DISC-2-70MB-3-F| Sub-divided 140-MB disk ctrl 3     |                  |
| DISC-2-70MB-4-F| Sub-divided 140-MB disk ctrl 4     |                  |
| DISC-2-75MB-1-F| Sub-divided 150-MB disk ctrl 1     | CDC 9730 MMD     |
| DISC-2-75MB-2-F| Sub-divided 150-MB disk ctrl 2     |                  |
| DISC-225MB-1-R | 225-MB disk controller 1           | CDC 9766 SMD     |
| DISC-225MB-2-R | 225-MB disk controller 2           |                  |
| DISC-225MB-3-R | 225-MB disk controller 3           |                  |
| DISC-225MB-4-R | 225-MB disk controller 4           |                  |
| DISC-3-75MB-1  | Sub-divided 225-MB disk ctrl 1     | CDC 9766 SMD     |
| DISC-3-75MB-2  | Sub-divided 225-MB disk ctrl 2     |                  |
| DISC-288MB-1-F | 288-MB disk controller 1           | CDC 9715 FSD 340 |
| DISC-288MB-2-F | 288-MB disk controller 2           |                  |
| DISC-288MB-3-F | 288-MB disk controller 3           |                  |
| DISC-288MB-4-F | 288-MB disk controller 4           |                  |
| DISC-4-70MB-1-F| Sub-divided 280-MB disk ctrl 1     | CDC 9715 FSD 340 |
| DISC-4-70MB-2-F| Sub-divided 280-MB disk ctrl 2     |                  |
| DISC-4-70MB-3-F| Sub-divided 280-MB disk ctrl 3     |                  |
| DISC-4-70MB-4-F| Sub-divided 280-MB disk ctrl 4     |                  |
| DISC-288MB-1-R | 288-MB disk controller 1           | CDC 9766 SMD     |
| DISC-288MB-2-R | 288-MB disk controller 2           |                  |
| DISC-288MB-3-R | 288-MB disk controller 3           |                  |
| DISC-288MB-4-R | 288-MB disk controller 4           |                  |
| DISC-4-70MB-1-R| Sub-divided 280-MB disk ctrl 1     | CDC 9766 SMD     |
| DISC-4-70MB-2-R| Sub-divided 280-MB disk ctrl 2     |                  |
| DISC-4-70MB-3-R| Sub-divided 280-MB disk ctrl 3     |                  |
| DISC-4-70MB-4-R| Sub-divided 280-MB disk ctrl 4     |                  |
| DISC-288MB-1-E | 288-MB disk controller 1           | CDC 9720 EMD 368 |
| DISC-288MB-2-E | 288-MB disk controller 2           |                  |
| DISC-288MB-3-E | 288-MB disk controller 3           |                  |
| DISC-288MB-4-E | 288-MB disk controller 4           |                  |
| DISC-4-70MB-1-E| Sub-divided 280-MB disk ctrl 1     | CDC 9720 EMD 368 |
| DISC-4-70MB-2-E| Sub-divided 280-MB disk ctrl 2     |                  |
| DISC-4-70MB-3-E| Sub-divided 280-MB disk ctrl 3     |                  |
| DISC-4-70MB-4-E| Sub-divided 280-MB disk ctrl 4     |                  |

Norsk Data ND-30.003.7 EN

---

## Page 381

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX C

| DEVICE NAMES    | MASS STORAGE DEVICE CONTROLLER          | DEVICE TYPE       |
|-----------------|-----------------------------------------|-------------------|
| DISC-450MB-1-F  | 450-MB disk controller 1                | CDC 9715 FSD 515  |
| DISC-450MB-2-F  | 450-MB disk controller 2                | CDC 9715 FSD 515  |
| DISC-450MB-3-F  | 450-MB disk controller 3                |                   |
| DISC-450MB-4-F  | 450-MB disk controller 4                |                   |
| DISC-2-225MB-1-F| Sub-divided 450-MB disk ctrl 1          | CDC 9715 FSD 515  |
| DISC-2-225MB-2-F| Sub-divided 450-MB disk ctrl 2          |                   |
| DISC-2-225MB-3-F| Sub-divided 450-MB disk ctrl 3          |                   |
| DISC-2-225MB-4-F| Sub-divided 450-MB disk ctrl 4          |                   |
| DISC-6-70MB-1-F | Sub-divided 450-MB disk ctrl 1          |                   |
| DISC-6-70MB-2-F | Sub-divided 450-MB disk ctrl 2          |                   |
| DISC-6-70MB-3-F | Sub-divided 450-MB disk ctrl 3          |                   |
| DISC-6-70MB-4-F | Sub-divided 450-MB disk ctrl 4          |                   |
| DISC-450MB-1-E  | 450-MB disk controller 1                | NEC D3525-H       |
| DISC-450MB-2-E  | 450-MB disk controller 2                |                   |
| DISC-450MB-3-E  | 450-MB disk controller 3                |                   |
| DISC-450MB-4-E  | 450-MB disk controller 4                |                   |
| DISC-2-225MB-1-E| Sub-divided 450-MB disk ctrl 1          | NEC D3525-H       |
| DISC-2-225MB-2-E| Sub-divided 450-MB disk ctrl 2          |                   |
| DISC-2-225MB-3-E| Sub-divided 450-MB disk ctrl 3          |                   |
| DISC-2-225MB-4-E| Sub-divided 450-MB disk ctrl 4          |                   |
| DISC-6-70MB-1-E | Sub-divided 450-MB disk ctrl 1          | NEC D3525-H       |
| DISC-6-70MB-2-E | Sub-divided 450-MB disk ctrl 2          |                   |
| DISC-6-70MB-3-E | Sub-divided 450-MB disk ctrl 3          |                   |
| DISC-6-70MB-4-E | Sub-divided 450-MB disk ctrl 4          |                   |
| MAG-TAPE-1      | Magnetic tape controller 1              | Cipher, Pertec, STC|
| MAG-TAPE-2      | Magnetic tape controller 2              |                   |
| MAG-TAPE-3      | Magnetic tape controller 3              |                   |
| MAG-TAPE-4      | Magnetic tape controller 4              |                   |
| FLOPPY-DISC-1   | Floppy disk controller 1                | SS/SD, DS/DD both  |
| FLOPPY-DISC-2   | Floppy disk controller 2                | 5 1/4 and 8 inch   |

*Table 27. Mass storage device names*

Norsk Data ND-30.003.7 EN

---

## Page 382

# SINTRAN III SYSTEM SUPERVISOR

| | |
|---|---|
| Norsk Data | ND–30.003.7 EN |

---

## Page 383

# APPENDIX D

## SINTRAN K-VERSION, LAYOUT ON DISK (ADVANCED)

The following is an overview of what SINTRAN looks like on the disk. You may find this useful if you intend to study the SINTRAN source code listings. All numbers are given in octal.

```
(physical) disk
address
  ┌──────────────────┐
  │ local data area  │
  ├──────────────────┤
  │ MACine code      │
  ├──────────────────┤
  │ -   macro displacement
  │ ←  patch macro
```

A visual explanation of disk pointers

---

### D.1 SINTRAN VSX

| File         | Contents       | Start address | Size words | Disk addr. | Macro displ. | Patch macro name |
|--------------|----------------|---------------|------------|------------|--------------|------------------|
|              | Common Code    |               |            | 1          |              |                  |
| SINT RAN:    | Start Restart  |               |            |            |              |                  |
| DATA         | Resident Data  |               | SINTRAN SAVE-AREA |         |          |                  |

| MACM-AREA: DATA | Error Program   | 30 000        | 12k       | 100        | - 13         | PERRP            |
|                 | End Resid. data | 112 000       | 2k        | 112        |              | P2RDA            |
|                 | System segment  | 130 000       | 3k        | 114        | - 54         | PSYSG            |
|                 | Memtof          | 172 000       | 1k        | 117        |              |                  |
|                 | RT-Loader       | 30 000        | 41k       | 137        | - 14         | PRTLO            |

Norsk Data ND-30.003.7 EN

---

## Page 384

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX D

| SEG FILO: DATA      |                |       |     |       |
|---------------------|----------------|-------|-----|-------|
| Common Code         | 0              | 13k   | 200 | 0     | PCCST  |
| Start Restart       | 26 000         | 20k   | 213 |       |        |
| Resident Data       | 4 000          | 43k   | 233 | - 2   | PRDAT  |
| End resid. Data     | 112 000        | 2k    | 277 |       |        |
| System Segment      | 130 000        | 3k    | 301 |       |        |
| Spooling Dataf.     | 150 000        | 1k    | 304 | - 64  | PSPDF  |
| RPIT                | 26 000         | 65k   | 305 | - 13  | PRPIT  |
| MPIT                | 26 000         | 65k   | 372 | - 13  | PMPIT  |
| Segment Table       | 0              | 20k   | 457 | 0     | PSGTB  |
| File System         | 26 000         | 65k   | 477 | - 13  | PFILS  |
| Command-Segment     | 26 000         | 65k   | 564 | - 13  | POPCO  |
| 5PIT                | 26 000         | 5k    | 651 | - 13  | P5PIT  |
| ND-500 monitor      | 40 000         | 60k   | 656 | - 20  |        |
| (end of SAVE-AREA)  |                |       | 736 |       |        |

### SINTRAN IMAGE SEGMENTS (IMAGE AREA)

### SINTRAN system included segments

Segments for background programs, reentrant subsystems, and user RT-programs

*Norsk Data ND-30.003.7 EN*

---

## Page 385

# SINTRAN III SYSTEM SUPERVISOR
### APPENDIX D

---

## D.2 SINTRAN VSE

All disk addresses are given as page numbers (octal).

### The file SINTRAN:DATA

| 0 1 |
|-----|
| Resident and "POF" (SINTRAN SAVE-AREA) |
| Directory entry |

### The file MACM-AREA:DATA

| 100     | 137     | 145     | 177     |
|---------|---------|---------|---------|
| File system, segments 6 and 24 |
| Error program |
| Command segment (segment 3) |

#### Displacements when patching

| Command segment:          | -110000 |
|---------------------------|--------|
| File system seg. 6 + 24:  | 2000   |

### The file SEGFILO:DATA

| 200     | 277     |
|---------|---------|
| SINTRAN IMAGE area (segment 2) |
| RT prog. segments |

Other segment files may reside in any directory at any disk address. The maximum size of a segment file is 16383 pages. Due to limitations in the RT-Loader, the sum of the segment files used cannot be greater than 32768 pages.

---

Norsk Data ND-30.003.7 EN

---

## Page 386

# SINTRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 387

# SINTRAN III SYSTEM SUPERVISOR
### APPENDIX E

## APPENDIX E SINTRAN K-VERSION, PHYSICAL LAYOUT IN COMPUTER (ADVANCED)

The following is an overview of SINTRAN in physical memory, as well as page tables and information on the use of interrupt levels.

This information will be of value to you if you intend to make your own patches, carry out debugging or make a detailed study of SINTRAN by reading the source code listings.

---

## E.1 SINTRAN VSX - Physical memory layout

All numbers are given in octal. One memory bank is 64 pages.

| page no. | During start-up                 | size (words) | Normal run status              | page no. |
|----------|---------------------------------|--------------|--------------------------------|----------|
| 0        | Common code<sup>1</sup>         | 11k          | Common code<sup>1</sup>        | 1        |
| 12       | Restart routines ("POF" code)   | <6k          | Restart routines ("POF" code)  |          |
|          | Start program                   | >7k          | Reg. block/bitmap              | 3        |
|          |                                 | >10k         |                                |          |
| 33       | Reg. block/bitmap               | 37k          | Resident data: DPIT            |          |
|          | Resident data: DPIT<sup>2</sup> | 35k          | 1k                             | Memtof   |
| end of   | unused                          | 2k           | unused                         |          |
| bank 1   |                                 | 2k           |                                |          |
|          |                                 | 0-xk         | buffer area<sup>5</sup>        |          |
|          | buffer area<sup>5</sup>         | 0-xk         |                                |          |
|          | Resident code: RPIT<sup>3</sup> | <53k         | Resident code: RPIT            |          |
|          |                                 | 0-xk         | buffer area<sup>5</sup>        |          |
|          | Monitor: MPIT<sup>4</sup>       | <52k         | Monitor: MPIT                  |          |
| within   |                                 | 0-xk         | buffer area<sup>5</sup>        |          |
| one      | segment table                   | <64k         | segment table                  |          |
| bank     |                                 | 0-xk         | buffer area<sup>5</sup>        |          |
| border   | memory map                      | <64k         | memory map                     |          |
|          |                                 | 0-xk         | buffer area<sup>5</sup>        |          |

*Figure 44. SINTRAN VSX - Physical memory layout*

Norsk Data ND-30.003.7 EN

---

## Page 388

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX E

1. Common code always starts at physical address 0.

2. Resident data (DPIT) logical address 4000 starts at physical address 60000. All resident code is mapped as segments and is accessible through the segment table.

3. See note 3 in page tables usage.

4. See note 4 in page tables usage.

5. Buffer areas are used for "big terminal" data fields and other non-PIT data. Logical device table is found in bank no. "LOGBANK" at addresses found in the CNVRT array in DPIT.

---

## E.2 SINTRAN VSX - Page Index Table (PIT) layout

|        | RPIT=10 3)   | SPIT=11 5)    | FPIT=4 6)    | 5PIT=5 6) | XPIT=6 6) | MPIT=12 4) |
|--------|--------------|---------------|--------------|-----------|-----------|------------|
| Micro- | µ® (2K)      | µ® (9K)       |              |           |           |            |
| common 2) |              |               |              | MON 60    | XMSG      | Resident   |
| Common | 0            | 0             | 0            |           |           | code:      |
| code 1) |              |               |              | ND-500    |           | M-level    |
| Monitor| Edit         | File          |              | Monitor   |           | (monitor   |
| calls  | routines     | system        |              |           |           | level)     |
| Resident| Command     | segment       |              |           |           | S-level     |
| code:  | segment,     |               |              |           |           | (Segadm.   |
| B-level=| RT-         |               |              |           |           | level)     |
| level 4 | loader      |               |              |           |           | level 10   |
|        | DMAC         |               |              |           |           | level 11   |
|        | Error        |               |              |           |           | level 12   |
|        | program      |               |              |           |           | level 13   |
|        |              |               |              |           |           | level 14   |
| Buffers|              |               |              |           |           | Buffers    |

---

Norsk Data ND-30.003.7 EN

---

## Page 389

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX E

| DPIT=7    | POF                  | X5DPT=13,14 | FUPIT=3 | DTPIT=17 | UPITIN=1 / UPITA=2  |
|-----------|----------------------|-------------|---------|----------|---------------------|
| μ<sup>©</sup> | μ<sup>©</sup>               | ND-500      | μ<sup>©</sup> | Direct   | Users normal    |
|           | Start-program base (1k) | name segments (PIT 13) |         | tasks    | PIT (UPITN)     |
|           | Restart code          | ND-500 standard | Remote   |          | Users altern.    |
|           | Start code            | domain segment | file     |          | PIT (UPITA)      |
| Resident common data (37k) | Register blocks       | (PIT 14)  | access   |          |                     |
| windows:   | Bitmaps              |             | user PIT |          |                     |
| N500 Buffers level 10 level 12 1/4 (5k)  | 66000/               |             |         |          |                     |
| System segment (8k) |                      |             |         |          |                     |
| Data segment (12k) |                      |             |         |          |                     |

*Figure 45. SINTRAN VSX - Page Index Table layout*

---

Note that (almost) all code must run in two-bank mode. Some code must even switch between one-bank and two-bank mode in order to access all its data (or use physical memory load and store machine instructions). All system code will use DPIT as alternative page table.

The following data is not in any PIT: Segment table, memory map, RT-programs' register block and bit map, "big terminal" (TAD) data fields, ND-500 mail boxes, logical device number tables, ND-500 communication buffers (for MON 60).

1. **Common code (©)**

The common-code part contains the routines that may be called from more than one PIT.

The common code should not exceed 11 K of code (0-257778).

---

Norsk Data ND-30.003.7 EN

---

## Page 390

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX E

### 2) µΦ (micro common)

This part of common is also present in the data PIT (DPIT). It is mainly used for parameter fetching and other operations on the user's data area.

### 3) Resident code (RPIT)

This part contains code for most SINTRAN monitor calls except a few, which are placed on SPIT. File-system monitor calls are processed in the file system PIT. Other resident code that today is found in part 2 of resident should also be in this PIT, i.e. TAD resident code, resident RT-programs, configuration dependent code and "PIT3" code.

Code for OUTBT/INBT and similar monitor calls are here (interrupt level 4).

Buffers accessed with RBGET/RBPUT are at the top of this PIT (they are also in MPIT).

### 5) Monitor PIT (MPIT)

Here is all code for monitor level, internal interrupts (int. level 14), IO-drivers (int. levels 10 to 13) and segadm (segment administration on interrupt level 3).

Buffers accessed with RBGET/RBPUT are at the top of this PIT (they are also in RPIT).

### 6) SINTRAN PIT (SPIT)

Command, RT-Loader and DMAC segments are in this page-index table. A segment will be removed from this PIT only when another segment must be entered. Note that the first page of the segment area (page 138) always contains the Edit routine with its related routines.

### 7) File system (FPIT), file user (FUPIT), ND500 (5PIT) and XMSG (XPIT)

These PITs each (currently) contain a single segment only, and a special strategy is applied to the setting and clearing of these page-index tables to minimize context-switch overhead.

### 8) ND-500 name- and standard domain segment PITs (X5DPT)

These PITs are used for the ND-500 name segment and standard domain segments. The last page of these PITs are used as a window to the ND-500 monitor stack page on the ND-500 user's data segment.

### 9) Data PIT (DPIT)

The data PIT contains the resident common data, such as RT-descriptions, data fields and system-global variables. The background system segments are placed in this PIT, as well as the ND-500 data segments and various file system segments. All windows are in this PIT. µΦ is also included here.

Norsk Data ND-30.003.7 EN

---

## Page 391

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX E

### 10⁰ User page-index tables (UPITN, UPITA, DTPIT)

Three page-index tables are reserved for the users. Two for background and RT-programs (normal and alternative PIT) and one for direct tasks.

---

### E.3 SINTRAN VSX - Interrupt level usage

| Level | Description                                             | Control                         |
|-------|---------------------------------------------------------|---------------------------------|
| 15    | Extremely fast user interrupts (seldom used)            |                                 |
| 14    | Internal interrupts                                     |                                 |
| 13    | Real Time Clock, HDLC drivers                           | Hardware/                       |
| 12    | Terminal Input & ND-100 - ND-500 Communication          | software                        |
| 11    | Mass storage Input/Output                               | controlled                      |
| 10    | Terminal output                                         |                                 |
| 9     |                                                         |                                 |
| 8     |                                                         |                                 |
| 7     | Direct tasks                                            |                                 |
| 6     |                                                         |                                 |
| 5     | XMSG                                                    | Software                        |
| 4     | I/O Monitor calls                                       | controlled                      |
| 3     | Segment administration                                  |                                 |
| 2     | SINTRAN III Monitor                                     |                                 |
| 1     | Real time programs and Background programs              |                                 |
| 0     | Idle loop                                               |                                 |

*Figure 46. SINTRAN VSX - Interrupt level usage*

---

Norsk Data ND-30.003.7 EN

---

## Page 392

# E.4 SINTRAN VSE - Physical Memory Layout

| ADDRESS (octal) | Description                                      |
|-----------------|--------------------------------------------------|
| 000000          | System resident and file system resident        |
| 022000          | Swapping area                                    |
| 030000          | Open file table for RT-programs                  |
| 036000          | Configuration-dependent system resident          |
| ...7ENDC...     | Possible swapping area                           |
| 110000          | Paging-OFF area (POF)                            |
| ...9EMRE...     |                                                  |
|                 | IO-buffers + RT-descr                            |
| ...9EIOB...     |                                                  |
| 177000          | Possible swapping area                           |
|                 | Page tables                                      |

*Figure 47. SINTRAN VSE - Physical memory layout*

Norsk Data ND-30.003.7 EN

---

## Page 393

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX E

---

### E.5 SINTRAN VSE - Page Index Table (PIT) layout

#### PAGE INDEX TABLE 0

| ADDRESS (OCTAL)  | Description                                |
|------------------|--------------------------------------------|
| 000000           | System resident                            |
| 002000           | File system resident                       |
| 006000           | System resident (config. independent)      |
| 022000           | Device buffer window                       |
| 024000           | System segment                             |
| 036000           | System resident (config. dependent)        |
| ...7ENDC...      | Possibly free                              |
| 110000           | Segment area (file system segments, command segment, RT-Loader etc.) |
| 174000           | User window                                |

All resident pages are mapped physical page equal to logical page.  
  
Norsk Data ND-30.003.7 EN

---

## Page 394

# Page Index Tables 1 and 2

| PIT 1 | PIT 2 |
|-------|-------|
| RT-PROGS. BACKGROUND | RT-PROGS. BACKGROUND |

| Program and data bank. | Normally not used (can be used for program and data). |
| Program bank when running 2-bank. | Data bank when running 2-bank. |
| Program and data when running 1-bank. | |
| RTCOMMON (demand) | |

---

## Page 395

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX E

## PAGE INDEX TABLE 3

### PIT 3

- Equal to PIT 0 (logical address equal to physical address).
- .......7ENDC.......
  - Not used
- .......9POFS.......
  - Terminal I/O routines
- .......9EPT3.......
  - PIT3-segment (SEGMENT 41)
    - ..............
      - Not used
    - ..............
      - XMSG segment (segment 33)
        - ..................
          - Not used

*Figure 48. SINTRAN VSE - Page Index Table Layout*

Norsk Data ND-30.003.7 EN

---

## Page 396

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX E  

---

# E.6 SINTRAN VSE - Interrupt level usage  

| Level | Description                               | Control                          |
|-------|-------------------------------------------|----------------------------------|
| 15    | Extremely fast user interrupts            |                                  |
| 14    | Internal interrupts                       | Hardware/                        |
| 13    | Real Time Clock, HDLC drivers             | software                         |
| 12    | Terminal Input                            | controlled                       |
| 11    | Mass storage Input/Output                 |                                  |
| 10    | Terminal output                           |                                  |
| 9     |                                           |                                  |
| 8     |                                           |                                  |
| 7     | Direct tasks                              |                                  |
| 6     |                                           | Software                         |
| 5     | XMSG                                      | controlled                       |
| 4     | I/O Monitor calls                         |                                  |
| 3     | SINTRAN III Monitor                       |                                  |
| 2     | Direct tasks                              |                                  |
| 1     | Real Time programs and Background programs|                                  |
| 0     | Idle loop                                 |                                  |

*Figure 49. SINTRAN VSE - Interrupt level usage*

Norsk Data ND-30.003.7 EN

---

## Page 397

# Appendix F

## File System Layout on Disk (Advanced)

A disk is divided into one or more logical parts, each with a separate directory. A disk with more than one directory is called a sub-divided disk. Appendix C lists the different combinations available. A small part of the directory contains tables with information necessary to know where all user areas and files on the directory are. The directory on a disk is organized by the file system as illustrated.

The directory entry contains pointers to the tables used by the file system. The user area and the object index files are used to map into the correct user area and object files.

An object entry in the object file describes the essential information about a given file, e.g. file name and location.

A user entry in the user file describes the essential information about a given user area in the directory, i.e. name and no. of pages used.

There is also an additional table in memory for information about directories entered (whether the directory is a main or default directory) and information about the physical media (uniquely given by the disc device name). The table is called the directory table. When a directory is entered, some information about user areas is initialized, and information about open files on the directory is cleared. Entering a disk therefore takes some time, and for large disks it can take several minutes.

*Figure 50. File system overview*

## Diagram Key

```
Sintran III System Supervisor

- Master block (directory page 0)
- Bootstrap
- Directory entry
- Bit-file
- Object file index block
- User file index block
- Object entry
- User file
- User entry
```

## Some Related Commands

| Commands                      |
|-------------------------------|
| @ENTER-DIRECTORY              |
| #LIST-DIRECTORIES-ENTERED     |
| @LIST-FILES                   |
| @RELEASE-DIRECTORY            |
| @RENAME-DIRECTORY             |
| @SET-INITIAL-FILE-ACCESS (new commands) |
| @SET-INITIAL-FRIEND-ACCESS    |

## The Principle of Sub-Divided Disks

### Master Blocks

| Page no.               |
|------------------------|
| DIRECTORY "A" | DIRECTORY "B" | DIRECTORY "C" |
| 0 1 2 3 ... | 0 1 2 3 ... | 0 1 2 3 ... |

---

## Page 398

# Appendix F

## F.1 Master Block

The master block is the first page (page 0) on a directory. Only 208 locations are used by the file system. The remaining part is reserved for the bootstrap program that loads SINTRAN.

The master block contains the directory name, a pointer to the bit-file, a pointer to the user file index block, a pointer to the object file index block, and the number of pages not reserved by any user areas.

Some of the information in the master block is transferred to the directory's entry in the directory table in memory when the directory is entered.

Some of the pages needed for file system information are subtracted from the pages not reserved by any user areas when the directory is created (user entries etc). They become invisible, as they not are added to any user area.

Pages for object entries etc. are taken from the individual user area when files are created or expanded. At least two pages must remain unreserved in the directory entry. The two pages are used by the file system internally at the moment when an indexed file is expanded past 512 pages (the level of indexing is then changed from 1 to 2).

## Directory Entry

| Word No. | Word |
| -------- | ---- |
| 00       | DIRECTORY NAME (16 characters) |
| 68       | 12 13 14 15 |
| 108      | OBJECT FILE INDEX POINTER |
| 128      | USER FILE INDEX POINTER |
| 148      | BIT-FILE POINTER |
| 168      | NO. OF PAGES NOT RESERVED |

## Additional Information

| Word No. | Word |
| -------- | ---- |
| 08       | BOOTSTRAP PROGRAM |
| 1760B    | DIRECTORY ENTRY |

## File Pointers

| 31     | 30    | 0   |
| ------ | ----- | --- |
| MS | LS |  |

## File Organization

| S1 | File Organization    |
| -- | -------------------- |
| 00 | Contiguous           |
| 01 | Indexed              |
| 10 | Sub-indexed          |
| 11 | Reserved for future extensions |

## Note

- MS - Most Significant part
- LS - Least Significant part

**Note:** All pointer values correspond to disk page numbers.

## Some Related Commands

- @CHANGE-DIRECTORY-ENTRY
- @CREATE-DIRECTORY
- @DUMP-DIRECTORY-ENTRY
- @DUMP-PAGE
- @ENTER-DIRECTORY
- @INITIAL-DIRECTORY
- @RENAME-DIRECTORY

---

*Figure 51. Master Block*

Norsk Data ND-30.003.7 EN

---

## Page 399

# P.2 Bit-File

The bit-file contains a map of the pages on the disk/floppy diskette. It tells whether a page is free or used. Each bit in the bit-file corresponds to one page. The page is free if the bit is 0, and used if the bit is 1. There is 1 bit-file page for each 16,384 pages in a directory. If the directory contains more pages, the bit-file is extended on the pages following the first one of the bit-file (contiguous file).

## BIT-FILE

| word no. | BIT-FILE POINTER (from dir. entry) |
|----------|-----------------------------------|
| 0B       | BLOCK 0                           |
|          | map for pages 0B-377B             |
| 178      | BLOCK 1                           |
|          | map for pages 400B-777B           |
| 208      | BLOCK 2                           |
| 378      | map for pages 1000B-1377B         |
| 408      |                                   |
| 578      |                                   |
| ...      |                                   |

## RELATED COMMANDS

- CHANGE-BIT-FILE
- @DUMP-BIT-FILE
- @DUMP-PAGE

## FORMULA

How to calculate a disk page number given the bit-file references:

```
PAGE=BLOCK*400B+WORD*20B+BIT
```

## EXAMPLE

| Bit no. | 15 | 14 | 12 | 11 | 9 | 8 | 6 | 5 | 3 | 2 | 0 |
|---------|----|----|----|----|---|---|---|---|---|---|---|
| A word in the bit file | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 1 | 1 | => 313B |

| disk pages | F | F | F | F | F | U | U | F | U | F | U |
|------------|---|---|---|---|---|---|---|---|---|---|---|

- page no. = x * 15

```
(x=block*400B+word*20B, F=free, U=used)
```

Figure 52. Bit-file

Norsk Data ND-30.003.7 EN

---

## Page 400

# F.3 User File

The user files contain information about all user areas in a directory. Each user area has a separate description called the user entry.

The user file index block maps from the user file index pointer in the directory entry into the corresponding user entries. The user file index block makes it possible to reserve place for the description of the user areas when they are created. The user file index block occupies one page, but not more than the first 200 locations are ever used. The part of the index block that is not used has all bits set to zero.

Each user file page has space for 32 user entries. The maximum no. of user areas in a directory is 256.

*Figure 53. User File*

Norsk Data ND-30.003.7 EN

## User File Index Block

| Word No. | User File Index Pointer (from dir. entry) |
|----------|-------------------------------------------|
| 0B       | USER FILE POINTER 0                       |
| 28       | USER FILE POINTER 1                       |
| 4B       | USER FILE POINTER 2                       |
| 68       | USER FILE POINTER 3                       |
|          |                                           |
| 168      | USER FILE POINTER 7                       |

MS - Most Significant part  
LS - Least Significant part

## User Files

| Word No. | User Entries                  |
|----------|-------------------------------|
| 1B       | USER ENTRIES 0 - 31           |
| 38       | USER ENTRIES 32 - 63          |
| 5B       | USER ENTRIES 64 - 95          |
| 7B       |                               |
| 178      | (TO USER ENTRIES 224 - 255)   |

## User File Pointer

| Word No. | User File Pointer (from index block) |
|----------|--------------------------------------|
| 37B      | USER ENTRY 0                         |
| 40B      | USER ENTRY 1                         |
| 77B      |                                      |
| 100B     | USER ENTRY 2                         |
| 137B     |                                      |
| 140B     | USER ENTRY 3                         |
| 177B     |                                      |
| 1700B    | USER ENTRY 30                        |
| 1737B    |                                      |
| 1740B    | USER ENTRY 31                        |
| 1777B    |                                      |

**NOTE: All pointer values correspond to disk page numbers.**

---

## Page 401

# F.4 User entry

The user entry contains the description of a user area. The description has user name, password, page usage, related file accesses etc.

The P bit in word 0 indicates whether this is a user area or object entry. The U bit tells whether this entry contains information about a user area or not.

Enter count is the number of users logged in on the SINTRAN user area with this user entry. It is incremented when logging in, and decremented when logging out. Do NOT confuse this with the enter count table which you can manipulate from the @SINTRAN-SERVICE-PROGRAM (terminal dependent).

When you give a user area pages, the no. of pages are subtracted from the pool of unreserved pages on the directory, and added to the actual no. of pages reserved for this user area. The bit-file is not manipulated before the pages are needed (allocated for the user area).

The user entry pointers (previous and next) link a user area's default directories together in a list. This is useful when a file is asked for by the user without specifying which directory it belongs to.

The friend table makes it possible to have a maximum of 8 different friend user areas per user area within a main directory.

The user area's extra object blocks contain the parameters MXOBL and ACOBL. Initially a user area is allowed to have 256 files. The description of these files (object entries) occupies one object block (see also F.5). If a user area is allowed to have more files, the MXOBL says how many extra object blocks the user area has by the MXOBL/256 calculation. 4 object entries are used. This node size allows the user to have 4096 files per user area.

| Word no.  | USER ENTRY                                                    |
|-----------|---------------------------------------------------------------|
| 0B        | ENTER COUNT                                                   |
| char 0    | char 1                                                        |
|           | USER NAME                                                     |
|           | (16 characters)                                               |
|           |                                                               |
| 10B       |                                                               |
| char 14   | char 15                                                       |
| 11B       | PASSWORD                                                      |
| 12B       | DATE CREATED (2 words)                                        |
| 13B       | DATE ENTERED (2 words)                                        |
| 14B       | LAST DATE ENTERED (2 words)                                   |
| 15B       | NO. OF PAGES RESERVED (2 words)                               |
| 21B       |                                                               |
| 22B       | THIS USER ENTRY                                               |
| 23B       | not used (yet)                                                |
| 24B       | DEFAULT FILE ACCESS                                           |
| 25B       | PREVIOUS USER ENTRY (pointer)                                 |
| 26B       | NEXT USER ENTRY (pointer)                                     |
| 27B       |                                                               |
| 30B       | USER’S EXTRA OBJECT BLOCKS (new)                              |
| friend 0  |                                                               |
| 31B       | FRIEND TABLE                                                  |
| friend 7  |                                                               |

Figure 54. User entry

## EXAMPLE OF LINKING OF THE USER ENTRY POINTERS

| previous entries | main and default directory | next entries                |
|------------------|----------------------------|-----------------------------|
| PACK-1:SINTRAN-USER | Idir. index 0, user index 47 |                           |
|                   | default directory          |                             |
|------------------|----------------------------|-----------------------------|
| PACK-2:SINTRAN-USER | Idir. index 1, user index 8  |                           |
|                   | default directory          |                             |
|------------------|----------------------------|-----------------------------|
| PACK-3:SINTRAN-USER | Idir. index 4, user index 15 |                           |

Note that the same user area has different user indexes in the default directories. At the top of the list, the next pointer is used to relate, as does the next pointer in the end of the list.

## ADDITIONAL FORMAT EXPLANATION

### THE 3 USER ENTRY POINTERS:

| Bit no. (dec.) |
|----------------|
| DIRECTORY INDEX USER INDEX |

### THE 2 DATES:

| 15 | 10 | 9 | 6 | 5 | 10 | 11 | 10 | 6 | 5 | 0 |
|----|----|---|---|---|---|---|---|---|---|---|
| YEAR-1950 | MONTH | DAY | HOUR | MINUTE | SECOND |

| word no. x-1 | word no. x |
|--------------|------------|

### THE DEFAULT FILE ACCESS:

| 15,14 | 10 | 9 | 5 | 4 | 0 (dec.) |
|-------|----|---|---|---|----------|
| D | C | A | W | R | public |
| D | C | A | W | R | friend |
|     |     |     |  |   | own |

### THE USER'S EXTRA OBJECT BLOCKS:

| 7 | 4 | 3 | 0 (dec.) |
|---|---|---|----------|
| MXOBL | ACOBL |

### THE FRIEND TABLE:

| 15 | 12 | 11 | 10 | 9 | 8 | 7 | 0 (dec.) |
|----|----|----|----|---|---|---|----------|
| D | C | A | W | R | USER INDEX |

## ABBREVIATIONS

- F - Flag (F=1 means user entry, F=0 means object entry)
- U - Used (U=1 means used, U=0 means free)
- R - Read access
- W - Write access
- A - Append access
- D - Delete access
- C - Directory access
- ACOBL - Actual no. of extra object blocks (0-16B)
- MXOBL - Maximum no. of extra object blocks (0-16B)

## SOME RELATED COMMANDS

- @CHANGE-USER-ENTRY
- @DUMP-USER-ENTRY
- @CHANGE-PASSWORD
- @CLEAR-PASSWORD
- @CREATE-USER
- @DELETE-USER
- @PERMIT-USER
- @USER-STATISTICS
- @GIVE-USER-SPACE
- @TAKE-USER-SPACE
- @LIST-PRIVILEGES
- @SET-DEFAULT-FILE-ACCESS
- @SET-FRIEND-ACCESS
- @GIVE-OBJECT-BLOCKS (new command)
- @TAKE-OBJECT-BLOCKS

---

## Page 402

# F.5 Object File

The object file contains information about all files belonging to a user area on a directory (disk/floppy diskette). Each file has a separate description called an object entry. The object entries are grouped together with 32 object entries within an object file (1 disk page).

If there are no more than 64 user areas in the directory, and no user area has more than 256 files, the object file index pointer (in the directory entry) points to the object index file. If there are more user areas, or the number of files in any user area exceeds 256, the files are automatically restructured with sub-index block(s). In this case, the object file index pointer points to the sub-index file (1 disk page).

The sub-index file is divided into object blocks. It can have a maximum of 16 object blocks. Each block is capable of keeping enough pointers for 256 files for each user area (256 user areas is the maximum). The pointers in the sub-index file refer to the object index files. An index file contains pointers to 256 object entries for 32 user areas.

## Object File Index Block

| Word No. | Description                     |
|----------|---------------------------------|
| 0        | OBJECT FILE INDEX POINTER (from dir. entry) |
| 18       | OBJECT FILE POINTER 0           |
| 28       | OBJECT FILE POINTER 1           |
| 48       | OBJECT FILE INDEX POINTER 2     |
| 58       | OBJECT FILE INDEX POINTER 3     |

## Sub-Index File

| Block No. | Object Entries             |
|-----------|----------------------------|
| 0-255     | 0-255                      |
| 1 256-511 | 256-511                    |
| 2 512-767 | 512-767                    |
| 3 768-1023| 768-1023                   |
| 4 1024-1279 | 1024-1279                |
| 15 3840-4095 | 3840-4095               |

## Object Index Files

| File   | Object Entries                |
|--------|-------------------------------|
| POINTER 0 | 0-31 USER 0                    |
| POINTER 511 | 224-255 USER 63              |

---

**Note:** All pointer values correspond to disk page numbers.

*Figure 55. Object file block*

---

## Page 403

# F.6 Object Entry

This entry contains the name and type of the object, access restrictions, file size, file-version pointers, and a pointer to the data for this version of the file.

Each user area can have up to 4096 files, divided into object blocks of 256 files each. That means each directory can have 256 user areas * 4096 files = 1,048,576 files.

The total open count is the number of times the file has been opened for either read or write. The current open count is the number of times the file has been opened, but not yet closed. More than one program can use a file at a time, referring to the file with a logical file no. This is handled by the file system, which keeps additional system information about current files in use on the terminal's system segment.

| Word No. | Object Entry                     |
|-----------|----------------------------------|
| 0S        | INFO ABOUT CURRENT USE           |
| 1B        | char 0     | char 1              |
|           | FILE NAME (16 characters)       |
| 10B       | char 14    | char 15             |
| 11B       | FILE TYPE (4 characters)        |
| 12B       | NEXT FILE VERSION (pointer)     |
| 14B       | PREVIOUS FILE VERSION (pointer) |
| 16B       | FILE ACCESS                    |
| 17B       | OBJECT BLOCK AND LOG. FILE TYPE (OBJL) |
| 20B       | DEV. NO. if peripheral file     |
| 22B       | LAST RESERVING USER             |
| 24B       | THIS FILE VERSION              |
| 22B       | CURRENT OPEN COUNT              |
| 24B       | TOTAL OPEN COUNT               |
| 26B       | DATE CREATED                    |
| 28B       | LAST DATE OPENED FOR READ       |
| 30B       | LAST DATE OPENED FOR WRITE      |
| 32B       | NO. OF PAGES IN FILE (2 words)  |
| 34B       | MAX. VERS. POINTER (2 words)    |
| 36B       | FILE POINTER (2 words)          |
| 37B       |                                  |

## Abbreviations

- U = Entry used (1=1 means used, 0=0 means free)

## Info About Current Use

- V = File is opened for write
- R = Reserved peripheral file
- M = Modified since last backup
- C = File is opened for common access

## File Access

- R = Read
- W = Write
- A = Append
- C = Common
- D = Directory

## Logical File Type

- TM = Temporary
- A = Allocated
- Ct = Contiguous
- I = Indexed
- P = Spirozap
- F = Peripheral
- T = Terminal

| File Organization |
|-------------------|
| Sub-index B1 | Meaning |
| -------------- | -------- |
| 01             | Contiguous |
| 00             | Indexed    |
| 10             | Sub-indexed|
| 11             | For future extension |

OBJL = Object block number (0-178)

## Additional Format Explanation

### INFO ABOUT CURRENT USE:

| Bit No. |        |
|---------|--------|
| 15 14 13 12 11 10 9 8 7 0 | Open Count 0, opened for use by MT-program 0. |

### LAST RESERVING USER:

| Bit No. |        |
|---------|--------|
| 15 8 7 0 |          |

### THE 3 FILE VERSION POINTERS:

| Bit No. |        |
|---------|--------|
| 15 8 7 0 | (Dec.) |
| User Index | Object Index |

- The object index is relative to the object block.
- Object ix. *  Object block * 256
- 0 *  Object ix.

### THE 3 DATES:

| 15 10 9 6 5 | 1 0,15 | 11 10 6,5 |
|-------------|--------|-----------|
| Year-1950 | Month  | Day  | Hour | Minute | Second |

## THE FILE ACCESS:

| Bit No. |          |
|---------|----------|
| 15 9 5 4 |            |
| D C A R M I B C A     |

## OBJECT BLOCK AND LOGICAL FILE TYPE:

| Bit No. |          |
|---------|----------|
| 15 12 8 | 5 4 3 2 1 0 | (Dec.) |
| OBJL 0 0 0 T M 0 A C I S P T |

### Some Related Commands

- #CHANGE-OBJECT-ENTRY
- #BOUND-OBJECT-ENTRY
- #ALLOCATE-FILE
- #CREATE-FILE
- #CREATE-FILE-VERSION
- #DELETE-FILE
- #DELETE-FILE-VERSIONS
- #EXPAND-FILE
- #FILE-STATISTICS
- #RENAME-FILE
- #SET-PERIPHERAL-FILE
- #SET-TEMPORARY-FILE
- #SET-TERMINAL-FILE
- #CLOSE-FILE
- #OPEN-FILE
- #SET-FILE-ACCESS
- #SET-INITIAL-FILE-ACCESS (new!)

### Example of Linking of the File Version Pointers

| Previous Versions | Next Versions |
|-------------------|---------------|
| ELPMO-20:1        | Object Index 47 |
| ELPMO-20:2        | Object Index 33 |
| ELPMO-20:3        | Object Index 50 |

> Note that the object indexes need not be in ascending order when going from one version to the next. All versions of a file have to be within the same object block.

*Figure 56. Object Entry*

---

## Page 404

# F.7 File Organization on Disk

Each object entry contains information about one of the user area's files. Users may access the data in the file sequentially (record by record) or randomly (directly addressing a record) by different Monitor calls to the file system. N1's page concept defines the least amount of space that can be allocated on mass storage (or in memory) as one page (1K words = 2KB). 

The way the files are organized on the disk bears no relation to how they are accessed. The files may be organized as indexed or contiguous files.

An indexed file is scattered around on the disk. It is expanded automatically in write operations. This means that it is given pages when necessary. If it is rewritten with fewer bytes, pages are not released, even if they are no longer needed. An index block is needed to map from the file pointer (object entry) into the correct data pages.

A contiguous file occupies a contiguous area on the disk. It is fully described with the address to the first page and the no. of pages. All this information is found in the object entry. This provides faster access time than an indexed file. Files are normally indexed (default when creating a file).

## Overall Logical Concept

| File Object |   |
|-------------|---|
| Start Of File |   |
| PAGE 0 |   |
| PAGE 1 |   |
| PAGE 2 |   |
| ... |   |
| PAGE n | End Of File |

- MAX. BYTE POINTER is updated when writing to contain the number of bytes actually written.

## Contiguous (Or Allocated File)

| DISK |   |
|------|---|
| PAGE 0 | FILE POINTER (object entry) |
| PAGE 1 | The max. no. of pages in a contiguous file is limited by the max. byte pointer to 2, 097152 pages |
| PAGE 2 |   |
| ... |   |
| PAGE n |   |

- Each page pointer occupies 2 words. Therefore the max. no. of pages is limited to 512 without being sub-indexed.

### Figure 57. Indexed and Contiguous File Organization

---

## Page 405

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX G

### PHYSICAL CHARACTERISTICS OF DISKS (ADVANCED)

The file system supports a number of different disk types with different physical characteristics. The basic principles for organizing data on a disk, however, are common to all of them.

All disk packs consist of one or more individual disk plates covered with magnetic layers for recording. The disk plates are attached to a common axis and form a cylinder as shown in fig. 58. A disk plate is also called a surface.

![Figure 58. Disk pack](image)

One or more disk packs may be connected to one disk controller. The disk drive containing the disk pack(s) can either have fixed or removable disk pack(s). Removable means that the disk pack can be separated from the drive (i.e. be exchanged with another pack).

The disk drive contains motors for rotating the disk pack, disk heads for reading and writing data, and electronics for rapid movement of the disk heads.

One of the surfaces is used for aligning and synchronizing data transfer (servo clocks). The remaining surfaces are used for data. The available surfaces are numbered from 0 and upwards. The numbering method varies according to the type of disk.

Each surface has a number of concentric circles, called tracks. The number of tracks depends on the disk. The tracks are numbered from 0 and upwards, normally starting at the outer track.

Norsk Data ND-30.003.7 EN

---

## Page 406

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX G

![Tracks Diagram](#)

Each surface has a track number: 0, 1, etc. Each group of tracks with the same number is referred to as a cylinder. Thus, all tracks with number 0 belong to cylinder 0.

Physical disk addresses are organized by disk cylinder. The lowest disk addresses are in cylinder 0, the next in cylinder 1, etc. This reduces carriage arm movements when accessing data at subsequent disk addresses.

![Sectors Diagram](#)

Each track is divided into sectors. The sectors are numbered from 0 and upwards, starting at an index mark.

Norsk Data ND-30.003.7 EN

---

## Page 407

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX G

A complete disk address, identifying a unique sector of the disk, can therefore be represented as:

| MSB         | LSB        |
|-------------|------------|
| CYLINDER NO.| SURFACE NO.| SECTOR NO. |

MSB = Most Significant Bit  
LSB = Least Significant Bit

specifies the desired track

Each sector consists of a fixed number of bytes. For disks used by ND this number is either 1024 or 256. The number of bytes per track is the same for all. The tracks closer to the center of the disk have therefore a higher bit density than those at the edge.

The file system operates in units of pages, i.e. 2048 bytes. Table 28 gives the physical characteristics of the disk types supported by SINTRAN III K-version.

Norsk Data ND-30.003.7 EN

---

## Page 408

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX G

| Disk type           | Formatted capacity (MB) | No of data surfaces | No of tracks/surface | No of sectors/track | No of bytes/sector | No of pages/cylinder | No of pages/directory |
|---------------------|-------------------------|---------------------|----------------------|---------------------|-------------------|----------------------|----------------------|
| CDC 9410 Finch      | 14                      | 3                   | 596                  | 12                  | 1024              | 18                   | 6,912                |
| CDC 9410 Finch      | 21                      | 3                   | 596                  | 12                  | 1024              | 18                   | 10,728               |
| CDC 9427 Hawk       | 2 x 5                   | 2/pack              | 406                  | 24                  | 256               | 6                    | 2412/pack            |
| CDC 9448 CMD        |                         |                     |                      |                     |                   |                      |                      |
| - 2 directories     | 15/dir.                 | 2                   | 823                  | 18                  | 1024              | 18                   | 7,389                |
| - 4 directories     | 15/dir.                 | 4                   | 823                  | 18                  | 1024              | 36                   | 7,389                |
| - 6 directories     | 15/dir.                 | 6                   | 823                  | 18                  | 1024              | 54                   | 7,389                |
| CDC 9710 RSD        | 70                      | 5                   | 823                  | 18                  | 1024              | 45                   | 34,765               |
| CDC 9715 FSD 340    | 288                     | 24                  | 711                  | 18                  | 1024              | 216                  | 140,391              |
| - 4 directories     | 70/dir.                 | 24                  | 711                  | 18                  | 1024              | 216                  | 34,765               |
| CDC 9715 FSD 515    | 450                     | 24                  | 711                  | 26                  | 1024              | 312                  | 220,584              |
| - 2 directories     | 225/dir.                | 24                  | 711                  | 26                  | 1024              | 312                  | 110,292              |
| - 6 directories     | 70/dir.                 | 24                  | 711                  | 26                  | 1024              | 312                  | 34,765               |
| CDC 9730 MMD        | 150                     | 10                  | 823                  | 18                  | 1024              | 90                   | 73,890               |
| - 2 directories     | 75/dir.                 | 10                  | 823                  | 18                  | 1024              | 90                   | 36,945               |
| CDC 9762 SMD        | 33                      | 5                   | 412                  | 16                  | 1024              | 40                   | 16,128               |
| CDC 9762 SMD        | 38                      | 5                   | 412                  | 18                  | 1024              | 45                   | 18,486               |
| CDC 9762 SMD        | 66                      | 5                   | 823                  | 16                  | 1024              | 40                   | 32,256               |
| CDC 9762 SMD        | 75                      | 5                   | 823                  | 18                  | 1024              | 45                   | 36,945               |
| CDC 9766 SMD        | 225                     | 19                  | 823                  | 18                  | 1024              | 171                  | 110,292              |
| CDC 9766 SMD        | 288                     | 19                  | 823                  | 18                  | 1024              | 171                  | 140,391              |
| - 3 directories     | 75/dir.                 | 19                  | 823                  | 18                  | 1024              | 171                  | 36,945               |
| - 4 directories     | 70/dir.                 | 19                  | 823                  | 18                  | 1024              | 171                  | 34,765               |
| CDC 9720 EMD 368    | 288                     | 10                  | 1217                 | 26                  | 1024              | 130                  | 140,391              |
| - 2 directories     | 70/dir.                 | 10                  | 1217                 | 26                  | 1024              | 130                  | 34,765               |
| Fujitsu M2322K      | 140                     | 10                  | 823                  | 18                  | 1024              | 90                   | 69,530               |
| - 2 directories     | 70/dir.                 | 10                  | 823                  | 18                  | 1024              | 90                   | 34,765               |
| Micropolis 1304     | 16                      | 6                   | 823                  | 9                   | 1024              | 27                   | 8,000                |
| Micropolis 1304     | 23                      | 6                   | 823                  | 9                   | 1024              | 27                   | 11,016               |
| Micropolis 1304     | 45                      | 6                   | 823                  | 9                   | 1024              | 27                   | 22,032               |
| Micropolis 1325     | 28                      | 8                   | 1024                 | 9                   | 1024              | 36                   | 13,648               |
| Micropolis 1325     | 45                      | 8                   | 1024                 | 9                   | 1024              | 36                   | 22,032               |
| NEC D-2352-H        | 450                     | 19                  | 760                  | 31                  | 1024              | 294.5                | 220,584              |
| - 2 directories     | 225/dir.                | 19                  | 760                  | 31                  | 1024              | 294.5                | 110,292              |
| - 6 directories     | 70/dir.                 | 19                  | 760                  | 31                  | 1024              | 294.5                | 34,765               |

**Table 28. Physical characteristics of various disk types**

Refer to appendix C for a list of mass storage device controllers.

Norsk Data ND-30.003.7 EN

---

## Page 409

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX H

### APPENDIX H: FILES USED TO STOP AND START THE SYSTEM

This appendix shows examples of the batch or mode files used to start and stop SINTRAN III. All files must be tailored for the actual configuration. The examples are based on a standard configuration with some extensions widely used. All examples reflect this particular configuration.

#### H.1 Example of mode file to stop the system

The mode file STOP-SYSTEM:MODE is an example of how the installation can be stopped by a mode job. The mode job prints out warnings and asks the users to log out after 3 minutes. The installation is then stopped. No activity is checked before being stopped. When stopping the system, it is often necessary to give special attention to certain files or processes. The use of a mode file is therefore not always appropriate.

The configuration has these non-standard extensions: 2 terminals, 2 batch processors, 2 printers with spooling, COSMOS Basic Module with 4 TADs, and an ND-500 CPU. The User Environment is standard.

```
@CC =========================================================================
@CC STOP-SYSTEM:MODE (UPDATED 01.06.86).
@CC =========================================================================
@CC
@HOLD 0,0
@SET-UNAVAILABLE $THE COMPUTER IS BEING STOPPED!$
@SCHEDULE 1205B
@MAIL
@DIRECT-BROADCAST

**********************************
*    SYSTEM STOPS IN 3 MINUTES!  *
*                                *
*           LOG OUT !            *
**********************************

&
@EXIT
@HOLD 60,2
@SCHEDULE 1205B
@MAIL
@DIRECT-BROADCAST
```

Norsk Data ND-30.003.7 EN

---

## Page 410

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX H

```
*********************************************
*       SYSTEM STOPS IN 2 MINUTES!          *
*            LOG OUT !                      *
*********************************************
```

```
&
@EXIT
@HOLD 60,2
@SCHEDULE 1205B
@MAIL
@DIRECT-BROADCAST
```

```
*********************************************
*         SYSTEM STOPS IN 1 MINUTE!         *
*            LOG OUT !                      *
*********************************************
```

```
&
@EXIT
@HOLD 60,2
@SCHEDULE 1205B
@MAIL
@DIRECT-BROADCAST
```

```
*******************************************************
*                                                     *
*            SYSTEM STOPS NOW !!!                     *
*******************************************************
```

```
&
@EXIT
@HOLD 15,2
@CC
@CC  ==================================================
@CC  STOP ALL TERMINALS DIRECTLY CONNECTED TO THE SYSTEM.
@CC  ==================================================
@CC
@STOP-TERMINAL 36D
@STOP-TERMINAL 37D
@CC
@CC  ==================================================
@CC  STOP ALL PRINTERS AND SPOOLING.
@CC  (TERMINALS 38D AND 39D IN THIS CONFIGURATION.)
@CC  ==================================================
@CC
@STOP-PRINT PHILIPS
@STOP-PRINT LINE-PRINTER
@STOP-SPOOLING PHILIPS
@STOP-SPOOLING LINE-PRINTER
@CC
```

Norsk Data ND-30.003.7 EN

---

## Page 411

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX H

### @CC =====================================================================

@CC STOP ALL TADS CONNECTED TO THE SYSTEM (IF COSMOS BASIC MODULE).

@CC =====================================================================

@CC

@STOP-TERMINAL 769D  
@STOP-TERMINAL 770D  
@STOP-TERMINAL 771D  
@STOP-TERMINAL 772D  

@CC  
@CC =====================================================================

@CC STOP ALL BATCH PROCESSORS.

@CC =====================================================================

@ABORT-BATCH 1  
@ABORT-BATCH 2  

@CC  
@CC =====================================================================

@CC STOP USER ENVIRONMENT.

@CC =====================================================================

@UE-FUNC-EN STOP-PROFILE-MANAGER  

@CC  
@CC =====================================================================

@CC STOP XMSG (USED BY PROGRAMS REQUIRING INTER-COMMUNICATION).

@CC =====================================================================

@SINTRAN-SERVICE-PROGRAM  
@STOP-XMSG  
@EXIT  

@CC  
@CC =====================================================================

@CC STOP ND-500 (CONFIGURATION DEPENDENT).

@CC =====================================================================

@CC  
@ND-500-MONITOR  
STOP-ND-500  
@STOP-SYSTEM  

---

Norsk Data ND-30.003.7 EN

---

## Page 412

# H.2 Example of the batch file LOAD-MODE:BATC

The batch file LOAD-MODE:BATC is appended to a batch processor and run in every warm start. The main purpose of this file is to start different processes.

The configuration has these non-standard extensions: 2 extra disk packs, 2 batch processors, 2 printers with spooling, COSMOS Basic Module and an ND-500 CPU. The User Environment is standard.

```
@ENTER SYSTEM,SECRET-PASSWORD,,313
@CC ==============================================================
@CC (SYSTEM)LOAD-MODE:BATC (UPDATED 01.06.86).
@CC ==============================================================
@SET-UNAVAILABLE $'THE COMPUTER IS BEING WARM-STARTED$'
@CC ==============================================================
@CC ENTER ALL DIRECTORIES EXCEPT THE DIRECTORY WITH SINTRAN, AND SET
@CC THEM DEFAULT. DEFINE FLOPPY DRIVES IN THE DIRECTORY TABLE.
@CC ==============================================================
@CC
@ENTER-DIRECTORY PACK-TWO DISC-70MB-1,1
@ENTER-DIRECTORY PACK-THREE DISC-70MB-1 2
@SET-DEFAULT-DIRECTORY PACK-TWO
@SET-DEFAULT-DIRECTORY PACK-THREE
@DEFINE-MASS-STORAGE-UNIT FLOPPY-DISC-1 0
@DEFINE-MASS-STORAGE-UNIT FLOPPY-DISC-1 1
@CC ==============================================================
@CC START PRINTERS WITH SPOOLING.
@CC ==============================================================
@CC
@START-SPOOLING PHILIPS
@START-SPOOLING LINE-PRINTER
@CC ==============================================================
@CC START ALL BATCH PROCESSORS (EXCEPT FROM NO. 1 RUNNING THIS JOB).
@CC ==============================================================
@CC
@BATCH 2
@CC ==============================================================
@CC START XMSG AND DEFINE NETWORK ROUTING.
@CC ==============================================================
@CC
@MODE (UTILITY)XMSG-START:MODE,,,
```

---

## Page 413

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX H  

```
@CC ============================================================
@CC START COSMOS BASIC MODULE: TADS, SPOOLING AND FILE SERVER
@CC (CONFIGURATION DEPENDENT).
@CC ============================================================
@CC
@RTON COSPØ
@START-SPOOLING COSMOS-SPOOLING
@MODE (UTILITY)COS-DEF-PRINT:MODE,,
@MODE (UTILITY)COS-FA-SERV:MODE,,
@RT XFTØ
@START-TADADM
@CC
@CC ============================================================
@CC START USER ENVIRONMENT.
@CC ============================================================
@CC
@UE-FUNC-EN START-PROFILE-MANAGER
@CC
@CC ============================================================
@CC START ND-500 (CONFIGURATION DEPENDENT).
@CC ============================================================
@CC
@ND-500-MONITOR
START-SWAPPER
EXIT
@CC
@CC ============================================================
@CC SET SYSTEM AVAILABLE FOR THE USERS.
@CC ============================================================
@CC
@SET-AVAILABLE
@OPERATOR $ *** WARM START FINISHED *** $
@MAIL
@DIRECT-BROADCAST
$$

********************************************  
**                                        **  
**    THE COMPUTER IS AVAILABLE           **  
**                                        **  
********************************************  

$$
&
EXIT
&&
```

Norsk Data ND-30.003.7 EN

---

## Page 414

# H.3 Example of the mode file HENT-MODE:MODE

The mode file HENT-MODE:MODE must be run in every cold start. One of the main tasks for this job is to rebuild the segment file(s).

The configuration has these non-standard extensions: 2 printers with spooling, COSMOS Basic Module, NOTIS-WP for ND-100 and an ND-500 CPU. The User Environment is standard.

```
@CC ===================================================================
@CC (SYSTEM)HENT-MODE:MODE (UPDATED 01.06.86).
@CC ===================================================================
@CC
@CC ===================================================================
@CC DEFINE INITIAL COMMANDS TO ENTER THE MAIN DIRECTORY,
@CC DEFINE ERROR DEVICE AND MAKE BATCH PROCESSOR 1 RUN LOAD-MODE FILE
@CC ===================================================================
@CC
@SET-UNAVAILABLE $THE COMPUTER IS BEING COLD-STARTED$
@INITIAL-COMMAND ENTER-DIRECTORY PACK-ONE DISC-70MB-1 0
@NEXT-INITIAL-COMMAND CONNECT-FILE SYSTEM-OUTPUT-1 105 W
@NEXT-INITIAL-COMMAND CLOSE-FILE 105
@NEXT-INITIAL-COMMAND SET-ERROR-DEVICE 1
@NEXT-INITIAL-COMMAND BATCH 1
@NEXT-INITIAL-COMMAND APPEND-BATCH 1 LOAD-MODE:BATC SYSTEM-OUTPUT-1
@CC
@CC ===================================================================
@CC ENTER ALL DIRECTORIES INVOLVED IN A COLD START AND SET THEM
@CC DEFAULT, EXCEPT THE MAIN DIRECTORY ENTERED MANUALLY.
@CC ===================================================================
@CC
@ENTER-DIRECTORY PACK-TWO DISC-70MB-1,1
@ENTER-DIRECTORY PACK-THREE DISC-70MB-1 2
@SET-DEFAULT-DIRECTORY PACK-TWO
@SET-DEFAULT-DIRECTORY PACK-THREE
@CC
@CC ===================================================================
@CC DEFINE THE SEGMENT FILE TO LOAD ON, LOAD BACKGROUND PROGRAMS
@CC AND DMAC ONTO THE SEGMENT FILE SEGFILE0.
@CC ===================================================================
@CC
@SINTRAN-SERVICE
@DEFINE-SEGMENT-FILE Y Y 0 SEGFILE0:DATA
@EXIT
@INITIALIZE-BACKGROUND-PROGRAMS
@RTENTER
```

Norsk Data ND-30.003.7 EN

---

## Page 415

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX H  

@RT-LOADER  
READ-BINARY (BPUN-FILES)DMAC-1915F:BPUN 7  
YES  
END-LOAD  
EXIT  

## INITIALIZE, AND START MAIL SYSTEM  

@MAIL  
@INITIALIZE 10  
@RUN-MAIL  
@EXIT  

## EMPTY ALL SPOOLING FILES (IF SPOOLING IS INCLUDED)  

@OPEN-FILE PHILIPS::2 R  
@OPEN-FILE PHILIPS::3 R  
@OPEN-FILE PHILIPS::4 R  
@OPEN-FILE PHILIPS::5 R  
@OPEN-FILE PHILIPS::6 R  
@OPEN-FILE PHILIPS::7 R  
@OPEN-FILE PHILIPS::8 R  
@OPEN-FILE PHILIPS::9 R  
@OPEN-FILE PHILIPS::10 R  
@CLOSE-FILE -1  
@OPEN-FILE LINE-PRINTER::2 R  
@OPEN-FILE LINE-PRINTER::3 R  
@OPEN-FILE LINE-PRINTER::4 R  
@OPEN-FILE LINE-PRINTER::5 R  
@OPEN-FILE LINE-PRINTER::7 R  
@OPEN-FILE LINE-PRINTER::8 R  
@OPEN-FILE LINE-PRINTER::9 R  
@OPEN-FILE LINE-PRINTER::10 R  
@CLOSE-FILE -1  

## LOAD AND ENABLE USER ENVIRONMENT  

@MODE (USER-ENVIRONMENT)UE-LOAD:MODE,,,  
@MODE (USER-ENVIRONMENT)UE-ENABLE:MODE,,,  

Norsk Data ND-30.003.7 EN

---

## Page 416

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX H

```
@CC
@CC ============================================================================
@CC LOAD XMSG (COSMOS REQUIRES THE INTER-SYSTEM VERSION).
@CC ============================================================================
@CC
@MODE (UTILITY)XMSG-LOAD:MODE,,,
@CC
@CC ============================================================================
@CC LOAD COSMOS BASIC MODULE (CONFIGURATION DEPENDENT):
@CC FILE TRANSFER, COSMOS SPOOLING AND REMOTE FILE ACCESS.
@CC ============================================================================
@CC
@MODE (UTILITY)COS-XFTRA:MODE,,
@MODE (UTILITY)COS-COSP-VSX:MODE,,
@MODE (UTILITY)COS-FAU-VSX:MODE,,
@MODE (UTILITY)COS-FSART:MODE,,
@CC
@CC ============================================================================
@CC LOAD EDITOR AND PRINT SEGMENTS FOR ND-100 NOTIS-WP, AND DEFINE
@CC IT AS A REENTRANT SUBSYSTEM.
@CC ============================================================================
@CC
@MODE (UTILITY)WP-DUMP:MODE,,,
@CC
@CC ============================================================================
@CC RUN MODE FILE TO DUMP PROGRAMS AS REENTRANT (SYSTEM DEPENDENT).
@CC ============================================================================
@CC
@MODE (UTILITY)DUMP-REENTRANT:MODE,,,
@CC
@CC ============================================================================
@CC IF THIS IS AN ND-500 SYSTEM, THEN INITIALIZE IT.
@CC ============================================================================
@CC
@CC MODE ND5OO-HENT:MODE,,,
@CC
@CC ============================================================================
@CC FINALLY, DO THE FUNCTIONS AS AFTER A WARM START.
@CC ============================================================================
@CC
@CCONNECT-FILE SYSTEM-OUTPUT-1 105 W
@CLOSE-FILE 105
@SET-ERROR-DEVICE 1
@BATCH 1
@APPEND-BATCH 1 LOAD-MODE:BATC SYSTEM-OUTPUT-1
```

Norsk Data ND-30.003.7 EN

---

## Page 417

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX H

---

### H.4 Example of the mode file DUMP-REENTRANT:MODE

The mode file DUMP-REENTRANT is run in every cold start (included in the HENT-MODE file). It makes the most-used ND-100 programs in the system reentrant.

```
@CC ======================================================
@CC (UTILITY)DUMP-REENTRANT:MODE (UPDATED 01.06.86.).
@CC ======================================================
@CC
@CC ======================================================
@CC DEFINE STANDARD SOFTWARE AS REENTRANT SUBSYSTEMS.
@CC ======================================================
@CC
@DUMP-PROGRAM-REENTRANT BACKUP-SYSTEM (UTILITY)BACKUP-H:PROG BACKSYS
@DUMP-PROGRAM-REENTRANT BRF-LINKER-B (PROG-FILE)BRF-LINKER:PROG BRFLINK
@DUMP-REENTRANT DEBUGGER-F 0 1 (BPUN-FILES)DEBUGGER-F:BPUN DEBUG
@CC
@CC ======================================================
@CC DEFINE SYSTEM DEPENDENT SOFTWARE AS REENTRANT SUBSYSTEMS.
@CC ======================================================
@CC PROGRAMS INCLUDED IN COSMOS BASIC MODULE.
@CC ======================================================
@DUMP-PROGRAM-REENTRANT CONNECT-TO (UTILITY)COS-CONN-TO CCT
@DEFINE-REENTRANT-PROGRAM LIST-SYSTEMS 2 3 CCT
@DUMP-PROGRAM-REENTRANT TRANSFER-FILE (UTILITY)COS-FILE-TRA CFT
@DEFINE-REENTRANT-PROGRAM TRANSFER 2 2 CFT
@DEFINE-REENTRANT-PROGRAM REMOTE-BATCH 3 3 CFT
@DEFINE-REENTRANT-PROGRAM COMPRESS 4 4 CFT
@DEFINE-REENTRANT-PROGRAM COMPRESS-FILE 5 5 CFT
@DUMP-PROGRAM-REENTRANT FA-SERVER-TAD (UTILITY)COS-FA-SERV FASERV
@DUMP-PROGRAM-REENTRANT FS-ADMINISTRATOR (UTILITY)COS-FS-ADMIN FSADM
@DUMP-PROGRAM-REENTRANT COS-SPOOL-SERVIC (UTILITY)COS-SPOO-SER
@CC
@CC ======================================================
@CC THE XMSG COMMAND PROGRAM.
@CC ======================================================
@CC
@DUMP-PROGRAM-REENTRANT XMSG-COMMAND (UTILITY)XMSG-COMMAND:PROG XMSGCMD
@CC
@CC ======================================================
@CC PROGRAMMING LANGUAGES AND PED.
@CC ======================================================
@CC
@DUMP-PROGRAM-REENTRANT PLANC-100 (PROG-FILES)FORTRAN-100:PROG FOR100
@DUMP-PROGRAM-REENTRANT FORTRAN-100 (PROG-FILES)PLANC-100:PROG PLA100
@DUMP-REENTRANT PED-ENG 0 1 (BPUN-FILES)PED-ENG:BPUN
```

Norsk Data ND-30.003.7 EN

---

## Page 418

# H.5 Example of the mode file ND500-HENT:MODE

The mode file ND500-HENT is run in every cold start (included in the HENT-MODE file). It defines the ND-500 Background Monitor as a reentrant program and runs the mode file STANDARD-DOMAINS.

```
@CC ==========================================================================
@CC ND500-HENT:MODE (UPDATED 01.06.86.).
@CC ==========================================================================
@CC 
@CC ==========================================================================
@CC MAKE THE ND-500 BACKGROUND MONITOR REENTRANT.
@CC ==========================================================================
@CC 
@DUMP-PROGRAM-REENTRANT ND-500-MONITOR (UTILITY)ND-500-MONIT-H ND500M
@CC 
@CC ==========================================================================
@CC DEFINE SOME ND-500 PROGRAMS AS STANDARD DOMAINS.
@CC ==========================================================================
@CC 
@MODE (UTILITY)STANDARD-DOMAINS:MODE,,,
@CC 
CC ==========================================================================
CC  DEFINE SWAP FILE(S) FOR ND-500 PROCESSES.
CC ==========================================================================
CC 
DEFINE-SWAP-FILE (SYSTEM)SWAP-FILE-0:SWAP
DEFINE-SWAP-FILE (SYSTEM)SWAP-FILE-1:SWAP
```

Norsk Data ND-30.003.7 EN

---

## Page 419

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX H

---

## H.6 Example of the mode file STANDARD-DOMAINS:MODE

The mode file STANDARD-DOMAINS for ND-500 configurations is run in every cold start (included in the ND-500-HENT file). It defines the most-used ND-500 programs as standard domains.

```
===============================================================================
@CC (UTILITY)STANDARD-DOMAINS:MODE (UPDATED 01.06.86.).
===============================================================================

@CC
@ND-500-MONITOR
@CC

===============================================================================
CC DEFINE STANDARD SOFTWARE AS STANDARD DOMAINS.
===============================================================================

ABORT-BATCH-ON-ERROR OFF
DEFINE-STANDARD-DOMAIN LINKAGE-LOADER (DOMAINS)LINKAGE-LOADER-F
DEFINE-STANDARD-DOMAIN DEBUGGER-500 (DOMAINS)DEBUGGER-500

===============================================================================
CC DEFINE SYSTEM DEPENDENT SOFTWARE AS STANDARD DOMAINS.
===============================================================================

DEFINE-STANDARD-DOMAIN NOTIS-WP-EN-L (DOMAINS)NOTIS-WP-EN-L
DEFINE-STANDARD-DOMAIN NOTIS-WP-EN-M (DOMAINS)NOTIS-WP-EN-M
DEFINE-STANDARD-DOMAIN PED-500-EN-K (DOMAINS)PED-500-EN-K
DEFINE-STANDARD-DOMAIN FORTRAN-500 (DOMAINS)FORTRAN-500-I
DEFINE-STANDARD-DOMAIN PLANC-500 (DOMAINS)PLANC-500-F
EXIT
```

Norsk Data ND-30.003.7 EN

---

## Page 420

# H.7 Example of the mode file TERMINAL-SETUP:MODE

The mode file TERMINAL-SETUP is only run when SINTRAN has been loaded from diskette. It tells SINTRAN the functional characteristics of all the terminals and printers connected to the system (e.g. terminal type). The definitions are saved in all three parts of SINTRAN (memory, image and save-area) in this example, and it is therefore not necessary to run this mode job in an ordinary cold start.

```
CC =================================================================
@CC (UTILITY)TERMINAL-SETUP:MODE (UPDATED 01.06.86).
CC =================================================================
@CC
@SINTRAN-SERVICE-PROGRAM
@CHANGE-DATAFIELD 1 I Y Y Y     CONSOLE (TANDBERG TDV 2200/9)
TSPEED/210
CTTYP/166065
DFLAG/1000
ROUSPEC/0
.
@CHANGE-DATAFIELD 7D I Y Y Y    ERROR DEVICE (EPSON RX-80) ON
OWN LINE
TSPEED/210
DFLAG/1000
ROUSPEC/0
.
@CHANGE-DATAFIELD 36D I Y Y Y   TERM 36 (TANDBERG TDV 2200/9S)
TSPEED/270
CTTYP/166135
DFLAG/1000
ROUSPEC/0
.
@CHANGE-DATAFIELD 37D I Y Y Y   TERM 37 (FACIT TWIST)
TSPEED/270
CTTYP/166133
DFLAG/1000
ROUSPEC/0
.
@CHANGE-DATAFIELD 38D I Y Y Y   PRINTER (PHILIPS GP300L)
TSPEED/210
DFLAG/1000
ROUSPEC/0
.
@CHANGE-DATAFIELD 39D I Y Y Y   LINE-PRINTER (TERMINET)
TSPEED/210
DFLAG/1000
ROUSPEC/0
.
@EXIT
```

Norsk Data ND-30.003.7 EN

---

## Page 421

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX I

---

### APPENDIX I

#### EXAMPLE OF INFORMATION FOUND IN CSI

> The following is a Tech Hint from the Customer Support Information, issued September 1986:

---

### TECH HINTS

#### Problems navigating with the arrow keys when using NOTIS on the Facit 4430 Twist terminal (ND-103090)

There has been a problem with letters appearing at random on the display when using the arrow keys to navigate through a document in NOTIS-WP. (Ref. Tech Hints - Jan. 86). To reduce the effects of this problem, we advise changing the input buffer size in SINTRAN-III version I through K. This is, however, not possible on SINTRAN-III version I VSX.

SINTRAN-III versions I through K are by default generated with four terminals per page of memory, which gives an input buffer of 56 octal words (134 octal bytes). To achieve maximum utilization of the pages in SINTRAN-III version I through K, we advise one of the following settings:

| Input buffer size (in octal words) | terminal(s) per page |
|------------------------------------|----------------------|
| 56                                 | gives 4              |
| 203                                | " 3                  |
| 456                                | " 2                  |
| 1456                               | " 1                  |

As user SYSTEM, do the following to change the input buffer size (the larger the buffer, the smaller the problem):

Use the @WHO command to find the terminal number (XXX) of the terminal in question. Then:

```
@SINTRAN-SERVICE-PROGRAM

*CHANGE-BUFFER-SIZE
LOG.UNIT NO.: XXXD
INPUT OR OUTPUT? I
BUFFER SIZE IN WORDS: XXX
IMAGE? Y
SAVE-AREA? Y

*EXIT
@
```

Perform a warm-start to put the patch into effect. SHOW=

---

Norsk Data ND-30.003.7 EN

---

## Page 422

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX I

NOTE: The command CHANGE-BUFFER-SIZE cannot be used in SINTRAN-III version J VSX to change the input buffer size for a terminal.; Still as user SYSTEM, do the following to enable SINTRAN to accept XON/XOFF from the terminal:

```
@SINTRAN-SERVICE-PROGRAM

*CHANGE-DATAFIELD
LOG.UNIT NO.: <XXX>D
INPUT OR OUTPUT? I
MEMORY? Y
IMAGE? Y
SAVE-AREA? Y

MEMORY IMAGE SAVE-AREA

DFLAG/ - - - 1001<CR>

*EXIT
@
```

The "XON/XOFF FROM HOST" switch in SET-UP B in the terminal should be set to DATA, not PROTOCOL. Also confirm that the "PROTOCOL" switch is set to XON/XOFF, not READY-BUSY.

Save this change with <Shift> + S

Norsk Data ND-30.003.7 EN

---

## Page 423

# APPENDIX J

## EXAMPLE OF PRODUCT DESCRIPTION (PD) SHEETS

| Date <yy.mm.dd.> | Norsk Data A/S     | Page 1 of 3 |
|------------------|--------------------|-------------|
|                  | PROGRAM DESCRIPTION |             |

| Product          | Name          | ND-no.  | Category |
|------------------|---------------|---------|----------|
| PLANC for ND-100 |               | 10309F  | STPR     |

| Reason             | x Change/Addition | x Error Correction |
|--------------------|-------------------|--------------------|
| Documentation      | Title             | ND-Number.         |
|                    | PLANC Reference Manual | 60.117.5 EN    |

**Purpose**  
Compile and execute PLANC programs.

**Prerequisites**

| Computer | Type | Floating format | Op. system | Version |
|----------|------|-----------------|------------|---------|
| NORD-10  | 32/48-Bit | Sin III   | All        |
| ND-100   | All  | 32/48-Bit     | Sin III    | All     |

**Minimum mass-storage resources for installation**

| User   | Userspace | Number of files |
|--------|-----------|-----------------|
| System | 109 pages on 3 files |       |

| ND-no. for Source |
|-------------------|
| 10370F            |

| Prog.no. | File Name         | Type | Containing         |
|----------|-------------------|------|--------------------|
| 203654F  | PLANC-100-F<rev>  | PROG | PLANC-100 Compiler |
| 203453F  | PLANC-1BANK-F<rev>| BRF  | Runtime System     |
| 203454F  | PLANC-2BANK-F<rev>| BRF  | Runtime System     |

**NOTE:** `<rev>` must be replaced by the current revision of the product.

## ERRORS CORRECTED

- During formatted numeric input, when a space has been used as a delimiter for the input ASCII string, the descriptor specifies that the INTEGER input was erroneous.

- With Z-format in formatted numeric output, lower case z gave decimal output without leading zeroes.

- RT-programs written in PLANC aborted when Sintran File System error messages were reported.

- ....

- ....

---

Norsk Data ND-30.003.7 EN

---

## Page 424

# MODIFICATIONS, NEW FEATURES

- **MONITOR_CALL(param1,param2,...)**

  This new standard routine produces a call to a monitor call library, and may have different number and type of parameters as opposed to the PLANC standard. The first parameter has to be of type INTEGER, or BYTES. If INTEGER, it is the monitor call number. If BYTES, it has to be a BYTES constant, and this constant must be the name of a monitor call. The monitor names are found in the SINTRAN III Reference Manual. The next parameter(s) is/are the parameter(s) to the monitor call. The monitor call library will be released in the near future, and with it, a reference manual.

- JEC codes are output in order to terminate batch jobs properly.

- Some new commands are implemented: .... ....

# WEAK POINTS AND WARNINGS TO THE USER

- New users of PLANC are advised to read the appendix in the PLANC Reference Manual concerning implementation restrictions, which describes various restrictions that may cause users difficulties. Some of these, which have resulted in error reports, are mentioned below.

- The argument to ADDR must not be enclosed in parentheses if it is a routine data element. This will result in a call to the routine!

- The inline assembler/disassembler does not include the mnemonics in the list below: .... ....

# INSTALLATION PROCEDURE

- In the following text, <rev> must be replaced by the current revision number.

- The PLANC for ND-100 compiler system consists of the following files: PLANC-100-F<rev>:PROG % The compiler PLANC-1BANK-F<rev>:BRF % Runtime system 1 bank PLANC-2BANK-F<rev>:BRF % Runtime system 2 bank Enter the directory named 10309F<rev>-1 and copy all the files to user SYSTEM.

- SINTRAN version H or earlier. Make the file PLANC-100-F<rev>:BPUN using the subsystem:

  ```
  @DITAP "PLANC-100-F<rev>" PLANC-100-F<rev>
  ```

  Dump the compiler as a reentrant subsystem, using the SINTRAN command:

  ```
  @DUMP-REENTRANT PLANC-100-F<rev>,0,1,PLANC-100-F<rev>
  ```

  Please note that the file, PLANC-100-F<rev>:PROG, must not be deleted after the reentrant subsystem is generated!


Norsk Data ND-30.003.7 EN

---

## Page 425

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX J

- SINTRAN version I or later. Dump the compiler as a reentrant subsystem, using the SINTRAN command:
  ```
  @DUMP-PROGRAM-REENTRANT PLANC-100-F<rev> PLANC-100-F<rev>
  ```

- The PLANC for ND-100 compiler must have a terminal background segment of 128K words. The background segment size can be changed by the SINTRAN command:
  ```
  @CHANGE-BACKGROUND-SEGMENT-SIZE <terminal number>, 128
  ```

---

Norsk Data ND-30.003.7 EN

---

## Page 426

# SINTRAN III SYSTEM SUPERVISOR

Norsk Data ND-30.003.7 EN

---

## Page 427

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX K  

# APPENDIX K  
## SWITCH SETTINGS (ADVANCED)  

This appendix explains briefly some of the most important switch settings within the computer system. In general all peripherals and interface/controller cards have some kind of settings.  

> **NOTE!** Switch settings should only be altered by qualified service personnel. Your service contract may restrict access to ND service personnel. Check your service contract before changing any settings.  

| Symbols used on card drawings |  |  |  |
|---|---|---|---|
| TH | | | ● |
| thumbwheel switch | switch (two positions) | | light indicator |  

## K.1 ND-100, ND-100/CX, ND-110/CX CPUs  

ND-100 and ND-100/CX CPUs are placed in the leftmost slot (position 1) in the card crate. The ND-110 and ND-110/CX is placed in slot 2.  

upper, front edge  

**ND-100 & ND-100/CX**  

- **TH** Console transmission speed  
- **TH ALD**  
- ● Green  
- ● Red₁  

**ND-110/CX**  

- **TH ALD**  
- **TH** Console transmission speed  
- ● Green  
- ● Red₁  
- ● Red₂  
- **TH** Cache ON/OFF  

| Plugs |  | ND-100 & ND-100/CX | ND-110/CX |
|---|---|---|---|
| A | | | A |
| B | | | B |
| C | | | C |

*Figure 59. ND-100 and ND-110 CPU cards*  

Norsk Data ND-30.003.7 EN

---

## Page 428

# Light indicators

They are used to show the condition of the CPU after power-up.  
Green: CPU self-test successful. Red¹: Self-test failed.  
Both Green and Red, lit: μ-program hanging. Red²: Cache is on.

The ALD (Automatic Load Descriptor) tells the CPU what to do when the computer is restarted after a power failure (columns 3 and 4 in table 29), and where to load SINTRAN from when using the LOAD button on the operator panel (column 5). I12 (column 1) is a register inside the CPU containing a copy of the ALD setting (refer to chapter 2 about OPCOM).

| ALD pos | I12    | Key in LOCK and standby power present | Key in LOCK and standby power lost | Operator LOAD       |
|---------|--------|---------------------------------------|------------------------------------|--------------------|
| 2       | 101600 | Bin. load from 1600                   | Bin. load from 1600                | Bin. load from 1600|
| 3       | 100400 | Bin. load from 400                    | Bin. load from 400                 | Bin. load from 400 |
| 4       | 121540 | Mass load from 1540                   | Mass load from 1540                | Mass load from 1540|
| 5       | 120500 | Mass load from 500                    | Mass load from 500                 | Mass load from 500 |
| 6       | 101560 | Bin. load from 1560                   | Bin. load from 1560                | Bin. load from 1560|
| 7       | 100000 | STOP                                  | STOP                               | No loading done    |
| 8-9     | --     | Start in addr. 20                     |                                    |                    |
| 10      | 1600   | -- "--                                | Bin. load from 1600                | Bin. load from 1600|
| 11      | 400    | -- "--                                | Bin. load from 400                 | Bin. load from 400 |
| 12      | 21540  | -- "--                                | Mass load from 1540                | Mass load from 1540|
| 13      | 20500  | -- "--                                | Mass load from 500                 | Mass load from 500 |
| 14      | 1560   | -- "--                                | Bin. load from 1560                | Bin. load from 1560|
| 15      | 0      | -- "--                                | STOP                               | No loading done    |

*Table 29. The ALD setting on the CPU card*

# Additional explanations

bin. = binary load format (e.g. stand-alone programs from floppy)  
mass = mass storage load format (e.g. SINTRAN from disk)  
addr. = address

Which device to load from:

- 500 ST-506 Winchester disk
- 400 paper TAPE-READER-1
- 1540 SMD disks
- 1560 FLOPPY-DISC-1 (unit 0)
- 1600 HDLC Remote load 1

(It is only possible to select device unit 0.)

---

Norsk Data ND-30.003.7 EN

---

## Page 429

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX K

**NOTE!** The key on the operator panel should normally be left in LOCK position. If the key is the ON position, the computer will enter STOP mode after a power failure and must be started manually.

The initial transmission speed for the console (terminal 1) is set by a thumbwheel switch. The speed can later on be changed by programming.

| TH pos. | Transmission speed BPS (in equal to out) | TH pos. | Transmission speed BPS (in equal to out) |
|---------|--------------------------------------|---------|--------------------------------------|
| 0       | 110                                  | 8       | 2400                                 |
| 1       | 150                                  | 9       | 600                                  |
| 2       | 300                                  | 10      | 200                                  |
| 3       | 2400                                 | 11      | 134.5                                |
| 4       | 1200                                 | 12      | 75                                   |
| 5       | 1800                                 | 13      | 50                                   |
| 6       | 4800                                 | 14      | Not used                             |
| 7       | 9600                                 | 15      | Telefix dependent                    |

*Table 30. Console transmission speed*

Norsk Data ND-30.003.7 EN

---

## Page 430

# K.2 Telefix switch settings on the new operator panel

```
"REMOTE control" 
"LISTEN" 
```

- **Telephone network to ND Service Centre**
  - modem
  - Telefix module
  - terminal inlet
  - ND-100 CPU
  - Console terminal
  - operator display

![Operator Panel Diagram](image.png)

*Figure 60. The Telefix switches on the operator panel*

The switch SW determines the operational mode of Telefix when the modem receives a carrier.

| SW position | Telefix mode           |
|-------------|------------------------|
| LOCAL       | LOCAL and LISTEN OFF   |
| REMOTE      | REMOTE and LISTEN OFF  |

> **NOTE!** To prevent losing control of the computer, you are strongly advised to set the switch to "LOCAL" when Telefix is not in use.

Norsk Data ND-30.003.7 EN

---

## Page 431

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX K  

The Telefix module has transmission speed settings for both the console terminal and the modem. The transmission speed for these devices cannot be changed by programming.

| switch position | transmission speed BPS |
|-----------------|------------------------|
| 0               | 50                     |
| 1               | 75                     |
| 2               | 110                    |
| 3               | 134.5                  |
| 4               | 150                    |
| 5               | 300                    |
| 6               | 600                    |
| 7               | 1200                   |

| switch position | transmission speed BPS |
|-----------------|------------------------|
| 8               | 1800                   |
| 9               | 2000                   |
| A               | 2400                   |
| B               | 3600                   |
| C               | 4800                   |
| D               | 7200                   |
| E               | 9600                   |
| F               | 19200                  |

*Table 31. Console and modem transmission speed when using Telefix*

# K.3 ND-100 terminal interfaces  

Communication mode (0: Current Loop, 1: RS232-C)

```
Trans.       | Trans.
speed A      | speed A
  | 1 [ ] A  | 1 [ ] A
Terminal     | Terminal
group A      | group A
  | 2 [ ]    |   (extended)
  | 3 [ ]    |
-------------------------------------------
Trans.       | Trans.
speed B      | speed B
  | 1 [ ] B  | Group A
Terminal     |
group B      |   [ ]
  | 2 [ ]    |  2 [ ] B
  | 3 [ ]    |   
-------------------------------------------
Terminal     | Group B
group A      |   [ ]
  | 4 [ ] C  | Terminal
             |   group B
-------------------------------------------
Card 3013    |  (extended)
             |   [ ] 3
             |  4 [ ] C
-------------------------------------------
             | Card 3107
```

Norsk Data ND-30.003.7 EN

---

## Page 432

# Communication Mode

**0:** Current loop  
**1:** RS232-C

```
    1  Interface
    2  group A
    [TH] Trans. speed
    group A
    group B
    3  Interface
    4  group A
    1  Card 3111 (FIFO)
    2  group B
    [TH] Terminal
    group A
    [TH] select
    [TH] Terminal
    group B
    [TH] select
    3  Interface
    4  group B
```

*Figure 61. Terminal interfaces*

In terms of hardware, terminals are divided into groups of four. On the cards, they are called groups A and B. Only the communication mode can be selected individually for each terminal. All other settings concern the whole group. The transmission speed can later be changed for each terminal by means of programming.

| TH Transmission speed | TH Transmission speed |
|-----------------------|-----------------------|
| pos. BPS (in equal to out) | pos. BPS (in equal to out) |
| 0  | 110   | 9  | 600   |
| 1  | 150   | 10 | 200   |
| 2  | 300   | 11 | 134.5 |
| 3  | 2400  | 12 | 75    |
| 4  | 1200  | 13 | 50    |
| 5  | 1800  |     |      |
| 6  | 4800  | 3013 3107/3111 3111 FIFO |
| 7  | 9600  | 14 | 100  100 |
| 8  | 2400  | 15 | -  100   19200(1) |

(1) Note that this speed is only supported for use with RS232-C

*Table 32. Terminal transmission speed*

The logical device number used by terminals (same as terminal number) is determined when the terminal group is selected. If the BAS (Background Allocation System) is not used, there is also a fixed

Norsk Data ND-30.003.7 EN

---

## Page 433

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX K

Connection between a device number and a background program. The scratch file index is always equal to the index of the background program (i.e., BAKxx uses SCRATCHxx).

| Group number | Logical device number | Physical device number | BAK process | Group number | Logical device number | Physical device number | BAK process |
|--------------|------------------------|------------------------|-------------|--------------|------------------------|------------------------|-------------|
| 0            | 1                      | 300B                   | BAK01       | 16           | 2000B                  | 140400B                | BAK65       |
|              | 9                      | 310B                   | BAK02       |              | 2001B                  | 140410B                | BAK66       |
|              | 34                     | 320B                   | BAK03       |              | 2002B                  | 140420B                | BAK67       |
|              | 35                     | 330B                   | BAK04       |              | 2003B                  | 140430B                | BAK68       |
| 1            | 36                     | 340B                   | BAK05       | 17           | 2004B                  | 140440B                | BAK69       |
|              | 37                     | 350B                   | BAK06       |              | 2005B                  | 140450B                | BAK70       |
|              | 38                     | 360B                   | BAK07       |              | 2006B                  | 140460B                | BAK71       |
|              | 39                     | 370B                   | BAK08       |              | 2007B                  | 140470B                | BAK72       |
| 2            | 48                     | 1300B                  | BAK09       | 18           | 2010B                  | 140500B                | BAK73       |
|              | 49                     | 1310B                  | BAK10       |              | 2011B                  | 140510B                | BAK74       |
|              | 50                     | 1320B                  | BAK11       |              | 2012B                  | 140520B                | BAK75       |
|              | 51                     | 1330B                  | BAK12       |              | 2013B                  | 140530B                | BAK76       |
| 3            | 52                     | 1340B                  | BAK13       | 19           | 2014B                  | 140540B                | BAK77       |
|              | 53                     | 1350B                  | BAK14       |              | 2015B                  | 140550B                | BAK78       |
|              | 54                     | 1360B                  | BAK15       |              | 2016B                  | 140560B                | BAK79       |
|              | 55                     | 1370B                  | BAK16       |              | 2017B                  | 140570B                | BAK80       |
| 12           | 7                      | 200B                   | BAK17       | 20           | 2020B                  | 140600B                | BAK81       |
|              | 15                     | 210B                   | BAK18       |              | 2021B                  | 140610B                | BAK82       |
|              | 42                     | 220B                   | BAK19       |              | 2022B                  | 140620B                | BAK83       |
|              | 43                     | 230B                   | BAK20       |              | 2023B                  | 140630B                | BAK84       |
| 13           | 44                     | 240B                   | BAK21       | 21           | 2024B                  | 140640B                | BAK85       |
|              | 45                     | 250B                   | BAK22       |              | 2025B                  | 140650B                | BAK86       |
|              | 46                     | 250B                   | BAK23       |              | 2026B                  | 140660B                | BAK87       |
|              | 47                     | 260B                   | BAK24       |              | 2027B                  | 140670B                | BAK88       |
| 14           | 56                     | 1200B                  | BAK25       | 22           | 2030B                  | 140700B                | BAK89       |
|              | 57                     | 1210B                  | BAK26       |              | 2031B                  | 140710B                | BAK90       |
|              | 58                     | 1220B                  | BAK27       |              | 2032B                  | 140720B                | BAK91       |
|              | 59                     | 1230B                  | BAK28       |              | 2033B                  | 140730B                | BAK92       |
| 15           | 60                     | 1240B                  | BAK29       | 23           | 2034B                  | 140740B                | BAK93       |
|              | 61                     | 1250B                  | BAK30       |              | 2035B                  | 140750B                | BAK94       |
|              | 62                     | 1260B                  | BAK31       |              | 2036B                  | 140760B                | BAK95       |
|              | 63                     | 1270B                  | BAK32       |              | 2037B                  | 140770B                | BAK96       |
| 4            | 544                    | 640B                   | BAK33       | 24           | 2040B                  | 141000B                | BAK97       |
|              | 545                    | 650B                   | BAK34       |              | 2041B                  | 141010B                | BAK98       |
|              | 546                    | 660B                   | BAK35       |              | 2042B                  | 141020B                | BAK99       |
|              | 547                    | 670B                   | BAK36       |              | 2043B                  | 141030B                | BAK100      |

Norsk Data ND-30.003.7 EN

---

## Page 434

# SINTRAN III SYSTEM SUPERVISOR

## APPENDIX K

### Terminal numbers and device numbers

| Group number | Logical device number | Physic device number | BAK process |
|--------------|-----------------------|----------------------|-------------|
| 5            | 548                   | 1100B                | BAK37       |
|              | 549                   | 1110B                | BAK38       |
|              | 550                   | 1120B                | BAK39       |
|              | 551                   | 1130B                | BAK40       |
| 6            | 552                   | 1140B                | BAK41       |
|              | 553                   | 1150B                | BAK42       |
|              | 554                   | 1160B                | BAK43       |
|              | 555                   | 1170B                | BAK44       |
| 7            | 556                   | 1400B                | BAK45       |
|              | 557                   | 1410B                | BAK46       |
|              | 558                   | 1420B                | BAK77       |
|              | 559                   | 1430B                | BAK48       |
| 8            | 560                   | 1500B                | BAK49       |
|              | 561                   | 1510B                | BAK50       |
|              | 562                   | 1520B                | BAK51       |
|              | 563                   | 1530B                | BAK52       |
| 9            | 564                   | 1640B                | BAK53       |
|              | 565                   | 1650B                | BAK54       |
|              | 566                   | 1660B                | BAK55       |
|              | 567                   | 1670B                | BAK56       |
| 10           | 568                   | 1700B                | BAK57       |
|              | 569                   | 1710B                | BAK58       |
|              | 570                   | 1720B                | BAK59       |
|              | 571                   | 1730B                | BAK60       |
| 11           | 572                   | 1740B                | BAK61       |
|              | 573                   | 1750B                | BAK62       |
|              | 574                   | 1760B                | BAK63       |
|              | 575                   | 1770B                | BAK64       |

| Group number | Logical device number | Physical device number | BAK process |
|--------------|-----------------------|------------------------|-------------|
| 25           | 2044B                 | 141040B                | BK101       |
|              | 2045B                 | 141050B                | BK102       |
|              | 2046B                 | 141060B                | BK103       |
|              | 2047B                 | 141070B                | BK104       |
| 26           | 2050B                 | 141100B                | BK105       |
|              | 2051B                 | 141110B                | BK106       |
|              | 2052B                 | 141120B                | BK107       |
|              | 2053B                 | 141130B                | BK108       |
| 27           | 2054B                 | 141140B                | BK109       |
|              | 2055B                 | 141150B                | BK110       |
|              | 2056B                 | 141160B                | BK111       |
|              | 2057B                 | 141170B                | BK112       |
| 28           | 2060B                 | 141200B                | BK113       |
|              | 2061B                 | 141210B                | BK114       |
|              | 2062B                 | 141220B                | BK115       |
|              | 2063B                 | 141230B                | BK116       |
| 29           | 2064B                 | 141240B                | BK117       |
|              | 2065B                 | 141250B                | BK118       |
|              | 2066B                 | 141260B                | BK119       |
|              | 2067B                 | 141270B                | BK120       |
| 30           | 2070B                 | 141300B                | BK121       |
|              | 2071B                 | 141310B                | BK122       |
|              | 2072B                 | 141320B                | BK123       |
|              | 2073B                 | 141330B                | BK124       |
| 31           | 2074B                 | 141340B                | BK125       |
|              | 2075B                 | 141350B                | BK126       |
|              | 2076B                 | 141360B                | BK127       |
|              | 2077B                 | 141370B                | BK128       |

1. The console is always logical device number 1. The other logical device numbers in this group are normally not used.

Norsk Data ND-30.003.7 EN

---

## Page 435

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX K

## K.4 OMNI hardcopy console

The configuration of the hardcopy console is mainly done via software. A configuration switch is placed under the console's top cover.

![The OMNI hardcopy console](example-image-url)

_Figure 62. The OMNI hardcopy console_

To print the current configuration parameters:

- Set "LCL/LINE" switch to "LCL".
- Type CTRL+SHIFT+3 to get configuration status.

| Example of configuration parameters |
|-------------------------------------|
| CTRL+SHIFT+3                        |
| 16;24;32;89;92                      |
| See table 34 for explanation.       |

Norsk Data ND-30.003.7 EN

---

## Page 436

# Appendix K

## SINTRAN III System Supervisor

| NN code | Parameter category | Meaning |
|---------|---------------------|---------|
| 16      | Comm. mode          | Current loop |
| 21      | Transmission speed (BPS) | 110 |
| 22      |                     | 200 |
| 23      |                     | 300 |
| 24      |                     | 600 |
| 25      |                     | 1200 Model 820 KSR only |
| 32      | Parity bit handling | Transmit EVEN parity, no parity checkoff |
| 34      |                     | Transmit EVEN parity, parity checkoff |
| 89      | Margins             | Right margin at column 80 |
| 92      |                     | Top margin at line 3, bottom margin one less than form length |

*Table 34. Some ND-relevant OMNI configuration parameters*

### How to change configuration parameters:

- Set "LCL/LINE" switch to "LCL".
- Set the switch located under the top cover to "CONFIGURE".
- Select and enter codes from table 34 followed by RETURN.
- To delete definition, enter code and press DEL key.

Norsk Data ND-30.003.7 EN

---

## Page 437

# SINTRAN III SYSTEM SUPERVISOR  
## APPENDIX K  

---

## K.5 Tandberg 2200/9S terminal  

The terminal is configured via 5 menus. The following example explains how to configurate **COMMUNICATION SWITCHES**.

### ENTERING THE MENUS  
Type CTRL + HELP twice.

### NAVIGATION AND SELECTING  
Use arrow keys (↓) (↑) (↖) for navigation to desired menu/parameter. Use the ENTER key (on the numeric pad) for selection. You leave the menus by using the ESC key.

---

### Communication Switches

| | |
|-------------------------------|------------------|
| Send Receive Mode             | Simultaneous     |
| Echo                          | External         |
| Online                        | Toggle           |
| Communication Clock           | ASY              |
| Communication Handshake       | XON/XOFF         |
| Modem                         | Inhibit - Only for use with modem. |
| Transmission Code Length      | 7 bit            |
| Transmission Code Parity      | Even             |
| Transmission Code Stop Bits   | 2 bit            |
| Receiving Speed               | 9600             |
| Transmitting Speed            | 1200             |
| Transmission Delay            | 14ms             |
| Break Length                  | 0.1 Sec          |
| Communication Mode            | V24              |
| Printer Handshake             | Off - To be set if local printer is used. |
| Printer Code Format           | 7even            |
| Printer Speed                 | 9600             |

These parameters must be set according to your configuration. For the other parameters must no other value than the one shown here be selected.

---

**NOTE:** The parameter "Transmission Delay" is the time delay between two successive characters sent to the computer. Thus, using a value different from NONE may prevent overwriting when CSI sequences are sent.

In order to save your modifications permanently, give ENTER as answer to the question "Make Switches Permanent" when leaving the menus.

---

Norsk Data ND-30.003.7 EN

---

## Page 438

# K.6 EPSON LX-80 Printer

LX-80 cable uses part no. ND-325638. RX-80 uses cable part no. ND-325356, which has DTR signal.

![EPSON LX-80 Printer connected to Tandberg Terminal](image.png)

*Figure 63. EPSON LX-80 printer connected to Tandberg terminal*

When this printer is used as the error device, it may be connected to its own terminal line or to a Tandberg terminal. If it shares the line with a TANDBERG, SINTRAN must be informed of this:

---

Norsk Data ND-30.003.7 EN

---

## Page 439

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX K

### *CHANGE-DATAFIELD <logical device number> I Y
| TINFO/ | xxxxxx | 20! | Epson & terminal. Include this command in LOAD-MODE. |
|--------|--------|-----|------------------------------------------------------|
| DFLAG/ | xxxxxx | xxxxxx | xxxxxx | 1000J | XON/XOFF on input. |

In addition, the printer part of the communication menu in the Tandberg terminal should be:

| Printer handshake | XON/XOFF | DTR if RX-80. |
|-------------------|----------|---------------|
| Printer code format | 7even |               |
| Printer speed | 9600 |                     |

You can dump the current screen picture to the printer by typing:

**CTRL+ PRINT**

If you want a log of all input from and output to the Tandberg terminal, set the parameter **"Printer Mode"** to **"Log"** in the menu Function Switches.

---

**NOTE!** ND always configures this printer with transmission speed 9600 BPS.

---

Norsk Data ND-30.003.7 EN

---

## Page 440

# K.7 FACIT 4440 TWIST terminal

The terminal is configured via 3 SET-UP menus and 4 CUSTOM MODE menus. SET-UP menu B contains switches related to communication.

## ENTERING THE SET-UP MENUS

| Action | Description |
|--------|-------------|
| Press  | `SET-UP` key to enter (or leave) SET-UP. |
| Press  | `5` to move through the menus. |

The keys `2` through `0` now have special meanings (see explanatory text on the grey field above the keys).

## NAVIGATION AND SELECTING

Configuration parameters are divided into groups of four parameters each.

Use arrow keys (→) (←) for navigation to desired parameter. Press the key `6` to move through the legal values.

Norsk Data ND-30.003.7 EN

---

## Page 441

# SINTRAN III SYSTEM SUPERVISOR
## APPENDIX K

```
SET-UP B
```

| 1     | 2    | 3    | 4    | 5    | 6    |
|-------|------|------|------|------|------|
| xxxx  | xx1x | xxxx | 110x | 0101 | 0x11 |

- BACKSPACE KEY: Delete
- AUTO PROTOCOL: Enabled
- PROTOCOL: XON-XOFF
- XON-XOFF FROM HOST: Data
- LOCAL ECHO: Disabled
- DATA RATE TO HOST: Limited to 60 CPS
- DUPLEX: Full
- STOP BITS: 2
- DATA BITS: 7
- PARITY SENSE: Even
- PARITY: Enabled

T SPEED yyyy R SPEED yyyy

(Changed by using keys `7` or `8`)

In those cases where a specific value has been assigned to a parameter, the parameter must always have this value.

"x" means that the parameter can be set to different values according to the needs of individual users.

"y" means the parameter must be selected in accordance with the configuration.

> **NOTE!** In order to save your modifications permanently, type SHIFT+S before leaving the SET-UP menus.

You control the light intensity by using the arrow keys (↑) to increase and (↓) to decrease it in SET-UP mode.

Norsk Data ND-30.003.7 EN

---

## Page 442

# Index

| Topic                                          | Page  |
|------------------------------------------------|-------|
| ! command (OPCOM)                              | 19, 58. |
| 1-bank program                                 | 94.    |
| 10,0$ command (MACM)                           | 111.   |
| 2-bank program                                 | 94.    |
| 22! command (MACM)                             | 112.   |
| ABORT command                                  | 55.    |
| ABORT-BATCH command                            | 50.    |
| ABORT-JOB command                              | 50.    |
| ABORT-PRINT command                            | 52, 247. |
| ABORT-SERVER command (RFA)                     | 211.   |
| ACC ACCOUNTING                                 | 293.   |
| ACCOUNTING,                                    | 293.   |
| creating background project                    | 297.   |
| creating RT-project                            | 298.   |
| deleting information                           | 303.   |
| retrieving information                         | 299.   |
| Service Program                                | 296.   |
| starting                                       | 294.   |
| stopping                                       | 294.   |
| ACCRT, accounting RT program                   | 294.   |
| ACOBL (user entry)                             | 383.   |
| ADJUST-ACCOUNTING-FILE command (ACC)           | 303.   |
| ALD switch                                     | 410.   |
| ALLOCATE-FILE command                          | 144.   |
| allocated file                                 | 144.   |
| APPEND-SPOOLING-FILE command                   | 242.   |
| ASCII Characters                               | 359.   |
| Ba-sy backup System                            | 270.   |
| background                                     |        |
| allocation                                     | 96, 122, 254. |
| program                                        | 94, 169. |
| BACKGROUND-ALLOCATION-UTILITIES                |        |
| command (SINTRAN Service)                      | 255.   |
| BACKSPACE-PRINT command                        | 247.   |
| Backup                                         |        |
| command (DIR-BACKUP)                           | 288.   |
| System                                         | 270.   |
| backup,                                        | 267.   |
| advanced file selection                        | 281.   |
| automatic expansion                            | 274.   |
| copy device                                    | 269.   |
| copy directory                                 | 269.   |
| device copy                                    | 271.   |
| DIR-BACKUP (winchester streamer)               | 288.   |
| FLOPP-TO-WINCH                                 | 284.   |
| incremental                                    | 277, 279. |
| log file                                       | 278, 279. |
| magnetic tape                                  | 284.   |
| MCOPY-TANDB                                    | 284.   |
| multi-user                                     | 277.   |
| parameter file                                 | 275, 282. |
| remote                                         | 280.   |

Norsk Data ND-30.003.7 EN

---

## Page 443

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic                                                                 | Page  |
|----------------------------------------------------------------------|-------|
| selective copying                                                    | 273.  |
| stand alone                                                          | 284.  |
| WINCH-TO-FLOPP                                                       | 284.  |
| Winchester disk                                                      | 284.  |
| bad page                                                             | 151.  |
| bad spot, disk                                                       | 156.  |
| bad track, disk                                                      | 156.  |
| BAS Background Allocation System                                     | 254.  |
| batch                                                                |       |
| and mode files                                                       | 70.   |
| command                                                              | 71.   |
| processor                                                            | 50, 122. |
| battery switches (ND-100 and ND-500)                                 | 34.   |
| binary number                                                        | 357.  |
| bit-file                                                             | 133, 151, 381. |
| error                                                                | 324.  |
| bootstrap program                                                    | 64, 380. |
| broadcast (MAIL)                                                     | 290.  |
| C-S-S COSMOS Spooling Service program                                | 223.  |
| CCT COSMOS Connect-To program                                        | 183.  |
| CESC variable                                                        | 264.  |
| CFT COSMOS File-Transfer program                                     | 216.  |
| CHANGE command (DISC-TEMA)                                           | 317.  |
| CHANGE-BACKGROUND-SEGMENT-SIZE command                               | 94.   |
| CHANGE-BIT-FILE command                                              | 318.  |
| CHANGE-CONNECT-TYPE command (CCT Service program)                    | 186.  |
| CHANGE-DATAFIELD command (SINTRAN Service)                           | 259.  |
| CHANGE-DIRECTORY-ENTRY command                                       | 318.  |
| CHANGE-LOCAL-CHARACTER (CCT Service program)                         | 188.  |
| CHANGE-OBJECT-ENTRY command                                          | 318.  |
| CHANGE-PAGE command                                                  | 318.  |
| CHANGE-PASSWORD                                                      |       |
| command                                                              | 3, 134, 170. |
| command (C-S-S)                                                      | 226.  |
| CHANGE-USER-ENTRY command                                            | 318.  |
| CHANGE-VARIABLE command (SINTRAN Service)                            | 265, 353. |
| CHECKOUT command (CFT)                                               | 217.  |
| circuit breaker,                                                     |       |
| (compact)                                                            | 35.   |
| (ND-100 and ND-500)                                                  | 33.   |
| CLEAR-BATCH-QUEUE command                                            | 50.   |
| CLEAR-DEFAULT-DIRECTORY command                                      | 161.  |
| CLEAR-ENTER-COUNT command (SINTRAN Service)                          | 170.  |
| CLEAR-MAIN-DIRECTORY command                                         | 161.  |
| CLEAR-PASSWORD command                                               | 170.  |
| clock,                                                               |       |
| adjustment                                                           | 86.   |
| updating                                                             | 86, 88. |
| CLOSE command                                                        | 55.   |
| CLOSE-FAC command (RFA)                                              | 213.  |
| cold start                                                           | 44, 86. |
| COLD-START command                                                   | 86.   |

Norsk Data ND-30.003.7 EN

---

## Page 444

# SINTRAN III SYSTEM SUPERVISOR  
## Index

| Topic | Page |
|-------|------|
| command search strategy | 97 |
| COMPARE command (DISC-TEMA) | 286 |
| configuration program | 119 |
| display command | 128 |
| generating SINTRAN | 121 |
| selection commands | 122 |
| utility commands | 121 |
| Connect-To Service program (CCT) | 185 |
| contiguous file | 143, 386 |
| CONTINUE command | 98 |
| CONTROL-STORE file | 75 |
| controlled stop | 43, 46 |
| converting numbers | 358 |
| COPY |  |
| command | 145 |
| command (DISC-TEMA) | 286 |
| COPY-DEVICE command | 269 |
| COPY-DIRECTORY command | 269 |
| COPY-DOMAIN command (Linkage-Loader) | 104 |
| COPY-USERS-FILES command (Ba-sy) | 275 |
| COS-COSP file | 222 |
| COS-DEF-PRIN file | 222 |
| COS-FA-SERV file | 205 |
| COS-FAU file | 205 |
| COS-FSART file | 205 |
| COS-TADADM file | 114, 118 |
| COS-XIFTRA file | 216 |
| COSMOS |  |
| Connect-To program | 183 |
| File-Transfer program (CFT) | 216 |
| File Server Administrator (FSA) | 204 |
| script facility | 190 |
| Spooling Service program | 223 |
| CPU number | 109 |
| CREATE-BACKGROUND-PROJECT command (ACC) | 297 |
| CREATE-DIRECTORY command | 133, 150 |
| CREATE-FILE command | 135, 142 |
| CREATE-FRIEND command | 137, 166 |
| CREATE-NEW-VERSION command | 136, 235 |
| CREATE-RT-PROJECT command (ACC) | 298 |
| CREATE-USER command | 133, 137, 163 |
| creating file | 142 |
| creating a directory | 150 |
| CSI | 403 |
| CTTYP variable | 261 |
| Cuf-serv SERVICE-PROGRAM-CUF subcommands | 278 |
| Customer Support Information | 2, 403 |
| datafield, terminal | 258 |
| data room | 305 |
| cleaning | 305 |
| environmental requirements | 305 |
| data security | 4, 70, 170, 185, 189, 190, 204, 256, 265, 267 |

Norsk Data ND-30.003.7 EN

---

## Page 445

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic | Page |
|-------|------|
| data segment | 94 |
| DDBTABLES file | 119 |
| default directory | 149, 159 |
| clearing a | 161 |
| default printer (C-S-S) | 225 |
| DEFINE-ESCAPE-CHARACTER command | 254 |
| DEFINE-LOCAL-CHARACTER command | 188 |
| DEFINE-MASS-STORAGE-UNIT command | 160 |
| DEFINE-MEMORY-CONFIGURATION command (ND-500 MONITOR) | 78 |
| DEFINE-PRINTER command (C-S-S) | 224 |
| DEFINE-PROMPT-STRING command (SINTRAN Service) | 138 |
| DEFINE-REENTRANT-PROGRAM command | 99 |
| DEFINE-SEGMENT-FILE command (SINTRAN Service) | 135 |
| DEFINE-SPOOLING-CONDITIONS command | 239 |
| DEFINE-STANDARD-DOMAIN command (ND-500 MONITOR) | 101 |
| DEFINE-SWAP-FILE command (ND-500 MONITOR) | 106 |
| DEFINE-TITLE command (SINTRAN Service) | 138 |
| defining a standard domain | 101 |
| delete file | 144 |
| DELETE-ACCUMULATED-PROJECT command (ACC) | 303 |
| DELETE-ACCUMULATED-USER command (ACC) | 303 |
| DELETE-BACKGROUND-PROJECT command (ACC) | 297 |
| DELETE-BROADCAST command (MAIL) | 291 |
| DELETE-DOMAIN command (Linkage-Loader) | 104 |
| DELETE-FILE command | 103, 145 |
| DELETE-MASS-STORAGE-UNIT command | 161 |
| DELETE-MESSAGE command (MAIL) | 291 |
| DELETE-PRINTER command (C-S-S) | 225 |
| DELETE-REENTRANT command | 98, 101, 190 |
| DELETE-RT-PROJECT command (ACC) | 299 |
| DELETE-SPOOLING-FILE command | 244 |
| DELETE-STANDARD-DOMAIN command (ND-500 MONITOR) | 101 |
| DELETE-USER command | 164 |
| DELETE-USERS-FILES command | 145 |
| DESTINATION-EXPANSION-MODE command (Cuf-serv) | 278 |
| device, | |
| backup of | 269 |
| mass storage names | 361 |
| DEVICE-COPY command (Ba-sy) | 271 |
| DEVICE-FUNCTION command | 155, 250 |
| DFLAG variable | 262 |
| DIRECT-BROADCAST command (MAIL) | 289 |
| directory, | |
| backup of | 269 |
| bit-file address | 151 |
| clearing a default | 161 |
| clearing a main | 161 |
| consistency check | 316 |
| create user | 163 |
| creating | 150 |
| default | 149, 159 |
| delete a user | 164 |

Norsk Data ND-30.003.7 EN

---

## Page 446

# SINTRAN III SYSTEM SUPERVISOR Index

## Listing

| Topic                               | Page Numbers       |
|-------------------------------------|--------------------|
| disk space                          | 163.               |
| efficient organization              | 172.               |
| entering                            | 133, 159, 160, 164.|
| entering floppy                     | 159.               |
| entry                               | 380.               |
| error in entry                      | 323.               |
| error in user entry                 | 324.               |
| fetching information about a        | 161.               |
| index                               | 148.               |
| layout                              | 379.               |
| main                                | 142, 148, 159.     |
| name                                | 150.               |
| object blocks                       | 167.               |
| organization example                | 173.               |
| release                             | 160.               |
| renaming                            | 161.               |
| table                               | 148.               |
| taking user space                   | 165.               |
| user areas default                  | 149.               |
| user area default                   | 149.               |
| user RT default                     | 69.                |
| DIRECTORY-STATISTICS command        | 109, 161.          |
| directory index                     | 380.               |
| DISABLE-ESCAPE-FUNCTION command     | 254.               |
| DISABLE-TIMEOUT command (BAS)       | 256.               |
| disabling UE                        | 73.                |
| DISC-TEMA                           | 284.               |
| disk formatting                     | 156.               |
| test program                        | 157.               |
| DISCONNECT-SERVER command (RFA)     | 212.               |

## Disk

| Topic                               | Page Numbers       |
|-------------------------------------|--------------------|
| access considerations               | 153.               |
| cylinder                            | 388.               |
| definitions of terms                | 387.               |
| device                              | 152.               |
| device name                         | 151, 361.          |
| device nams                         | 111.               |
| device sub-unit                     | 151.               |
| device unit                         | 151.               |
| fixed                               | 387.               |
| formatting                          | 155.               |
| front panel RSD                     | 27.                |
| heads                               | 387.               |
| locking SMD heads                   | 24.                |
| MMD operator panel                  | 25.                |
| organization                        | 379, 387.          |
| organization physical               | 151.               |
| pack                                | 387.               |
| removable                           | 387.               |
| removing a RSD                      | 28.                |
| sector                              | 388.               |

Norsk Data ND-30.003.7 EN

---

## Page 447

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic | Page |
|-------|------|
| SINTRAN layout | 365 |
| SMD disk pack | 23 |
| SMD operator panel | 22 |
| space administrating | 163 |
| track | 387 |
| track reallocation | 157 |
| Winchester | 284 |
| disk space | 163 |
| display panel | 16, from 1985 |
| until 1984 | 10, 11 |
| command (OPCOM) | 17 |
| DMAC |  |
| command | 353 |
| file | 114, 118 |
| patch tool | 353 |
| domain | 102 |
| copying a | 104 |
| defining a standard domain | 101 |
| deleting a | 104 |
| file | 103 |
| standard | 100, 101 |
| starting a | 100 |
| swapping segment attributes | 107 |
| dump memory | 344 |
| DUMP-AND-ACCUMULATE command (ACC) | 299 |
| DUMP-BIT-FILE | 318 |
| DUMP-DIRECTORY-ENTRY command | 318 |
| DUMP-OBJECT-ENTRY command | 318 |
| DUMP-PAGE command | 318 |
| DUMP-PROGRAM command (CCT Service program) | 189-191 |
| DUMP-PROGRAM-REENTRANT | 190 |
| command | 97 |
| DUMP-REENTRANT |  |
| command | 98 |
| file | 205, 216, 222, 399 |
| DUMP-USER-ENTRY command | 318 |
| ENABLE-ESCAPE-FUNCTION command | 184, 253 |
| ENABLE-TIMEOUT command (BAS) | 256 |
| ENTER-DIRECTORY command | 67, 133, 159, 164 |
| entering ND-500 MONITOR | 54 |
| entering, directory | 67, 159, 275 |
| enter count, |  |
| clearing | 170 |
| defining | 171 |
| error |  |
| device | 37, 40, 325, 326, 420 |
| logging | 326 |
| supervising | 325 |

Norsk Data ND-30.003.7 EN

---

## Page 448

# SINTRAN III SYSTEM SUPERVISOR
## Index

| Topic                                            | Page |
|--------------------------------------------------|------|
| error log                                        | 326. |
| error message                                    |      |
| 2-bank prog. file                                | 343. |
| attempt to create too many files                 | 339. |
| attempt to create too many users                 | 338. |
| bad memory page                                  | 332. |
| bit-file transfer error                          | 338. |
| contiguous space not available                   | 339. |
| device error                                     | 340. |
| device not ready                                 | 340. |
| device not reserved                              | 337. |
| device unit reserved for special use             | 340. |
| directory entered                                | 337. |
| disk transfer error                              | 333. |
| DMA error                                        | 338. |
| error in directory entry                         | 328. |
| file-access connection aborted                   | 342. |
| file-access connection aborted by file server    | 342. |
| file-access connection aborted by FSA            | 342. |
| file-access initialization failed                | 343. |
| file-access segments not loaded                  | 342. |
| files open on this directory                     | 338. |
| file already opened for write by you             | 339. |
| file reserved by another user                    | 339. |
| file server aborted                              | 210. |
| file server administrator in use                 | 208. |
| file system                                      | 327. |
| fixing demand                                    | 332. |
| format                                           | 327. |
| formatting error                                 | 338. |
| illegal floppy format                            | 342. |
| incompatible device sizes                        | 342. |
| inconsistent directory                           | 338. |
| internal error: call not valid in current state  | 343. |
| LAMU                                             | 333. |
| master block transfer error                      | 338. |
| memory out of range                              | 334. |
| memory parity error                              | 334. |
| ND-100 panel clock incorrect                     | 343. |
| not directory access                             | 339. |
| not last used by you                             | 341. |
| no background process available                  | 334. |
| no more pages available for this user            | 339. |
| no more spooling pages left                      | 343. |
| no more unused spooling files available          | 342. |
| no scratch file open                             | 340. |
| no spooling for this device                      | 341. |
| no such page                                     | 337. |
| no such page in data bank.                       | 343. |
| outside device limits                            | 338. |
| outside segment bounds                           | 332. |
| page fault for non-demand                        | 332. |

Norsk Data ND-30.003.7 EN

---

## Page 449

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic                                    | Page Number |
|------------------------------------------|-------------|
| power fail                               | 333         |
| protected command                        | 337         |
| protocol error: connection aborted       | 343         |
| remote FSA is not running                | 207         |
| remote FSA not started                   | 207         |
| remote system is not available           | 207         |
| remote terminal access not running       | 185         |
| run-time                                 | 327, 329    |
| space not available                      | 333         |
| terminal access not running              | 210         |
| too big segment                          | 333         |
| too many attempts to enter               | 170         |
| too many fixed pages                     | 333         |
| two pages must be left unreserved        | 340         |
| uninitialised background program         | 334         |
| unit occupied                            | 338         |
| unknown remote system                    | 207         |
| user has files                           | 339         |
| user is entered                          | 339         |
| when dumping scripts                     | 200         |
| when initializing scripts                | 198         |
| when running scripts                     | 200         |
| write-protect violation                  | 341         |
| wrong format in file                     | 343         |
| you are not authorized to do this        | 337         |
| escape function                          | 184         |
| Ethernet                                 | 182         |
| EXSECURITY variable                      | 265         |
| FACS, closing                            | 213         |
| file server                              | 204         |
| file                                     | 141         |
| access codes                             | 166         |
| access codes peripherals                 | 231         |
| access initial                           | 165         |
| allocated                                | 144         |
| close                                    | 55          |
| contiguous                               | 143, 386    |
| copy                                     | 145         |
| creating                                 | 142         |
| delete                                   | 144         |
| indexed                                  | 142, 386    |
| mass storage                             | 141         |
| mode                                     | 391         |
| name complete                            | 141         |
| open                                     | 55          |
| organization                             | 148, 386    |
| page                                     | 141         |
| peripheral                               | 229         |
| rename                                   | 144         |
| shrink                                   | 144         |
| spooling                                 | 235         |
| store                                    | 21, 26      |

---

## Page 450

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic                                                                  | Page Number |
|------------------------------------------------------------------------|-------------|
| system stop and start                                                  | 391         |
| terminal                                                               | 230         |
| type                                                                   | 142         |
| version                                                                | 142         |
| volume                                                                 | 274         |
| FILE-STATISTICS command                                                | 146         |
| Filesystem Investigator, test program                                  | 285, 316    |
| file manager program                                                   | 147         |
| file system,                                                            |             |
| correcting errors                                                      | 317         |
| error in bit-file                                                      | 324         |
| layout                                                                 | 379         |
| retrieving information                                                 | 146, 161    |
| search strategy                                                        | 149         |
| FILSYS-SYMBOLS file                                                    | 114, 118    |
| floppy monitor                                                         | 157         |
| FLOPPY-USER (SINTRAN user area)                                        | 149         |
| FMAC                                                                    |             |
| file                                                                   | 114, 118    |
| patch tool                                                             | 353         |
| FORMAT command (DISC-TEMA)                                             | 157         |
| FORMAT-FLOPPY (device function subcommand)                             | 155         |
| formatting,                                                            |             |
| disk                                                                   | 155         |
| floppy                                                                 | 155         |
| FORWARD-SPACE-PRINT command                                            | 247         |
| FSD disks                                                              | 26          |
| GET-ERROR-DEVICE command                                               | 40          |
| GIVE-N500-PAGES command (ND-500 MONITOR)                               | 79          |
| GIVE-OBJECT-BLOCKS command                                             | 167         |
| GIVE-SPOOLING-PAGES command                                            | 235         |
| GIVE-USER-SPACE command                                                | 134, 163    |
| hanging,                                                               |             |
| TAD                                                                    | 184         |
| terminal                                                               | 347         |
| hardware operations                                                    | 7           |
| HENT command ( )HENT in MACM )                                         | 111         |
| HENT-MODE file                                                         | 87, 91, 396 |
| hexadecimal number                                                     | 357         |
| indexed file                                                           | 142, 386    |
| INIT-ACCOUNTING command (ACC)                                          | 294         |
| initial                                                                |             |
| file access                                                            | 165         |
| friend access                                                          | 166         |
| INITIAL-COMMAND command                                                | 66          |
| INITIALIZE command (MAIL)                                              | 96          |
| INITIALIZE-BACKGROUND-PROGRAMS command                                 | 94          |
| INITIALIZE-ERROR-LOG command                                           | 326         |
| INITIALIZE-SCRIPT command (CCT Service program)                        | 191         |
| INITIALIZE-SYSTEM-SEGMENT command (SINTRAN Service)                    | 94          |
| initializing (ACC)                                                     | 293         |
| initial commands                                                       | 66          |

Norsk Data ND-30.003.7 EN

---

## Page 451

# SINTRAN III SYSTEM SUPERVISOR

## Index

- initial load,
  - of SINTRAN ......................................... 130, 133
- INSERT-SPOOLING-HEADER command (SINTRAN Service) ...... 237
- interrupt levels ...................................... 373, 378
- ISAM files ............................................ 296
- job description,
  - System Operator .................................... 1
  - System Supervisor .................................. 1
- key switch ............................................ 8
- LAN ................................................... 179
- LIBRARY-MARKS file .................................... 114, 118

| Command | Page |
|---------|------|
| LIST-BACKGROUND-PROJECT command (ACC) | 297 |
| LIST-BATCH-PROCESS command | 47, 50 |
| LIST-BATCH-QUEUE command | 50 |
| LIST-BROADCAST command (MAIL) | 291 |
| LIST-DEVICE command | 95 |
| LIST-DEVICE-FUNCTIONS command | 250 |
| LIST-DIRECTORIES-ENTERED command | 161 |
| LIST-DOMAIN command (ND-500 MONITOR) | 100 |
| LIST-INITIAL-COMMANDS command | 67 |
| LIST-MASS-STORAGE-UNITS command | 162 |
| LIST-MESSAGE command (MAIL) | 291 |
| LIST-OPEN-FACS command (RFA) | 213 |
| LIST-OPEN-FILES command | 55 |
| LIST-REENTRANT command | 99, 101 |
| LIST-RT-ACCOUNTING command (ACC) | 296 |
| LIST-RT-DESCRIPTION command | 95, 327 |
| LIST-RT-PROGRAMS command | 47, 54 |
| LIST-RT-PROJECTS command (ACC) | 298 |
| LIST-RTOPEN-FILES command | 47, 55 |
| LIST-SEGMENT command (ND-500 MONITOR) | 108 |
| LIST-SERVERS command (RFA) | 212 |
| LIST-SPOOLING-FORM command | 240 |
| LIST-SPOOLING-QUEUE command | 47, 243 |
| LIST-STANDARD-DOMAINS command (ND-500 MONITOR) | 101 |
| LIST-SWAP-FILE-INFO command (ND-500 MONITOR) | 106 |
| LIST-TIMEOUT-VALUES command (CCT) | 187 |
| LIST-TITLE command | 109 |

- LOAD-MODE file ........................................ 69, 394
- loading,
  - from disk controller 1 .......................... 7
  - from disk controller 2 .......................... 18
  - from floppy ...................................... 17
  - SINTRAN from floppy .............................. 44, 109
  - SINTRAN initially ................................ 45, 133
- LOAD function, operator panel ...................... 7
- local
  - Area Network ..................................... 179
  - memory (ND-100) ................................ 78
- local character .................................... 188
- logging errors ..................................... 326
- LOOK-ACCUMULATED command (ACC) ..................... 302

*Norsk Data ND-30.003.7 EN*

---

## Page 452

# SINTRAN III SYSTEM SUPERVISOR
## Index

| Topic | Page |
|-------|------|
| LOOK-AT command | 352 |
| MACL command (OPCOM) | 17 |
| MACM-AREA file | 65 |
| MAIL | 47 |
| commands | 289 |
| initializing | 96 |
| subsystem | 289 |
| MAILBOX file | 96 |
| maintenance, preventive | 305 |
| main directory | 142, 148, 159 |
| clearing a | 161 |
| mass storage file | 141 |
| mass storage unit |  |
| defining | 160 |
| deleting a | 161 |
| listing | 162 |
| MASTER-LOG-MODE command (Cuf-serv) | 278 |
| master block | 380 |
| MATCH command (DISC-TEMA) | 286 |
| MCL function | 7 |
| memory |  |
| configuration (ND-500) | 78 |
| dump | 344 |
| examine (OPCOM) | 19 |
| layout | 374 |
| memory layout, physical | 369 |
| MENTOF | 344 |
| message (MAIL) | 290 |
| MMD disk | 25 |
| mode file | 391 |
| MOVE-SPOOLING-QUEUE-ENTRY command | 245 |
| MULTIUSER-COPY command (Ba-sy) | 277, 278 |
| MXOBL (user entry) | 383 |
| N500-SYMBOLS file | 114, 118 |
| ND-100-MODE command (RFA) | 208 |
| ND-500 |  |
| actual memory configuration | 80 |
| default memory allocation | 80 |
| description file | 102 |
| link file | 102 |
| micro-program (loading of non-standard version) | 76 |
| multi-CPU | 80 |
| physical memory configuration | 79 |
| processes | 122 |
| program | 100 |
| program execution | 107 |
| swapper | 80, 106 |
| swap files | 105 |
| ND-500-MODE command (RFA) | 208 |
| ND500-HENT file | 99, 400 |
| network routing | 180 |
| NEW-SYSTEM program | 113 |

---

Norsk Data ND-30.003.7 EN

---

## Page 453

# SINTRAN III SYSTEM SUPERVISOR

## Index

- **NEXT-INITIAL-COMMAND command**  
  66.

- **number conversion**  
  357, 358.

- **NUMBER-OF-ACCOUNTS command (ACC)**  
  302.

- **object block**  
  167, 168, 383, 384.

- **object entry**  
  385.

- **object file**  
  384.

- **octal number**  
  357.

- **OPCOM command**  
  61.

- **OPCOM,**  
  - leaving  
    16, 18.

- **operator panel,**  
  - from 1985  
    7, 13.
  - until 1984  
    9.

- **page conflict**  
  324.

- **page index table**  
  370, 375.

- **PARITY-CHECK command (DISC-TEMA)**  
  157.

- **password**  
  - project (ACC)  
    3, 170, 293.

- **patching,**  
  - CHANGE-VARIABLE  
    351.
  - DMAC  
    353.
  - FMAC  
    353.

- **PD sheets**  
  405.

- **peripheral file**  
  136, 229.

- **personal notes**  
  355.

- **physical memory layout**  
  369, 374.

- **powering on,**  
  - Compact  
    35, 36.
  - EPSON printer  
    40.
  - FACIT 4440 - TWIST terminal  
    39.
  - ND-100 and ND-500  
    33.
  - OMNI console terminal  
    37.
  - Satellite  
    36.
  - TANDBERG TDV 2200/9 terminal  
    38.

- **preventive maintenance**  
  305.

- **PRINT-ACCUMULATED-ACCOUNTS command (ACC)**  
  302.

- **PRINT-ERROR-LOG command**  
  326.

- **product description sheets**  
  405.

- **project**  
  - name (ACC)  
    293.
  - password (ACC)  
    293.

- **protecting the ND-500 MONITOR**  
  102.

- **RECONNECT-TAD command(CCT Service**  
  186.

- **RECOVER**  
  - command  
    97.
  - command (DIR-BACKUP)  
    288.

- **reentrant**  
  - segment  
    97.
  - subsystems  
    96.

- **REGENERATE-DIRECTORY command**  
  161, 318.

- **register dump (OPCOM)**  
  20.

Norsk Data ND-30.003.7 EN

---

## Page 454

# SINTRAN III SYSTEM SUPERVISOR
## Index

| Topic | Page |
|-------|------|
| RELEASE-DIRECTORY command | 160 |
| release a directory | 160 |
| remote diagnostics | 349 |
| remote file access segments | 122 |
| REMOVE-FROM-BACKGROUND-TABLE command (SINTRAN Service) | 234 |
| REMOVE-FROM-SPOOLING-QUEUE command | 244 |
| REMOVE-SPOOLING-HEADER command (SINTRAN Service) | 238 |
| rename file | 144, 145 |
| RENAME-DEFAULT-DIRECTORY-AND-USER command (Linkage-Loader) | 104 |
| RENAME-DIRECTORY command | 161 |
| RENAME-USER command | 164 |
| RESET-ACCOUNTING-FILE command (ACC) | 303 |
| RESET-BACKGROUND-PROJECT-TABLE command (ACC) | 298 |
| RESET-COLDSTART-MODE-FILE command (SINTRAN Service) | 88 |
| RESET-RT-PROJECT-TABLE command (ACC) | 299 |
| RESTART-PRINT command | 247 |
| RESTART-SYSTEM command | 62 |
| resuming SINTRAN | 58 |
| RFA remote file access (COSMOS) | 204 |
| ring protection | 12 |
| symbols | 12 |
| ROUSPEC variable | 264 |
| RSD disks | 26 |
| RT (SINTRAN user area) | 4 |
| command | 74 |
| RT-LOADER command | 95 |
| RT-program, hanging | 46, 54, 74, 346 |
| system included | 56 |
| RTCLOSE-FILE command | 55 |
| RTENTER command | 69 |
| RTLO-SYMBOLS file | 114, 118 |
| RUN-MAIL-SYSTEM command (MAIL) | 96 |
| S3-configuration program | 119 |
| SCHEDULE command | 291 |
| SCRATCH (SINTRAN user area) | 137, 169 |
| scratch file, size | 137, 169, 169 |
| script, (CCT Service program) | 190 |
| body | 195 |
| dumping a | 191 |
| error messages | 198 |
| multi-script program | 192 |
| simple | 191 |
| syntax of | 193 |
| security primitives | 4, 265 |
| SEGFILE file | 65, 92 |

* *Norsk Data ND-30.003.7 EN*

---

## Page 455

# SINTRAN III SYSTEM SUPERVISOR

Index

- segment file,
  - defining a new . . . . . . . . . . . . . . . . . . 93.
  - expansion . . . . . . . . . . . . . . . . . . . 92.
  - maintaining . . . . . . . . . . . . . . . . . . 92.
  - too small . . . . . . . . . . . . . . . . . . . 92.
- SELECT-FSA command (RFA) . . . . . . . . . . . . . . . 207.
- SEND-DIRECT-BROADCAST command (MAIL) . . . . . . . . 289.
- SERVER-STATUS command (RFA) . . . . . . . . . . . . 212.
- service contract . . . . . . . . . . . . . . . . . . 2.
- SERVICE-PROGRAM command (CCT) . . . . . . . . . . . 185.
- SERVICE-PROGRAM-CUF command (Ba-sy) . . . . . . . 278, 283.
- SET-AVAILABLE command . . . . . . . . . . . . . . . . 4, 48.
- SET-CLOSED-SCRATCH-FILE-SIZE command (SINTRAN Service) . 169.
- SET-COLDSTART-MODE-FILE command (SINTRAN Service) . . 88.
- SET-COMMAND-PROTECTION
  - command (CCT Service program) . . . . . . . . . . 188.
  - command (SINTRAN Service) . . . . . . . . . . . . 102.
- SET-DEFAULT-DIRECTORY command . . . . . . . . . . . . 159.
- SET-DEFAULT-FILE-ACCESS command . . . . . . . . . 134, 166.
- SET-ERROR-DEVICE command . . . . . . . . . . . . . . 40, 62.
- SET-FILE-ACCESS command . . . . . . . . . . . . 135, 229.
- SET-FLOPPY-FORMAT command (device function subcommand) . 155.
- SET-FRIEND-ACCESS command . . . . . . . . . . . . 137, 166.
- SET-INITIAL-FILE-ACCESS command . . . . . . . . 134, 165.
- SET-INITIAL-FRIEND-ACCESS command . . . . . . . . . . 166.
- SET-MAIN-DIRECTORY command . . . . . . . . . . . 159, 164.
- SET-MAX-ENTER-COUNT command (SINTRAN Service) . . . . 171.
- SET-NUMBER-OF-PRINT-COPIES command . . . . . . . . . . . 245.
- SET-PERIPHERAL-FILE command . . . . . . . . 136, 229, 235.
- SET-POLL-INTERVAL command (RFA) . . . . . . . . . . . . 214.
- SET-SPOOLING-DEVICE-NUMBER command (SINTRAN Service) . 233, 235.
- SET-SPOOLING-FORM command . . . . . . . . . . . . . . 240.
- SET-TEMPORARY-FILE command . . . . . . . . . . . . . . 136.
- SET-TERMINAL-FILE command . . . . . . . . . . . 136, 230.
- SET-TIMEOUT-VALUES command (CCT Service program) . . . . 187.
- SET-UNAVAILABLE command . . . . . . . . . . . . . . . 4, 47.
- shared memory (ND-500) . . . . . . . . . . . . . . . . . 78.
- shrink file . . . . . . . . . . . . . . . . . . . . . . . 144.
- SINTRAN file . . . . . . . . . . . . . . . . . . . . . . . 65.
- SINTRAN,
  - disk layout . . . . . . . . . . . . . . . . . . . 365.
  - image area . . . . . . . . . . . . . . . . . . . . 64.
  - layout . . . . . . . . . . . . . . . . . . . . . . . 65.
  - layout memory . . . . . . . . . . . . . . . . . . 369.
  - memory area . . . . . . . . . . . . . . . . . . . . 64.
  - resident area . . . . . . . . . . . . . . . . . . 64.
  - start and stop . . . . . . . . . . . . . . . . . . 43.
  - user area . . . . . . . . . . . . . . . . . . . . . . 3.
- SMD disks . . . . . . . . . . . . . . . . . . . . . . . 22.
- software,
  - prerequisite versions . . . . . . . . . . . . . . . 5.
  - prerequisite versions (COSMOS) . . . . . . . . 179.

Norsk Data ND-30.003.7 EN

---

## Page 456

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic                                           | Page  |
|-------------------------------------------------|-------|
| space requirements                               | 139   |
| spooling                                         |       |
| abort print                                      | 247   |
| backwards skip print                             | 247   |
| conditions                                       | 239   |
| defining spooling index                          | 233   |
| file                                             | 136, 235 |
| form                                             | 240   |
| form identification                              | 240   |
| forwards skip print                              | 247   |
| header and trailer                               | 237   |
| index                                            | 233   |
| number of copies                                 | 245   |
| pages administration                             | 235   |
| process                                          | 232   |
| program                                          | 122, 233 |
| queue                                            | 232   |
| removing appended file                           | 244   |
| removing ordinary file                           | 244   |
| reorganizing the queue                           | 245   |
| restart print                                    | 247   |
| starting                                         | 237   |
| start print                                      | 246   |
| stopping                                         | 237   |
| stop print                                       | 246   |
| system                                           | 231   |
| SPOOLING-PAGES-LEFT command                      | 236   |
| SPRTx spooling program                           | 233   |
| stand-alone programs                             | 307   |
| standard domains                                 | 100   |
| STANDARD-DOMAINS file                            | 401   |
| START-ACCOUNTING command (ACC)                   | 295   |
| START-PRINT command                              | 246   |
| START-RT-ACCOUNTING command (ACC)                | 295   |
| START-SERVERS command (RFA)                      | 209   |
| START-SPOOLING command                           | 72, 237 |
| START-SWAPPER command (ND-500 MONITOR)           | 75    |
| START-TADADM command                             | 183, 185 |
| starting                                         |       |
| a domain                                         | 100   |
| batch processor                                  | 71    |
| RT programs                                      | 74    |
| SINTRAN                                          | 61    |
| spooling                                         | 72    |
| the ND-500                                       | 75    |
| the ND-500 (advanced)                            | 77    |
| UE                                               | 73    |
| XMSG                                             | 72    |
| starting, ACCOUNTING                             | 294   |
| STOP command (OPCOM)                             | 17    |
| STOP-ACCOUNTING command (ACC)                    | 295   |
| STOP-ND-500 command (ND-500 MONITOR)             | 54    |

Norsk Data ND-30.003.7 EN

---

## Page 457

# SINTRAN III SYSTEM SUPERVISOR
## Index

- **STOP-PRINT command**
  - 51, 246.
- **STOP-RT-ACCOUNTING command (ACC)**
  - 295.
- **STOP-SPOOLING command**
  - 47, 52, 237.
- **STOP-SYSTEM command**
  - command: 47, 58.
  - file: 391.
- **STOP-TADADM command**
  - 183, 185.
- **STOP-TERMINAL command**
  - 48.
- **stopping**
  - applications: 45.
  - batch processor: 50.
  - different processes: 48.
  - file server (RFA): 210.
  - ND-500: 54.
  - ND-500 without stopping ND-100: 58.
  - printer: 51.
  - RT program: 55.
  - SINTRAN: 46.
  - spooling: 52.
  - terminal: 48.
  - UE: 53.
  - XMSG: 53.
- **STOP function, operator panel**
  - 7.
- **streamer**
  - 5 1/4 inch Tandberg: 30.
  - 8 inch Archive: 29.
  - cartridge: 29, 30.
  - write protection: 31.
- **stuck terminal**
  - 347.
- **sub-divided disk**
  - 151.
- **sub-index block**
  - 384.
- **supervision,**
  - COSMOS BM: 179.
  - error: 325.
  - file system: 141.
  - overview: 1.
  - peripherals and spooling: 229.
- **SWAP-FILE-X file**
  - 105.
- **swapper process, ND-500**
  - 106.
- **swapper, ND-500**
  - 105.
- **switching on the installation**
  - 32.
- **switch setting**
  - 409.
- **switch setting,**
  - ND-100 CPU: 409.
  - Telefix: 412.
  - transmission speed: 411, 413, 414.
- **SYMBOL-1-LIST file**
  - 114, 118.
- **SYMBOL-2-LIST file**
  - 114, 118.
- **SYSTEM**
  - (SINTRAN user area): 4.
  - disk: 130.
  - files: 130, 132.

Norsk Data ND-30.003.7 EN

---

## Page 458

# SINTRAN III SYSTEM SUPERVISOR

## Index

| Topic | Page |
|-------|------|
| number | 109. |
| segment | 94. |
| system-included segments | 56, 86. |
| system files | 132. |
| TAD | 122, 183. |
| TADD, RT program | 184. |
| TADADM | 183. |
| command | 49, 183, 206. |
| TAD commands | 183. |
| TAKE-N500-PAGES command (ND-500 MONITOR) | 79. |
| TAKE-OBJECT-BLOCKS command | 168. |
| TAKE-SPOOLING-PAGES command | 235. |
| TAKE-USER-SPACE command | 165. |
| TELEFIX | 349. |
| from operator panel | 14. |
| operational modes | 412. |
| TEMICS test program | 312. |
| terminal |  |
| configuring FACIT TWIST | 422. |
| configuring OMNI | 417. |
| configuring Tandberg | 419. |
| datafield | 258. |
| datafield for EPSON | 420. |
| file | 229. |
| hanging | 347. |
| interface | 414. |
| interface current loop | 414. |
| logical and physical device numbers | 415. |
| speed | 260. |
| split-speed | 260. |
| stuck | 347. |
| type | 261. |
| TERMINAL-MODE command | 262. |
| TERMINAL-SETUP file | 402. |
| TERMINAL-STATUS command | 47, 48, 206. |
| TERMINATE-SERVER command (RFA) | 211. |
| TEST-DIRECTORY command | 161, 318. |
| test program | 305. |
| DISC-TEMA | 284. |
| TEMICS | 312. |
| Test Program Environment | 307. |
| TIMEOUT-COMMAND (CCT Service program) | 187. |
| TIMEOUT-OFF |  |
| command (BAS) | 256. |
| command (CCT Service program) | 187. |
| TIMEOUT-ON command (BAS) | 256. |
| TINFO variable | 263. |
| TPE Monitor | 307, 308. |
| track reallocation, disk | 157. |
| TRANSLATE command (DISC-TEMA) | 317. |
| TSPEED variable | 259. |
| UE-AUTOMATIC-LOGIN command | 73. |

*Norsk Data ND-30.003.7 EN*

---

## Page 459

# SINTRAN III SYSTEM SUPERVISOR

## Index

- UPDAT command .......................................... 88.
- user SCRATCH ........................................... 169.
- USER-STATISTICS command ................................ 166.
- user area, ............................................ 3, 142.
  - administrating ......................................... 163.
  - default directory ...................................... 149.
  - space .................................................. 163.
  - standard ............................................... 131.
- user entry .......................................... 382, 383.
- User Environment (UE) ............................. 4, 163, 197.
- user file ............................................... 382.
- user RT, default directory ............................... 69.
- using

  | Feature          | Page |
  |------------------|------|
  | disks            | 21   |
  | streamer         | 29   |
  | the RT-Loader    | 95   |

- variables,

  | Variable   | Page |
  |------------|------|
  | CESC       | 264  |
  | CTTYP      | 261  |
  | DFLAG      | 262  |
  | EXSECURITY | 265  |
  | ROUSPEC    | 264  |
  | TINFO      | 263  |
  | TSPEED     | 259  |

- VERIFY command (DISC-TEMA) ............................ 286.
- version of file ........................................ 142.
- VTM - Virtual Terminal Manager ......................... 261.
- warm start ........................................ 43, 61.
  - without initial commands .............................. 68.
- WHERE-IS-FILE command .................................. 146.
- WHO-IS-ON command (ND-500 MONITOR) ..................... 54.
- WP-PRINTERS file ................................. 232, 241.
- WRITE-SEGMENT command (RT-LOADER) ...................... 95.
- write protecting,

  | Medium    | Page |
  |-----------|------|
  | disk      | 22   |
  | streamer  | 31   |

- XON/XOFF transmission on/off ........................... 262.  

Norsk Data ND-30.003.7 EN

---

## Page 460

# Printing Record

| PRINTING | NOTES       |
|----------|-------------|
| 06/78    | Version 1   |
| 01/79    | Version 2   |
| 02/80    | Version 2 Rev.A |
| 05/80    | Version 3   |
| 02/82    | Version 4   |
| 03/83    | Version 5   |
| 07/84    | Version 6   |
| 12/86    | Version 7   |

SINTRAN III System Supervisor  
ND-30.003.7

# Updating

Manuals can be updated in two ways, new versions and revisions. New versions consist of a completely new manual which replaces the old one, and incorporate all revisions since the previous version. Revisions consist of one or more single pages to be merged into the manual by the user, each revised page being listed on the new printing record sent out with the revision. The old printing record should be replaced by the new one.

New versions and revisions are announced in the ND Customer Support Information and can be ordered from the address below.

The reader’s comments form at the back of this manual can be used both to report errors in the manual and give an evaluation of the manual. Both detailed and general comments are welcome.

# Ring Binder or Plastic Cover

The manual can be placed in a ring binder for greater protection and convenience of use. Ring binders may be ordered at a price of NKr. 45.- per binder.

The manual may also be placed in a plastic cover. This cover is more suitable for manuals of less than 100 pages than for larger manuals.

Please send your order, as well as all types of inquiries and requests for documentation to the local ND office, or (in Norway) to:

Norsk Data A.S  
Graphic Center  
P.O. Box 25 BOGERUD  
N-0621 OSLO 6 - Norway

---

## Page 461

# Send Us Your Comments!

Are you frustrated because of unclear information in our manuals? Do you have trouble finding things?

Please let us know if you:
- find errors
- cannot understand information
- cannot find information
- find needless information.

Do you think we could improve our manuals by rearranging the contents? You could also tell us if you like the manual.

Send to:  
Norsk Data A.S  
Documentation Department  
P.O. Box 25 BOGERUD  
N  - 0621 OSLO 6 - Norway

# Note!

This form is primarily for documentation errors. Software and system errors should be reported on Customer System Reports.

| Manual Name:                                             | Manual number:                                   |
| -------------------------------------------------------- | ------------------------------------------------ |
|                                                          |                                                  |

Which version of the product are you using?  
______________________________________________________________________________________

What problems do you have? (use extra pages if needed)  
______________________________________________________________________________________

______________________________________________________________________________________

______________________________________________________________________________________

______________________________________________________________________________________

Do you have suggestions for improving this manual?  
______________________________________________________________________________________

______________________________________________________________________________________

______________________________________________________________________________________

______________________________________________________________________________________

| Your name:                       | Date:                      |
| -------------------------------- | -------------------------- |
|                                  |                            |

| Company:                         | Position:                  |
| -------------------------------- | -------------------------- |
|                                  |                            |

Address:  
______________________________________________________________________________________

What are you using this manual for?  
______________________________________________________________________________________

---

## Page 462

I'm unable to convert this page as it doesn't contain any text. Let me know if there's anything else I can help with!

---

