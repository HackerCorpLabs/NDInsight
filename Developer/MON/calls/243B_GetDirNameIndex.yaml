# SINTRAN III Monitor Call: GetDirNameIndex
# Octal: 243B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 243B
name: GetDirNameIndex
short_names:
- FDINA
description: Gets directory index and name index. The name index identifies the device description of the disk. You have to specify the directory name.
notes: []
see_also:
- GetDirUserIndexes
- GetAllFileIndexes
- GetDirEntry
parameters:
- name: Directory name.
  type: STRING
  io: I
  description: Directory name string (1-16 characters).
- name: Directory index.
  type: UNKNOWN
  io: O
  description: ''
- name: Name index.
  type: UNKNOWN
  io: O
  description: ''
- name: Standard Error Code. See appendix A.
  type: UNKNOWN
  io: O
  description: Returned via ErrCode variable in high-level languages, or in W1 register for ASSEMBLY-500, or register A for MAC.
examples:
  pascal:
    available: true
    code: |-
      DirName : PACKED ARRAY [0..15] OF CHAR;
      DirIndex, NameIndex : INTEGER2;
      ...
      GetDirNameIndex (DirName, DirIndex, NameIndex);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 DirName PIC X(16).
      01 DirIndex COMP.
      01 NameIndex COMP.
      01 ErrCode COMP.
      ...
      MONITOR-CALL "GetDirNameIndex" USING DirName, DirIndex, NameIndex.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      CHARACTER DirName*16
      INTEGER DirIndex, NameIndex
      ...
      Monitor_Call('GetDirNameIndex', DirName (1:16), DirIndex, NameIndex)
      IF (ErrCode .NE. 0) THEN ...
  planc:
    available: true
    code: |-
      BYTES : DirName(0:15)
      INTEGER : DirIndex, NameIndex
      ...
      ON ROUTINEERROR DO
      IF ErrCode <> 0 THEN ...
      ENDON
      Monitor_Call('GetDirNameIndex', DirName, DirIndex, NameIndex)
  assembly_500:
    available: true
    code: |-
      DirName : STRINGDATA 'PACK-TWO'''
      DirIndex : W BLOCK 1
      NameIndex : W BLOCK 1
      ErrCode : W BLOCK 1
      GetDirNameIndex : EQU 37B9 + 243B
      ...
      CALLG GetDirNameIndex, 3, DirName, DirIndex, NameIndex
          IF K GO ERROR
      ...
      ERROR : W1 =: ErrCode    %ErrorCode in W1 register.
    octal_definition: 37B9 + 243B
  mac:
    available: true
    code: |-
      LDX (DIRNAM              %Address of directory name string.
      MON 243                  %Monitor call GetDirNameIndex.
      JMP ERROR                %Error return from monitor call.
      STT DIRIX                %Normal return, store directory index.
      STA NAMIX                %Store name index.
      ...
      ERROR, ...               %Error number in register A.
      ...
      DIRNAM, 'PACK-TWO'       %Obtain directory and name index of PACK-TWO.
      DIRIX, 0
      NAMIX, 0
    mon_number: 243
    notes: ''
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: true
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 0
  line: 10243
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: true
  ocr_corrected: false
