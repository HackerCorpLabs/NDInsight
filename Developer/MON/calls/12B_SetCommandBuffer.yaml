# SINTRAN III Monitor Call: SetCommandBuffer
# Octal: 12B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 12B
name: SetCommandBuffer
short_names:
- SETCM
description: |-
  Transfers a string to the command buffer. The command buffer contains the last command input from the terminal. You may read the command buffer by reading from logical device number 0. See InByte.

  - The command @TERMINAL-STATISTICS lists the command buffer.
  - You may apply the SINTRAN III command editing characters to the command buffer when the program has terminated.
  - The parameter is fetched through the alternative page table.
  - You may use this monitor call to erase sensitive information in the command buffer, e.g., password parameters.
see_also:
- '`ExecuteCommand`'
- '`CallCommand`'
parameters:
- name: Command
  type: STRING
  io: I
  description: String to transfer to the command buffer (up to 32 characters).
examples:
  pascal:
    available: true
    code: |2-
          Command : PACKED ARRAY [0..31] OF CHAR;
          ...
          SetCommandBuffer(Command);
  cobol:
    available: true
    code: |2-
          01 Command PIC X(32).
          ...
          MONITOR-CALL "SetCommandBuffer" USING Command.
  fortran:
    available: true
    code: |2-
          CHARACTER Command*32
          ...
          Monitor_Call('SetCommandBuffer', Command(1:32))
  planc:
    available: true
    code: |-
      BYTES : Command(0:31)
      ...
      Monitor_Call('SetCommandBuffer', Command)
  assembly_500:
    available: true
    code: |-
      Command : STRINGDATA 'CLOSE-FILE 102'
      SetCommandBuffer : EQU 37B9 + 12B
      ...
      CALLG SetCommandBuffer, 1, Command
    octal_definition: 37B9 + 12B
  mac:
    available: true
    code: |-
      | Instruction | Operand | Description                                           |
      |-------------|---------|-------------------------------------------------------|
      | LDA         | (CMND)  | %Address of string with command.                      |
      | MON         | 12      | %Monitor call SetCommandBuffer.                       |
      | ...         |         |                                                       |
      | CMND,       | 'CLOSE-FILE 102' | %Transfer 'CLOSE-FILE 102' to the command buffer. |

      | ND-100 and ND-500 | All users | Background programs |
    mon_number: null
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 439
  line: 19999
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
