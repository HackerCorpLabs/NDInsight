# SINTRAN III Monitor Call: ReadScratchFile
# Octal: 5B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 5B
name: ReadScratchFile
short_names: []
description: Reads randomly from the scratch file. One block is transferred. There
  is one scratch file connected to each terminal. It is opened for random read and
  write access when you log in. Its file number is 100B.
notes:
- The standard block size is 512 bytes. You can change this with SetBlockSize. The
  first block is number 0.
see_also:
- ReadBlock
- ReadFromFile. ReadFromFile is the most efficient monitor call
references: []
parameters:
- name: Blocknumber
  type: Block number to start the reading.
  io: I
  description: ''
- name: Array
  type: Array for the transferred data.
  io: I
  description: ''
- name: StandardErrorCode
  type: See appendix A.
  io: I
  description: ''
examples:
  pascal:
    available: true
    code: 'BlockNumber : INTEGER2;

      DataDestination : RECORD...END;

      ...

      ReadScratchFile(BlockNumber, DataDestination);

      IF ErrCode <> 0 THEN ...'
    notes: ''
  cobol:
    available: true
    code: "01 BlockNumber COMP.\n01 DataDestination.\n   02 array COMP OCCURS 256\
      \ TIMES.\n01 ErrCode COMP.\n...\nMONITOR-CALL \"ReadScratchFile\" USING BlockNumber,\
      \ DataDestination.\nCALL \"CbError\" USING ErrCode.\nIF ErrCode NOT = 0 GO ..."
    notes: ''
  fortran:
    available: true
    code: 'INTEGER BlockNumber

      INTEGER DataDestination(256)

      ...

      Monitor_Call(''ReadScratchFile'', BlockNumber, DataDestination(1))

      IF (ErrCode .NE. 0) THEN ...'
    notes: ''
  planc:
    available: true
    code: "INTEGER : BlockNumber\nBYTES : DataDestination(0:511)\n...\nON ROUTINEERROR\
      \ DO\n    IF ErrCode > 0 THEN ...\nENDON\nMonitor_Call('ReadScratchFile', BlockNumber,\
      \ DataDestination(0))"
    notes: ''
  assembly_500:
    available: false
    code: ''
    octal_definition: ''
    notes: Not available
  mac:
    available: true
    code: '| Instruction | Description                                  |

      |-------------|----------------------------------------------|

      | LDT BLKNO   | %Block number to be read.                    |

      | LDX (BUFF   | %Address of buffer to receive block read.    |

      | MON 5       | %Monitor call ReadScratchFile.               |

      | JMP ERROR   | %Error return from monitor call.             |

      | ...         | %Normal return.                              |

      | ERROR, ...  | %Error number in register A.                 |

      | BLKNO, ...  |                                              |

      | BUFF, 0     | `*+400/` %Make a buffer of 256 words, 1 block. |



      ND-100 | All users | Background programs'
    mon_number: 5
    notes: ''
compatibility:
  platforms:
    nd100: false
    nd500: false
  users: []
  programs: []
  notes: ''
errors:
  returns_error: false
  error_codes: []
  error_reference: ''
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 403
  line: 18296
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
  ocr_notes: ''
