# SINTRAN III Monitor Call: SetBreak
# Octal: 4B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 4B
name: SetBreak
short_names:
- BRKM
description: |-
  Sets the break characters for a terminal. Normally, a program waits for input. When a break character is typed, the program restarts. For example, most subsystems restart when you press the RETURN-key after a command. The subsystems have defined the RETURN-key as a break character.

  - SINTRAN III has some predefined break tables.
  - You may define your own break table. This is a 128-bit array where each bit represents an ASCII character. Use 1 for the characters you want as break characters. The ability to define your own break tables is optional in older versions of SINTRAN III.
  - If 8-bit I/O is set (TerminalFunction, function number 112), you will get break always if bit 7 in the break table is set.
see_also:
- SetEcho
parameters:
- name: DeviceNo
  type: INTEGER
  io: I
  description: Logical device number. Only used by RT programs; background programs use own terminal.
- name: BreakStrategy
  type: INTEGER
  io: I
  description: 'Break strategy: <0=none, 0=all, 1=control chars, 2=MAC, 3-6=system, 7=user table, 8=last user, 9=max chars only.'
- name: Table
  type: ARRAY
  io: I
  description: User-defined 128-bit break table (8 words). Only used with strategy 7.
- name: NoOfChar
  type: INTEGER
  io: I
  description: Maximum number of characters before break. Dummy for strategies 0, 1, 2.
examples:
  pascal:
    available: true
    code: |-
      DeviceNo, BreakStrategy, NoOfChar : INTEGER2;
      Table : RECORD...END;
      ...
      SetBreak(DeviceNo, BreakStrategy, Table, NoOfChar);
  cobol:
    available: true
    code: |-
      01 DeviceNo COMP.
      01 BreakStrategy COMP.
      01 NoOfChar COMP.
      01 Table.
         02 array COMP OCCURS 8 TIMES.
      ...
      MONITOR-CALL "SetBreak" USING DeviceNo, BreakStrategy, Table, NoOfChar.
  fortran:
    available: true
    code: |-
      INTEGER DeviceNo, Strategy, NoOfChar
      INTEGER Table(8)
      ...
      Monitor_Call('SetBreak', DeviceNo, Strategy, Table(1), NoOfChar)
  planc:
    available: true
    code: |-
      INTEGER : DeviceNo, Strategy, NoOfChar
      INTEGER2ARRAY(0:7)
      ...
      Monitor_Call('SetBreak', DeviceNo, Strategy, Table(0), NoOfChar)
  assembly_500:
    available: true
    code: |-
      DeviceNo : W BLOCK 1
      BreakStrategy : W BLOCK 1
      NoOfChar : W BLOCK 1
      Table : H BLOCK 8
      SetBreak : EQU 37B9 + 4B
      ...
      CALLG SetBreak, 4, DeviceNo, BreakStrategy, Table, NoOfChar
    octal_definition: 37B9 + 4B
  mac:
    available: true
    code: |-
      LDT DEVNO %Logical device number.
      LDA NOCHR %Number of characters input before break,
      COPY SA DD % only if STRAT greater or equal to 3.
      LDX (TABLE %Address of 8-word large bit map.
      LDA STRAT %Break strategy.
      MON 4 %Monitor call SetBreak.
      ...
      DEVNO, ...
      STRAT, 1 %Break only on control characters.
      TABLE, ...
      *+10/ %Make an 8-word large buffer.
      NOCHR, ...

      | ND-100 and ND-500 | All users | All programs |
    mon_number: 4
compatibility:
  nd100: true
  nd500: true
  user_programs: false
  rt_programs: false
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 435
  line: 19792
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
