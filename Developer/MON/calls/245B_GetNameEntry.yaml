# SINTRAN III Monitor Call: GetNameEntry
# Octal: 245B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 245B
name: GetNameEntry
short_names:
- GNAEN
description: |-
  Gets information about devices, e.g. disks and floppy disks. The monitor call returns the name entry of a device. You specify the name index.

  - GetDirNameIndex provides the name index.
see_also:
- GetDirEntry
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: The name index of the device.
- name: Param2
  type: UNKNOWN
  io: I
  description: 'The 28 byte name entry. It contains the following:'
- name: 0:15
  type: Device name.
  io: I
  description: ''
- name: '16:19'
  type: Storage capacity in pages (PAVA1 and PAVA2)
  io: I
  description: ''
- name: '20:21'
  type: Sector size of the disk.
  io: I
  description: ''
- name: '22:23'
  type: Various flags.
  io: I
  description: ''
- name: Bit 15
  type: Cartridge disk.
  io: I
  description: ''
- name: Bit 14
  type: Not used.
  io: I
  description: ''
- name: Bit 13
  type: Single user device, e.g. floppy disk or magnetic tape.
  io: I
  description: ''
- name: Bit 12
  type: Not used.
  io: I
  description: ''
- name: Bit 11
  type: Magnetic tape station.
  io: I
  description: ''
- name: Bit 10
  type: EEC disks.
  io: I
  description: ''
- name: Bit 9
  type: Not used.
  io: I
  description: ''
- name: Bit 8
  type: Floppy disk.
  io: I
  description: ''
- name: Bit 7
  type: Phoenix disk.
  io: I
  description: ''
- name: Bit 6
  type: Little Winchester disk.
  io: I
  description: ''
- name: Bit 5
  type: SCSI streamer.
  io: I
  description: ''
- name: Bit 4
  type: SCSI disk.
  io: I
  description: ''
- name: Bit 3
  type: Read-only WORM disk (optical).
  io: I
  description: ''
- name: Bit 2:0
  type: Maximum number of subunits on this device (000<sub>2</sub> means 8 subunits, 001<sub>2</sub>-111<sub>2</sub>
    means maximum number of subunits).
  io: I
  description: ''
- name: '24:25'
  type: Address of data transfer routine in SINTRAN III.
  io: I
  description: ''
- name: '26:27'
  type: Logical device number of the disk's semaphore.
  io: I
  description: ''
- name: Param23
  type: UNKNOWN
  io: I
  description: Standard Error Code. See appendix A.
examples:
  pascal:
    available: true
    code: |-
      NameIndex : INTEGER2;
      NameTableEntry : RECORD...END;
      ...
      GetNameEntry(NameIndex, NameTableEntry);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 NameIndex COMP.
      01 NameTableEntry.
          02 array COMP OCCURS 14 TIMES.
      01 ErrCode COMP.
      ...
      MONITOR-CALL "GetNameEntry" USING NameIndex, NameTableEntry.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      INTEGER NameIndex
      INTEGER NameTableEntry(14)
      ...
  planc:
    available: true
    code: |-
      INTEGER : NameIndex
      BYTES : NameTableEntry(0:27)
      ...
      ON ROUTINEERROR DO
        IF ErrCode > 0 THEN ...
      ENDON
      Monitor_Call('GetNameEntry', NameIndex, NameTableEntry(0))
  assembly_500:
    available: true
    code: |-
      NameIndex : W BLOCK 1
      NameTableEntry : BY BLOCK 34B
      ErrCode : W BLOCK 1
      GetNameEntry : EQU 37B9 + 245B
      ...
      CALLG GetNameEntry, 2, NameIndex, NameTableEntry
        IF K GO ERROR
      ...
      ERROR : W1 =: ErrCode  %ErrorCode in W1 register.
    octal_definition: 37B9 + 245B
  mac:
    available: true
    code: |-
      LDT NAMIX          %Name index.
      LDX (BUFF          %Address of buffer to receive name table entry.
      MON 245            %Monitor call GetNameEntry.
      JMP ERROR          %Error return from monitor call.
      ...                %Normal return.
      ERROR, ...         %Error number in register A.
      ...
      NAMIX, ...
      BUFF, 0
      +*16/              %Make a buffer of 14 words.


      | ND-100 and ND-500 | All users | All programs |
    mon_number: 245
compatibility:
  nd100: true
  nd500: true
  user_programs: false
  rt_programs: false
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 257
  line: 11301
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
