octal: 140B
name: ReservationInfo
short_names:
- WHDEV
description: 'Checks that a device is not reserved. If it is reserved, you will receive information about
  which RT program that reserves it.


  - Some devices have both an input and an output part. You have to use ReservationInfo for each part.'
see_also:
- ReserveResource
- ReleaseResource
- and @LIST-DEVICE
parameters:
- name: DeviceNumber
  type: INTEGER2
  io: I
  description: Logical device number. See appendix B.
- name: IOFlag
  type: INTEGER2
  io: I
  description: Input/output flag. 0=input part, 1=output part.
- name: ReturnValue
  type: INTEGER2
  io: O
  description: RT description address of reserving RT program (output). 0=not reserved, -1=error.
examples:
  pascal:
    available: true
    code: 'DeviceNumber, IOFlag, ReturnValue : INTEGER2;

      ...

      ReservationInfo(DeviceNumber, IOFlag, ReturnValue);'
  cobol:
    available: true
    code: '01 DeviceNumber COMP.

      01 IOFlag COMP.

      01 ReturnValue COMP.

      ...

      MONITOR-CALL "ReservationInfo" USING DeviceNumber, IOFlag, ReturnValue.'
  fortran:
    available: true
    code: 'INTEGER DeviceNo, IOFlag, ReturnValue

      ...

      Monitor_Call(''ReservationInfo'', DeviceNo, IOFlag, ReturnValue)'
  planc:
    available: true
    code: 'INTEGER : DeviceNumber, IOFlag, ReturnValue

      ...

      Monitor_Call(''ReservationInfo'', DeviceNumber, IOFlag, ReturnValue)'
  assembly_500:
    available: true
    code: 'DeviceNumber : W BLOCK 1

      IOFlag : W BLOCK 1

      ReturnValue : W BLOCK 1

      ReservationInfo : EQU 37B9 + 140B

      ...

      CALLG ReservationInfo, 2, DeviceNumber, IOFlag

      W1 =: ReturnValue %Result is returned in W1 register.'
    octal_definition: 37B9 + 140B
  mac:
    available: true
    code: 'LDA   (PAR   %Load register A with address of parameter list.

      MON   140    %Monitor call ReservationInfo.

      STA   STAT   %Store status returned.

      AAA   -1     %Test if -1. JAN not applicable because of RT

      JAZ   ERROR  %addresses above 100000.

      ...

      ...

      ERROR, ...

      STAT, 0      %RT description address if any.

      PAR, DEVNO  %Logical device number.

      IOF         %Input or output flag.

      DEVNO, ...

      IOF, ...



      | ND-100 and ND-500 | All users | All programs |

      |-------------------|-----------|--------------|'
    mon_number: 140
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 415
  line: 18798
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
