# SINTRAN III Monitor Call: MemoryAllocation
# Octal: 61B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 61B
name: MemoryAllocation
short_names:
- FIXC5
description: Fixes or unfixes ND-100 segments to be used by the ND-500 Monitor. You may also reserve a contiguous area in physical memory. Various other memory functions are reserved for the ND-500 Monitor.
notes:
- This monitor call is not normally used by ordinary programs.
- You may use this monitor call to reserve space for DMA buffers.
see_also:
- FixScattered
- FixInMemory
- FixContiguous
- UnFixSegment
parameters:
- name: FuncCode
  type: INTEGER
  io: I
  description: Function code. Function codes 4, 5 and 6 are the only values allowed. The functions and parameters are described on the third page for this call.
- name: Param2
  type: INTEGER
  io: I/O
  description: Parameter 2. Depends on the function code.
- name: Param3
  type: INTEGER
  io: I/O
  description: Parameter 3. Depends on the function code.
- name: Param4
  type: INTEGER
  io: I/O
  description: Parameter 4. Depends on the function code.
- name: Param5
  type: INTEGER
  io: I/O
  description: Parameter 5. Depends on the function code.
- name: Param6
  type: INTEGER
  io: I/O
  description: Parameter 6. Depends on the function code.
examples:
  pascal:
    available: true
    code: |-
      FuncCode, Param2, Param3, Param4, Param5, Param6 : INTEGER2;
      ...
      MemoryAllocation(FuncCode, Param2, Param3, Param4, Param5, Param6);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 FuncCode COMP.
      01 Param2 COMP.
      01 Param3 COMP.
      01 Param4 COMP.
      01 Param5 COMP.
      01 Param6 COMP.
      01 ErrCode COMP.
      ...
      MONITOR-CALL "MemoryAllocation" USING FuncCode, Param2, Param3, Param4, Param5, Param6.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      INTEGER FuncCode, Param2, Param3, Param4, Param5, Param6
      ...
      Monitor_Call('MemoryAllocation', FuncCode, Param2, Param3,
      C Param4, Param5, Param6)
      IF (ErrCode .NE. 0) THEN ...
  planc:
    available: true
    code: |-
      INTEGER : FuncCode, Param2, Param3, Param4, Param5, Param6
      ...
      ON ROUTINEERROR DO
      IF ErrCode <> 0 THEN ...
      ENDON
      Monitor_Call('MemoryAllocation', FuncCode, Param2, Param3, &
          Param4, Param5, Param6)
  assembly_500:
    available: false
    code: ''
    mon_number: null
    notes: Not available.
  mac:
    available: true
    code: |-
      LDA (PAR                 %Load register A with address of parameter list.
      MON 61                  %Monitor call MemoryAllocation.
      JMP ERROR                %Error return from monitor call.
      ...                      %Normal return.
      ERROR, ...               %Error number in register A.
      ...
      PAR, FUNC                %For the rest of this example, a special case
      PARA2                    %(function code = 4) is taken, in order to
      PARA3                    %emphasize that all parameters must be included.
      PARA4
      DUMMY                    %All parameters MUST be included, even if they
      DUMMY                    %are dummy for a particular function code.
      ...
      FUNC, 4                  %Function code, in this case 4 (fix a segment contiguously at any address within a specified physical memory area.
      PARA2, 200               %Segment number.
      PARA3, 0                 %First legal physical memory page.
      PARA4, -1                %Last legal physical memory page. The value -1 is the maximum value.
      DUMMY, 0                 %Dummy value for parameters 5 and 6.
    mon_number: 61
    notes: ''
compatibility:
  nd100: true
  nd500: false
  user_programs: true
  rt_programs: true
  system_programs: true
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 0
  line: 15438
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: true
  ocr_corrected: false
