# SINTRAN III Monitor Call: GetUserName
# Octal: 214B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 214B
name: GetUserName
short_names: []
description: ''
notes: []
see_also:
- GetUserEntry
- ExecutionInfo
references: []
parameters: []
examples:
  pascal:
    available: true
    code: 'DirectoryIndex, UserIndex : INTEGER2;

      UserName : PACKED ARRAY [0..15] OF CHAR;

      ...

      FindUserName(UserName, DirectoryIndex, UserIndex); [Note routine name.]

      IF ErrCode <> 0 THEN ...'
    notes: ''
  cobol:
    available: true
    code: "01 DirectoryIndex COMP.\n01 UserIndex COMP.\n01 UserName PIC X(16).\n01\
      \ RemoteFlag COMP.\n01 RemoteSystem PIC X(64).\n01 ErrCode COMP.\n...\nMONITOR-CALL\
      \ \"GetUserName\" USING UserName, DirectoryIndex, UserIndex,\n             \
      \ RemoteFlag, RemoteSystem.\nCALL \"CbError\" USING ErrCode.\nIF ErrCode NOT\
      \ = 0 GO ..."
    notes: ''
  fortran:
    available: true
    code: "INTEGER DirIndex, UserIndex, RemoteFlag\nCHARACTER UserName*16, RemoteSystem*64\n\
      ...\nMonitor_Call('GetUserName', UserName(1:16), DirIndex, UserIndex,\n    \
      \         RemoteFlag, RemoteSystem(1:64))\nIF (ErrCode .NE. 0) THEN ..."
    notes: ''
  planc:
    available: true
    code: "INTEGER : DirectoryIndex, UserIndex, RemoteFlag\nBYTES : UserName(0:15),\
      \ RemoteSystem(0:63)\n...\nON ROUTINEERROR DO\n  IF ErrCode >< 0 THEN ...\n\
      ENDON\nMonitor_Call('GetUserName', UserName, DirectoryIndex, UserIndex,&\n \
      \ RemoteFlag, RemoteSystem)"
    notes: ''
  assembly_500:
    available: true
    code: "DirectoryIndex : W BLOCK 1\nUserIndex : W BLOCK 1\nUserName : STRING 16\n\
      SysId : STRING 16   %Optional parameter for remote system.\nErrCode : W BLOCK\
      \ 1\nGetUserName : EQU 37B9 + 214B\n...\nCALLG GetUserName, 3, UserName, DirectoryIndex,\
      \ UserIndex\n  IF K GO ERROR\n...\nERROR : W1 =: ErrCode  %ErrorCode in W1 register."
    octal_definition: 37B9 + 214B
    notes: ''
  mac:
    available: true
    code: 'LDA (USER           %Address of string to receive user name.

      LDX INDEX           %Left byte: Dir index. Right byte: User index.

      LDT (REMID          %Remote identification if bit 15 in register X.

      MON 214             %Monitor call GetUserName.

      JMP ERROR           %Error return from monitor call.

      ...                 %Normal return.

      ERROR, ...          %Error number in register A.

      ...


      USER, 0             %A string of 16 characters.

      *+10/

      INDEX, ...          %Set bit 15 if remote user.

      REMID, 0            %Remote system identification string.

      *+32/



      | ND-100 and ND-500 | All users | All programs |'
    mon_number: 214
    notes: ''
compatibility:
  platforms:
    nd100: true
    nd500: true
  users:
  - All users
  programs:
  - All programs
  notes: ''
errors:
  returns_error: false
  error_codes: []
  error_reference: ''
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 299
  line: 13307
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
  ocr_notes: ''
