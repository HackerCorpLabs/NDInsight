# SINTRAN III Monitor Call: GetFileName
# Octal: 273B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 273B
name: GetFileName
short_names: []
description: ''
notes: []
see_also:
- FullFileName
references: []
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: Directory index.
- name: Param2
  type: UNKNOWN
  io: I
  description: User index.
- name: Param3
  type: UNKNOWN
  io: I
  description: Object index.
- name: Param4
  type: UNKNOWN
  io: I
  description: File name.
- name: Param5
  type: UNKNOWN
  io: I
  description: Remote flag. Use 0 for a file on the local computer. Use 1 for a file
    on a remote computer. Specify the remote computer in the next parameter.
- name: Param6
  type: UNKNOWN
  io: I
  description: Remote system identification if remote flag is 1. Not returned by ND-500.
- name: Param7
  type: UNKNOWN
  io: I
  description: Standard Error Code. See appendix A.
examples:
  pascal:
    available: true
    code: '```

      DirIndex, UserIndex, ObjectIndex : INTEGER2;

      FileName : PACKED ARRAY [0..63] OF CHAR;

      ...

      GetFileName(DirIndex, UserIndex, ObjectIndex, FileName);

      IF ErrCode <> 0 THEN ...

      ```'
    notes: ''
  cobol:
    available: true
    code: "```\n01 DirIndex COMP.\n01 UserIndex COMP.\n01 ObjectIndex COMP.\n01 FileName\
      \ PIC X(64).\n01 RemoteFlag COMP.\n01 RemoteSystem PIC X(64).\n01 ErrCode COMP.\n\
      ...\nMONITOR-CALL \"GetFileName\" USING DirIndex, UserIndex, ObjectIndex,\n\
      \                FileName, RemoteFlag, RemoteSystem.\nCALL \"CbError\" USING\
      \ ErrCode.\nIF ErrCode NOT = 0 GO ...\n```"
    notes: ''
  fortran:
    available: true
    code: "```\nINTEGER DirIndex, UserIndex, ObjIndex, RemoteFlag\nCHARACTER FileName*64,\
      \ RemoteSystem*64\n...\nMonitor_Call('GetFileName', DirIndex, UserIndex, ObjIndex,\n\
      \              FileName(1:64), RemoteFlag, RemoteSystem(1:64))\nIF (ErrCode\
      \ .NE. 0) THEN ...\n```"
    notes: ''
  planc:
    available: true
    code: 'INTEGER : DirIndex, UserIndex, ObjectIndex, RemoteFlag

      BYTES : FileName(0:63), RemoteSystem(0:63)

      ...

      ON ROUTINEERROR DO

      &nbsp;&nbsp;&nbsp;&nbsp;IF ErrCode > 0 THEN ...

      ENDON

      Monitor_Call(''GetFileName'', DirIndex, UserIndex, ObjectIndex, FileName,&

      &nbsp;&nbsp;&nbsp;&nbsp;RemoteFlag, RemoteSystem)'
    notes: ''
  assembly_500:
    available: true
    code: 'DirIndex : W BLOCK 1

      UserIndex : W BLOCK 1

      ObjectIndex : W BLOCK 1

      FileName : STRING 64

      SysId : STRING 20 %Optional parameter if bit 7 in DirIndex is set.

      ErrCode : W BLOCK 1

      GetFileName : EQU 37B9 + 273B

      ...

      CALLG GetFileName, 4, DirIndex, UserIndex, ObjectIndex, FileName

      IF K GO ERROR

      ...

      ERROR : W1 =: ErrCode %ErrorCode in W1 register.'
    octal_definition: 37B9 + 273B
    notes: ''
  mac:
    available: true
    code: 'LDT INDEX %Left byte: dir index. Right byte: user index.

      LDA (REMID) %Remote system identification in register D.

      COPY SA DD %Used only if bit 15 in register A is set.

      LDA OBJIX %Object index.

      LDX (BUFF) %Address of buffer to receive file name.

      MON 273 %Monitor call GetFileName.

      JMP ERROR %Error return from monitor call.

      ...  %Normal return.

      ERROR, ... %Error number in register A.


      INDEX, ... %Set bit 15 if remote file.

      OBJIX, ...

      BUFF, 0 %

      *+32/ %Make a buffer big enough to receive file name.

      REMID, 0 %Remote identification string.

      *+40/  %32 words for string.



      ND-100 and ND-500 | All users | All programs

      ---|---|---'
    mon_number: 273
    notes: ''
compatibility:
  platforms:
    nd100: false
    nd500: false
  users: []
  programs: []
  notes: ''
errors:
  returns_error: false
  error_codes: []
  error_reference: ''
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 249
  line: 10966
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
  ocr_notes: ''
