# SINTRAN III Monitor Call: HDLCfunction
# Octal: 201B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 201B
name: HDLCfunction
short_names:
- MHDLC
description: Performs various HDLC functions. A HDLC is a high-level data link to another computer. You
  may send data, receive data, and control HDLC. Data is sent as Driver Control Blocks (DCB). This monitor
  call is also used by X.21 to transfer DCBs between the user programs and the X.21 driver. The system
  uses the Logical Device Number to distinguish between HDLC and X.21.
notes:
- Use MON 122, ReserveResource, and MON 123, Release Resource for exclusive access to a LDN.
see_also: []
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: 'Function code: Use 0 to send DCB to driver and 1 to receive DCB from driver'
- name: Param2
  type: UNKNOWN
  io: I
  description: 'Logical device number: There are different logical device numbers for the input and output
    part. See appendix B.'
- name: Param3
  type: UNKNOWN
  io: I
  description: 'Address of driver control block: The first word in the DCB contains command information.
    The commands are:'
- name: Param4
  type: UNKNOWN
  io: I
  description: Size of the used part of the driver control block in bytes.
- name: Param5
  type: UNKNOWN
  io: I
  description: 'Depends on the function code: maximum size of the driver control block in bytes for the
    SEND function, wait flag for the RECEIVE function. The program waits for a driver control block if
    1. Use 0 to make the program continue.'
- name: Param6
  type: UNKNOWN
  io: I
  description: 'HDLC error code:'
- name: Param7
  type: UNKNOWN
  io: I
  description: '1: LDN not reserved by calling program.'
- name: Param8
  type: UNKNOWN
  io: I
  description: '2: Illegal LDN. Not known by SINTRAN.'
- name: Param9
  type: UNKNOWN
  io: I
  description: '3: No DCB in receiver queue.'
- name: Param10
  type: UNKNOWN
  io: I
  description: '4: No vacant buffer for DCB.'
- name: Param11
  type: UNKNOWN
  io: I
  description: '5: Illegal used DCB size (parameter 4).'
- name: Param12
  type: UNKNOWN
  io: I
  description: '6: Illegal LDN. Not permitted from this monitor call.'
- name: Param13
  type: UNKNOWN
  io: I
  description: '7: Max. DCB size (parameter 5) is less than used DCB size.'
- name: Param14
  type: UNKNOWN
  io: I
  description: '10: Illegal function.'
- name: Param15
  type: UNKNOWN
  io: I
  description: '11: Fatal error. The table is inconsistent.'
examples:
  pascal:
    available: false
    code: ''
    notes: Not available
  cobol:
    available: false
    code: ''
    notes: Not available
  fortran:
    available: true
    code: |-
      INTEGER SendRecDCB, LDN, Buffer, DCBusize, DCBmsize
      INTEGER Buff(1024)
      ...
      Monitor_Call('HDLCFunction', SendRecDCB, LDN, Buffer(1),
          C DCBusize, DCBmsizeXcoor


      Scanned by Jonny Oddene for Sintran Data Â© 2020
  planc:
    available: false
    code: ''
    notes: Not available
  assembly_500:
    available: true
    code: |-
      Func   : W BLOCK 1
      DevNo  : W BLOCK 1
      Buffer : W BLOCK 1024 %Even byte address.
      USize  : W BLOCK 1
      MSize  : W BLOCK 1
      Status : W BLOCK 1
      HDLCfunction : EQU 37B9 + 201B


      CALLG HDLCfunction, 5, Func, DevNo, Buffer, USize, MSize,
      IF K GO Error
      W1 =: Status

      Error,
    octal_definition: 37B9 + 201B
  mac:
    available: true
    code: |-
      LDA (PAR      %Load address of parameter list into reg.A
      MON 201       %Monitor call HDLCfunction.
      JMP ERROR
      JMP OK


      ERROR, ...  %A-reg contains error code.
      PAR, ...

      | ND-100 and ND-500 | All users | All programs |
    mon_number: 201
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 307
  line: 13698
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
