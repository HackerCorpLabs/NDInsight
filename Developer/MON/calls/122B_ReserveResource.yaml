octal: 122B
name: ReserveResource
short_names:
- RESRV
description: 'Reserves a device or file for your program only. You release it with ReleaseResource. Some
  devices, e.g. terminals, have both an input and output part. You can only reserve one part with each
  ReserveResource call.


  - A normal termination of an RT program releases all resources.

  - Release the device with ReleaseResource or ForceRelease.

  - A background program does not release a resource when you press the ESCAPE key.'
see_also:
- ForceReserve
- ReserveDir
- '@RESRV'
- '@RESERVE-FILE'
- and @RESERVE-DEVICE-UNIT
parameters:
- name: DeviceNo
  type: INTEGER2
  io: I
  description: Logical device number. See appendix B.
- name: IOFlag
  type: INTEGER2
  io: I
  description: Input/output flag. 0=input part, 1=output part.
- name: WaitFlag
  type: INTEGER2
  io: I
  description: Wait flag. 0=wait if reserved, 1=return status value.
- name: Status
  type: INTEGER2
  io: O
  description: Return status (output). Only used if WaitFlag=1. Negative=already reserved.
examples:
  pascal:
    available: true
    code: 'DeviceNo, IOFlag, WaitFlag, ReturnStatus : INTEGER2;

      ...

      ReserveResource(DeviceNo, IOFlag, WaitFlag, ReturnStatus);'
  cobol:
    available: true
    code: '01 DevNo COMP.

      01 IOFlag COMP.

      01 WaitFlag COMP.

      01 RetStatus COMP.

      ...

      MONITOR-CALL "ReserveResource" USING DevNo, IOFlag, WaitFlag, RetStatus.'
  fortran:
    available: true
    code: 'INTEGER DevNo, IOFlag, WaitFlag, ReturnStatus

      ...

      Monitor_Call(''ReserveResource'', DevNo, IOFlag, WaitFlag, ReturnStatus)'
  planc:
    available: true
    code: 'INTEGER: DeviceNo, IOFlag, WaitFlag, ReturnStatus

      ...

      Monitor_Call(''ReserveResource'', DeviceNo, IOFlag, WaitFlag, ReturnStatus)'
  assembly_500:
    available: true
    code: 'DeviceNo : W BLOCK 1

      IOFlag : W BLOCK 1

      WaitFlag : W BLOCK 1

      Status : W BLOCK 1

      ReserveResource : EQU 37B9 + 122B

      ...

      CALLG ReserveResource, 3, DeviceNo, IOFlag, WaitFlag

      W1 =: Status'
    octal_definition: 37B9 + 122B
  mac:
    available: true
    code: 'LDA (PAR %Load register A with address of parameter list.

      MON 122 %Monitor call ReserveResource.

      ...

      PAR, DEVNO %Logical device number.

      IOF %Input/output flag.

      WFLAG %Wait flag

      STAT %Status


      | DEVNO, ... |   |

      |------------|---|

      | IOF, ...   |   |

      | WFLAG, ... |   |

      | STAT, ...  |   |


      ND-100 and ND-500 | All users | All programs'
    mon_number: 122
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 419
  line: 18982
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
