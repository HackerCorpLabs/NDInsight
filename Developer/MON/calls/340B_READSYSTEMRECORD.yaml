# SINTRAN III Monitor Call: READSYSTEMRECORD
# Octal: 340B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 340B
name: READSYSTEMRECORD
short_names:
- RSREC
description: Used to read the system record into a buffer.
see_also: []
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: 'Record type (A-reg.): 1 = RT-description.'
- name: Param2
  type: UNKNOWN
  io: I
  description: RT-description address or segment number (T-reg.).
- name: Param3
  type: UNKNOWN
  io: I
  description: Buffer address (X-reg.). Address of buffer to receive system record. This buffer must have
    a minimum length of 38 words if Record Type =1, or 8 words if Record Type =2.
- name: Param4
  type: UNKNOWN
  io: I
  description: 'FÃ˜rmat (only for ND-500): 0 = return information on 16-bit integer format'
- name: Param5
  type: UNKNOWN
  io: I
  description: If parameter 1 =1, then A-register returns the number of devices connected with MON 106,
    StartOnInterrupt.
- name: Param6
  type: UNKNOWN
  io: I
  description: Standard Error Code. See appendix A.
- name: PASCAL
  type: ''
  io: I
  description: ''
- name: Not available.
  type: ''
  io: I
  description: ''
- name: COBOL
  type: ''
  io: I
  description: ''
- name: Not available.
  type: ''
  io: I
  description: ''
- name: FORTRAN
  type: ''
  io: I
  description: ''
- name: Not available.
  type: ''
  io: I
  description: ''
examples:
  planc:
    available: false
    code: ''
    notes: Not available
  assembly_500:
    available: true
    code: |-
      | RECTYPE | W BLOCK 1  | % RT-description/segment entry            |
      |---------|------------|-------------------------------------------|
      | ADDNO   | W BLOCK 1  | % address of RT-descr/ND-100 segment      |
      | ENTRY   | H BLOCK 38 | % buffer, 38 words                        |
      | FORMAT  | W BLOCK 1  | % format (16/32-bit integer)              |
      | RSREC   | EQU 37000000340B | % RSREC = MON 340                   |

      CALLG RSREC,4,RECTYPE,ADDNO,ENTRY,FORMAT % MON RSREC with 4 parameters
      IF K GO ERROR % on error return, W1 = error code
    octal_definition: ''
  mac:
    available: true
    code: |-
      - LDA RECTP  %Load A register with the record type.
      - LDT RTADR  %Load T register with RT address or segment no.
      - LDX (BUFFR %Load X register with address of the buffer.
      - MON 340    %Monitor call ReadSystemRecord.
      - JMP ERROR  %Error return.
        ...        %Normal return.

      | RECTP. | 1    |
      |--------|------|
      | RTADR. | 54214|
      | BUFFR. | 0 *+46/ %Reserve 46 (38 words). |


      ND-100 and ND-500  User RT and user SYSTEM  RT programs
    mon_number: 340
compatibility:
  nd100: false
  nd500: false
  user_programs: false
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 405
  line: 18388
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
