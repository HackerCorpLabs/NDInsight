# SINTRAN III Monitor Call: SetUserParam
# Octal: 56B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 56B
name: SetUserParam
short_names:
- PASET
description: Sets information about a background program. Use GetUserParam to read the 5 parameters when a program is terminated.
notes:
- SINTRAN III sets some of the parameter values if you give the command @ENABLE-TERMINATION-HANDLING first.
- The parameters are returned if the user press the ESCAPE key, if the monitor calls ExitFromProgram or ErrorMessage are executed, or if a fatal error occurs. You can set all parameters if no termination handling is enabled.
see_also:
- TerminationHandling
- GetUserParam
- '@DEFINE-TERMINATION-HANDLING'
- '@DISABLE-TERMINATION-HANDLING'
- '@SET-USER-PARAMETERS'
parameters:
- name: The five user parameters.
  type: ARRAY
  io: I
  description: 'This is an array of 16-bit integers on the ND-100. ND-500 uses an array of 32-bit integers. SINTRAN III''s termination handling returns the following: Parameter 1: The last byte contains the user index. The byte in front of it contains the directory index. 2: Logical device number of the terminal. 3: Fatal error or the monitor call ErrorMessage returns the error number. If ESCAPE was pressed, -1 is returned. 4: Set by SetUserParam. 5: Set by SetUserParam.'
examples:
  pascal:
    available: true
    code: |-
      Buff : RECORD...END;
      ...
      SetUserParam(Buff);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 Buff.
      02 array COMP OCCURS 5 TIMES.
      01 ErrCode COMP.
      ...
      MONITOR-CALL "SetUserParam" USING Buff.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      INTEGER Buff(5)
      ...
      Monitor_Call('SetUserParam', Buff(1))
      IF (ErrCode .NE. 0) THEN ...
  planc:
    available: true
    code: |-
      INTEGER ARRAY : Buff(0:4)
      ...
      Monitor_Call('SetUserParam', Buff(0))
  assembly_500:
    available: true
    code: |-
      Buff : H BLOCK 5
      SetUserParam : EQU 37B9 + 56B
      ...
      CALLG SetUserParam, 1, Buff
          IF K GO ERROR
      ...
      ERROR : W1 =: ErrCode    %ErrorCode in W1 register.
    octal_definition: 37B9 + 56B
  mac:
    available: true
    code: |-
      LDA (PAR                 %Load register A with address of parameter list.
      MON 56                  %Monitor call SetUserParam.
      ...
      PAR, BUFF               %Buffer of 5 words for setting user parameters.
      BUFF, index.            %Left byte: directory index, Right byte: user
      ...                     %Logical device number, terminal number.
      ...                     %-1 if escape, otherwise error number.
      ...                     %User defined.
      ...                     %User defined.
    mon_number: 56
    notes: ''
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: true
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 0
  line: 21862
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: true
  ocr_corrected: false
