# SINTRAN III Monitor Call: ScratchOpen
# Octal: 235B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 235B
name: ScratchOpen
short_names:
- SCROP
description: Opens a file as a scratch file. A maximum of 64 pages of the file is kept when you close the file. Use SET-CLOSED-FILE-SIZE in the SINTRAN-SERVICE-PROGRAM to change this.
notes:
- The scratch file is closed like any other opened file.
see_also:
- OpenFile
- SetPermanentOpen
- DirectOpen
- CloseFile
- '@SCRATCH-OPEN'
parameters:
- name: File number. Used by monitor calls for input and output.
  type: UNKNOWN
  io: O
  description: ''
- name: Access code. 0 = Sequential write, 1 = Sequential read, 2 = Random read or write, 3 = Random read only, 4 = Sequential read or write, 5 = Sequential write append, 6 = Random read or write common on contiguous files, 7 = Random read common on contiguous files, 8 = Random read or write on contiguous files. Direct transfer for ReadFromFile, WriteToFile and DeviceFunction in RT programs, 9 = Random read, write append for WriteToFile and ReadFromFile.
  type: UNKNOWN
  io: I
  description: ''
- name: File name. The name of the file to be opened.
  type: UNKNOWN
  io: I
  description: ''
- name: Default file type. Specifies the file type. The colon should not be included.
  type: UNKNOWN
  io: I
  description: ''
- name: Standard Error Code. See appendix A.
  type: UNKNOWN
  io: O
  description: ''
examples:
  pascal:
    available: true
    code: |-
      FileNo, AccessCode : INTEGER2;
      FileName : PACKED ARRAY [0..63] OF CHAR;
      FileType : PACKED ARRAY [0..3] OF CHAR;
      ...
      ScratchOpen (FileNo, AccessCode, FileName, FileType);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 FileNo COMP.
      01 AccessCode COMP.
      01 FileName PIC X(64).
      01 FileType PIC X(4).
      01 ErrCode COMP.
      ...
      MONITOR-CALL "ScratchOpen" USING FileNo, AccessCode, FileName, FileType.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      INTEGER FileNo, AccessCode
      CHARACTER FileName*64, FileType*4
      ...
      Monitor_Call('ScratchOpen', FileNo, AccessCode, FileName(1:64), FileType(1:4))
      IF (ErrCode .NE. 0) THEN ...
  planc:
    available: true
    code: |-
      INTEGER : FileNo, AccessCode
      BYTES : FileName(0:63), FileType(0:3)
      ...
      ON ROUTINEERROR DO
          IF ErrCode <> 0 THEN ...
      ENDON
      Monitor_Call('ScratchOpen', FileNo, AccessCode, FileName, FileType)
  assembly_500:
    available: true
    code: |-
      FileNo : W BLOCK 1
      AccessCode : W BLOCK 1
      FileName : STRINGDATA 'EXAMPLE'''
      FileType : STRINGDATA 'SYMB'''
      ErrCode : W BLOCK 1
      ScratchOpen : EQU 37B9 + 235B
      ...
      CALLG ScratchOpen, 4, FileNo, AccessCode, FileName, FileType
          IF K GO ERROR
      ...
      ERROR : W1 := ErrCode              %ErrorCode in W1 register.
    octal_definition: 37B9 + 235B
  mac:
    available: true
    code: |-
      LDX (FILE      %Address of file name string.
      LDA (TYPE      %Address of default file type string.
      LDT ACODE      %Access code.
      MON 235        %Monitor call ScratchOpen.
      JMP ERROR      %Error return from monitor call.
      STA FILNO      %Normal return, store file number.
      ...
      ERROR, ...     %Error number in register A.
      ...
      FILNO, 0
      ACODE, ...
      FILE, 'EXAMPLE' %Open EXAMPLE:SYMB as a scratch file.
      TYPE, 'SYMB'


      | ND-100 and ND-500 | All users | All programs |
    mon_number: 235
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 0
  line: 19238
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
