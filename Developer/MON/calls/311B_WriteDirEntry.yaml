# SINTRAN III Monitor Call: WriteDirEntry
# Octal: 311B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 311B
name: WriteDirEntry
short_names: []
description: Changes the information about a directory. The complete contents of the
  directory entry is set. The SINTRAN III System Supervisor (ND-830003) describes
  the file system in more detail.
notes:
- The directory must be entered.
- The directory must be reserved.
see_also:
- GetDirUserIndexes
- and GetDirEntry
references: []
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: The directory index. See GetDirUserIndexes.
- name: Param2
  type: UNKNOWN
  io: I
  description: The 48 byte directory entry. See Appendix C.
- name: Param3
  type: UNKNOWN
  io: I
  description: Standard Error Code. See Appendix A.
examples:
  pascal:
    available: true
    code: 'DirIndex : INTEGER2;

      DirEntry : ARRAY [0..1] OF RECORD...END;

      ...

      SetDirEntry(DirIndex, DirEntry);    [Note routine name.]

      IF ErrCode <> 0 THEN ...'
    notes: ''
  cobol:
    available: true
    code: "01 DirIndex COMP.\n01 DirEntry.\n   02 array COMP OCCURS 24 TIMES.\n01\
      \ ErrCode COMP.\n...\nMONITOR-CALL \"WriteDirEntry\" USING DirIndex, DirEntry.\n\
      CALL \"CbError\" USING ErrCode.\nIF ErrCode NOT = 0 GO ..."
    notes: ''
  fortran:
    available: true
    code: 'INTEGER DirIndex

      INTEGER DirEntry(24)

      ...

      Monitor_Call(''WriteDirEntry'', DirIndex, DirEntry(1))

      IF (ErrCode .NE. 0) THEN ...'
    notes: ''
  planc:
    available: true
    code: "INTEGER : DirIndex\nBYTES : DirEntry(0:47)\n...\nON ROUTINEERROR DO\n \
      \   IF ErrCode > 0 THEN ...\nENDON\nMonitor_Call('WriteDirEntry', DirIndex,\
      \ DirEntry(0))"
    notes: ''
  assembly_500:
    available: true
    code: 'DirIndex : W BLOCK 1

      DirEntry : W ARRAY 24

      ErrCode : W BLOCK 1

      WriteDirEntry : EQU 37B9 + 311B

      ...

      CALLG WriteDirEntry, 2, DirIndex, DirEntry

      IF K GO ERROR

      ...

      ERROR : W1 =: ErrCode              %ErrorCode in W1 register.'
    octal_definition: 37B9 + 311B
    notes: ''
  mac:
    available: true
    code: 'LDT DIRIX     %Directory index.

      LDX (ENTRY)   %Address of buffer containing directory entry.

      MON 311       %Monitor call WriteDirEntry.

      JMP ERROR     %Error return from monitor call.

      ...           %Normal return.

      ERROR, ...    %Error number in register A.

      ...

      DIRIX, ...

      ENTRY, ...    %

      ...           %A buffer of 24 words.




      | ND-100 and ND-500 | User SYSTEM | All programs |'
    mon_number: 311
    notes: ''
compatibility:
  platforms:
    nd100: true
    nd500: true
  users:
  - User RT and user SYSTEM
  programs:
  - Background programs
  notes: ''
errors:
  returns_error: false
  error_codes: []
  error_reference: ''
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 563
  line: 25460
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: true
  ocr_notes: Header missing octal - reconstructed
