octal: 431B
name: AwaitTransfer
short_names:
- MWAITF
description: 'Checks that a data transfer to or from a mass-storage file is completed. The monitor call
  is relevant to DeviceFunction, ReadFromFile and WriteToFile operations. These are carried out independently
  of the CPU. The number of bytes read or written is returned.


  - You may specify that the program should wait if the transfer is not ready. It is set in the I/O wait
  state.'
see_also:
- AwaitFileTransfer
parameters:
- name: FileNumber
  type: INTEGER2
  io: I
  description: File number. See OpenFile.
- name: WaitFlag
  type: INTEGER2
  io: I
  description: Wait flag. If 0, the program waits until the data transfer is completed. Other values return
    a value showing the state of the transfer. ND-500 programs do not wait.
- name: NoOfBytes
  type: INTEGER2
  io: O
  description: Number of bytes transferred.
examples:
  pascal:
    available: true
    code: 'FileNumber, WaitFlag, NoOfBytes : LONGINT;

      ...

      AwaitTransfer(FileNumber, WaitFlag, NoOfBytes);'
  cobol:
    available: true
    code: '01 FileNumber COMP.

      01 WaitFlag COMP.

      01 NoOfBytes COMP.

      ...

      MONITOR-CALL "AwaitTransfer" USING FileNumber, WaitFlag, NoOfBytes.'
  fortran:
    available: true
    code: 'INTEGER FileNumber, WaitFlag, NoOfBytes

      ...

      Monitor_Call(''AwaitTransfer'', FileNumber, WaitFlag, NoOfBytes)'
  planc:
    available: true
    code: 'INTEGER : FileNumber, WaitFlag, NoOfBytes

      ...

      Monitor_Call(''AwaitTransfer'', FileNumber, WaitFlag, NoOfBytes)'
  assembly_500:
    available: true
    code: 'FileNumber : W BLOCK 1

      WaitFlag : W BLOCK 1

      NoOfBytes : W BLOCK 1

      ErrCode : W BLOCK 1

      AwaitTransfer : EQU 37B9 + 431B

      ...

      CALLG AwaitTransfer, 3, FileNumber, WaitFlag, NoOfBytes

      IF K GO Error

      ...

      Error, Wl =: ErrCode'
    octal_definition: 37B9 + 431B
  mac:
    available: false
    code: ''
    mon_number: null
    notes: Not available
compatibility:
  nd100: false
  nd500: true
  user_programs: false
  rt_programs: false
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 89
  line: 3616
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
