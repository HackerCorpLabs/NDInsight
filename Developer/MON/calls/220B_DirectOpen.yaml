octal: 220B
name: DirectOpen
short_names:
- DOPEN
description: Opens a file. Files must be opened before they can be accessed. For public users this monitor
  call is identical to OpenFile. User SYSTEM and user RT are given the same access rights as the owner
  of a file.
see_also:
- OpenFile
- CloseFile
parameters:
- name: FileNumber
  type: INTEGER2
  io: O
  description: File number returned on success.
- name: AccessCode
  type: INTEGER2
  io: I
  description: 'Access code: 0=Sequential write, 1=Sequential read, 2=Random read/write, 3=Random read only, 4=Sequential read/write, 5=Sequential write append, 6=Random read/write common contiguous, 7=Random read common contiguous, 8=Random read/write contiguous direct transfer, 9=Random read/write append.'
- name: FileName
  type: STRING
  io: I
  description: File name.
- name: FileType
  type: STRING
  io: I
  description: File type. Do not include the colon. Default is SYMB.
examples:
  pascal:
    available: true
    code: 'FileNumber, AccCode : INTEGER2;

      FileName : PACKED ARRAY [0..63] OF CHAR;

      FileType : PACKED ARRAY [0..3] OF CHAR;

      ...

      DirectOpen(FileNumber, AccCode, FileName, FileType);

      IF ErrCode <> 0 THEN ...'
  cobol:
    available: true
    code: '01 FileNumber COMP.

      01 AccCode COMP.

      01 FileName PIC X(64).

      01 FileType PIC X(4).

      01 ErrCode COMP.

      ...

      MONITOR-CALL "DirectOpen" USING FileNumber, AccCode, FileName, FileType.

      CALL "CbError" USING ErrCode.

      IF ErrCode NOT = 0 GO ...'
  fortran:
    available: true
    code: 'INTEGER FileNumber, AccCode

      CHARACTER FileName*64, FileType*4

      ...

      Monitor_Call(''DirectOpen'', FileNumber, AccCode, FileName(1:64), FileType(1:4))

      C IF (ErrCode .NE. 0) THEN ...'
  planc:
    available: true
    code: "INTEGER : FileNumber, AccCode\nBYTES : FileName(0:63), FileType(0:3)\n...\nON ROUTINEERROR\
      \ DO\n    IF ErrCode > 0 THEN ...\nENDON\nMonitor_Call('DirectOpen', FileNumber, AccCode, FileName,\
      \ FileType)"
  assembly_500:
    available: true
    code: "FileNumber : W BLOCK 1\nAccCode : W BLOCK 1\nFileName : STRINGDATA 'EXAMPLE'\nFileType : STRINGDATA\
      \ 'SYMB'\nErrCode : W BLOCK 1\nDirectOpen : EQU 3789 + 220B\n...\n    CALLG DirectOpen, 4, FileNumber,\
      \ AccCode, FileName, FileType\n    IF K GO ERROR\n...\nERROR : W1 =: ErrCode         %ErrorCode\
      \ in W1 register."
    octal_definition: 37B9 + 220B
  mac:
    available: true
    code: 'LDX (FILE        %Address of file name string.

      LDA (TYPE        %Address of file type string.

      LDT ACCES        %Access code.

      MON 220          %Monitor call DirectOpen.

      JMP ERROR        %Error return from monitor call.

      STA FILNO        %Normal return, store the filenumber returned.

      ...

      ERROR, ...       %Error number in register A.

      ...

      FILNO, 0

      ACCES, ...

      FILE, ''EXAMPLE''  %Open EXAMPLE:SYMB

      TYPE, ''SYMB''     %



      | ND-100 and ND-500 | All users | All programs |'
    mon_number: 220
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 151
  line: 6579
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
