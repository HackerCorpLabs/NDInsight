# SINTRAN III Monitor Call: DirectOpen
# Octal: 220B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 220B
name: DirectOpen
short_names:
- DOPEN
description: ''
see_also:
- OpenFile
- CloseFile
parameters:
- name: Param1
  type: UNKNOWN
  io: I
  description: File number.
- name: Param2
  type: UNKNOWN
  io: I
  description: Access code. The legal values are shown below.
- name: '0'
  type: Sequential write.
  io: I
  description: ''
- name: '1'
  type: Sequential read.
  io: I
  description: ''
- name: '2'
  type: Random read or write.
  io: I
  description: ''
- name: '3'
  type: Random read only.
  io: I
  description: ''
- name: '4'
  type: Sequential read or write.
  io: I
  description: ''
- name: '5'
  type: Sequential write append.
  io: I
  description: ''
- name: '6'
  type: Random read or write common on contiguous files.
  io: I
  description: ''
- name: '7'
  type: Random read common on contiguous files.
  io: I
  description: ''
- name: '8'
  type: Random read or write on contiguous files. Direct transfer for ReadFromFile, WriteToFile and DeviceFunction
    in RT programs.
  io: I
  description: ''
- name: '9'
  type: Random read, write append for WriteToFile.
  io: I
  description: ''
- name: Param13
  type: UNKNOWN
  io: I
  description: File name.
- name: Param14
  type: UNKNOWN
  io: I
  description: File type. Do not include the colon. Default is 'SYMB'.
- name: Param15
  type: UNKNOWN
  io: I
  description: Standard Error Code. See appendix A.
examples:
  pascal:
    available: true
    code: |-
      FileNumber, AccCode : INTEGER2;
      FileName : PACKED ARRAY [0..63] OF CHAR;
      FileType : PACKED ARRAY [0..3] OF CHAR;
      ...
      DirectOpen(FileNumber, AccCode, FileName, FileType);
      IF ErrCode <> 0 THEN ...
  cobol:
    available: true
    code: |-
      01 FileNumber COMP.
      01 AccCode COMP.
      01 FileName PIC X(64).
      01 FileType PIC X(4).
      01 ErrCode COMP.
      ...
      MONITOR-CALL "DirectOpen" USING FileNumber, AccCode, FileName, FileType.
      CALL "CbError" USING ErrCode.
      IF ErrCode NOT = 0 GO ...
  fortran:
    available: true
    code: |-
      INTEGER FileNumber, AccCode
      CHARACTER FileName*64, FileType*4
      ...
      Monitor_Call('DirectOpen', FileNumber, AccCode, FileName(1:64), FileType(1:4))
      C IF (ErrCode .NE. 0) THEN ...
  planc:
    available: true
    code: |-
      INTEGER : FileNumber, AccCode
      BYTES : FileName(0:63), FileType(0:3)
      ...
      ON ROUTINEERROR DO
          IF ErrCode > 0 THEN ...
      ENDON
      Monitor_Call('DirectOpen', FileNumber, AccCode, FileName, FileType)
  assembly_500:
    available: true
    code: |-
      FileNumber : W BLOCK 1
      AccCode : W BLOCK 1
      FileName : STRINGDATA 'EXAMPLE'
      FileType : STRINGDATA 'SYMB'
      ErrCode : W BLOCK 1
      DirectOpen : EQU 3789 + 220B
      ...
          CALLG DirectOpen, 4, FileNumber, AccCode, FileName, FileType
          IF K GO ERROR
      ...
      ERROR : W1 =: ErrCode         %ErrorCode in W1 register.
    octal_definition: 37B9 + 220B
  mac:
    available: true
    code: |-
      LDX (FILE        %Address of file name string.
      LDA (TYPE        %Address of file type string.
      LDT ACCES        %Access code.
      MON 220          %Monitor call DirectOpen.
      JMP ERROR        %Error return from monitor call.
      STA FILNO        %Normal return, store the filenumber returned.
      ...
      ERROR, ...       %Error number in register A.
      ...
      FILNO, 0
      ACCES, ...
      FILE, 'EXAMPLE'  %Open EXAMPLE:SYMB
      TYPE, 'SYMB'     %


      | ND-100 and ND-500 | All users | All programs |
    mon_number: 220
compatibility:
  nd100: true
  nd500: true
  user_programs: true
  rt_programs: true
  system_programs: false
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 151
  line: 6579
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
