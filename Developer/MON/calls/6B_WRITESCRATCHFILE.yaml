# SINTRAN III Monitor Call: WRITESCRATCHFILE
# Octal: 6B
# Extracted from: Monitor Calls.md (ND-860228.2 EN)

octal: 6B
name: WRITESCRATCHFILE
short_names: []
description: Writes randomly to the scratch file. One block is transferred. There
  is one scratch file connected to each terminal. It is opened for random read and
  write access when you log in. Its file number is 100B.
notes:
- The standard block size is 512 bytes. You can change this with SetBlockSize. The
  first block is number 0.
see_also:
- WriteBlock
- WriteToFile
- and ReadScratchFile
references: []
parameters:
- name: ➔
  type: Block number to start the writing from.
  io: I
  description: ''
- name: ➔
  type: The data to be transferred.
  io: I
  description: ''
- name: ⬅
  type: Standard Error Code. See appendix A.
  io: I
  description: ''
examples:
  pascal:
    available: true
    code: 'BlockNumber : INTEGER2;

      Buffer : ARRAY [0..15] OF RECORD...END;

      ...

      WriteScratchFile(BlockNumber, Buffer);

      IF ErrCode <> 0 THEN ...'
    notes: ''
  cobol:
    available: true
    code: "01 BlockNumber COMP.\n01 Buffer.\n   02 array COMP OCCURS 256 TIMES.\n\
      01 ErrCode COMP.\n...\nMONITOR-CALL \"WriteScratchFile\" USING BlockNumber,\
      \ Buffer.\nCALL \"CbError\" USING ErrCode.\nIF ErrCode NOT = 0 GO ..."
    notes: ''
  fortran:
    available: true
    code: 'INTEGER BlockNumber

      INTEGER Buffer(256)

      ...

      Monitor Call(''WriteScratchFile'', BlockNumber, Buffer(1))

      IF (ErrCode .NE. 0) THEN ...'
    notes: ''
  planc:
    available: true
    code: "INTEGER : BlockNumber\nBYTES : Buffer(0:511)\n...\nON ROUTINEERROR DO\n\
      \    IF ErrCode > 0 THEN ...\nENDON\nMonitor_Call('WriteScratchFile', BlockNumber,\
      \ Buffer(0))"
    notes: ''
  assembly_500:
    available: false
    code: ''
    octal_definition: ''
    notes: Not available
  mac:
    available: true
    code: 'LDT  BLKNO   %Block number to be written into.

      LDX  (BUFF   %Address of buffer containing data to be written.

      MON  6       %Monitor call WriteScratchFile.

      JMP  ERROR   %Error return from monitor call.

      ...          %Normal return.

      ERROR, ...   %Error number in register A.

      ...

      BLKNO, ...

      BUFF, 0

      *+400/       %Make a buffer of 256 words, 1 block.



      | ND-100 | All users | Background programs |'
    mon_number: 6
    notes: ''
compatibility:
  platforms:
    nd100: true
    nd500: false
  users:
  - All users
  programs:
  - Background programs
  notes: ''
errors:
  returns_error: false
  error_codes: []
  error_reference: ''
source:
  document: SINTRAN III Monitor Calls (ND-860228.2 EN)
  page: 567
  line: 26031
  scan_date: '2020'
  scanned_by: Jonny Oddene for Sintran Data
extraction:
  date: '2025-01-06'
  version: '1.0'
  validated: false
  ocr_corrected: false
  ocr_notes: ''
