## Page 1

# BRF Editor

## NORSK DATA A.S

![N D]

---

## Page 2

# BRF Editor

A Subsystem in SINTRAN III for Handling Files

Containing BRF Code

---

## Page 3

# REVISION RECORD

| Revision | Notes            |
|----------|------------------|
| 6/77     | Original Printing|

Publ.No. ND–60.085.01  
June 1977

NORSK DATA A.S.  
Lørenveien 57, Postboks 163 Økern, Oslo 5, Norway

---

## Page 4

# TABLE OF CONTENTS

--ooOoo--

| Section |        | Page: |
|---------|--------|-------|
| 1       | GENERAL | 1-1   |
| 2       | COMMANDS| 2-1   |

--ooOoo--

ND-60. 085. 01

---

## Page 5

# 1 GENERAL

## 1.1
The BRF Editor can only read files containing BRF code. BRF code is the object code produced by the MAC assembler and the compilers.

## 1.2
A BRF unit is the BRF code beginning with the BRF control number 17₈ (BEG) and ending with the BRF control number 21₈ (END).

## 1.3
A BRF unit is identified by its first symbol name. Symbol name may be an ENTRY point, a MAIN symbol or a LIBR (library) symbol. A BRF unit may also be accessed by its unit number, which is the number of the BRF unit within the file, relative to the start of the file.

The first BRF unit in a file has the unit number 1. The BRF unit number must be specified in decimal format.

## 1.4
All files used as parameters (except ""OUTPUT FILE"") have :BRF as default file type.

## 1.6
Default value of the parameter "FIRST UNIT NO./UNIT NAME" is always the first BRF unit in the file.

Default value of the parameter "LAST UNIT NO./UNIT NAME" is always the last BRF unit in the file.

## 1.7
The terminal is always the default value of the parameter "OUTPUT FILE".

## 1.8
The BRF Editor will always check all BRF units for syntax error and checksum error.

## 1.9
The BRF Editor uses the terminal's scratch file as temporary storage in some commands.

## 1.10
The current-location-counter is the address which the code (in the BRF file) will be placed at load time.

ND-60.085.01

---

## Page 6

# 2 COMMANDS

## 2.1 EXCHANGE-UNITS `<source file>` `<destination file>`

The BRF units in the destination file, with the same identification as the BRF units in the source file, will be replaced by the BRF units in the source file.

The various BRF units in the destination file will have their same relative position within the file after the EXCHANGE-UNITS command as they had before the EXCHANGE-UNITS command.

BRF units in the source file, not found in the destination file, will be skipped with a warning message and the exchanging will continue.

BRF units without symbolic identification cannot be replaced.

## 2.2 APPEND-FILE `<source file>` `<destination file>`

The BRF units in the source file will be appended to the destination file after the last BRF unit in the destination file.

The BRF control number 23₈ (EOF) will be placed at the end of the destination file.

## 2.3 DELETE-UNITS `<file>` `(<first unit>)` `(<last unit>)`

The specified BRF units will be deleted from the file. The `(<first unit>)` is the first unit which will be deleted, and then all BRF units following, including `(<last unit>)` will be deleted.

## 2.4 APPEND-UNIT `<source file>` `<destination file>` `<unit>`

The BRF units in the source file will be inserted in the destination file after the unit identified by `<unit>`.

## 2.5 LIST-ENTRIES `<input file>` `<output file>`

This command will list all ENTRY, MAIN and LIBR symbols, in the `<input file>`, on the output file. The output will be in 3 columns, 1st column is the BRF unit number, 2nd column is the symbol name and the 3rd column is the symbol type (ENTR, MAIN or LIBR).

---

## Page 7

# 2.6 LIST-BRF `<input file>` `<first unit>` `<last unit>` `<output file>`

All BRF information in the specified BRF units in the input file will be listed on the `<output file>`. The information listed is:

1. Octal number of the BRF control number
2. Name of the BRF control number
3. All symbolic names (REF, ENTR, LIBR, MAIN, ASF, ADS etc.)
4. All "binary information" will be written as an octal number.
5. "Binary Information" belonging to the BRF control number 1 and 24<sub>8</sub> will in addition be disassembled, i.e., listed as MAC assembly code.
6. If the command SET-CLC (see section 2.12) is given, then the value of the current location counter will be written first on each line.

# 2.7 FETCH-UNITS `<source file>` `<destination file>` `<first unit>` `<last unit>`

The BRF units in the source file, specified by the parameters `<first unit>` and `<last unit>`, will be appended to the destination file after the last BRF unit in the destination file.

# 2.8 RENAME-SYMBOL `<old symbol>` `<new symbol>`

This command, together with the CHANGE-FILE command, may be used to change names of symbols in a BRF code file. The parameter `<old symbol>` is the current name of the symbol, and the parameter `<new symbol>` specifies the new symbol name. All symbols (ENTR, REF, COMMON, MAIN and LIBR) in the BRF code file with the name `<old symbol>` will be renamed to `<new symbol>` when using the CHANGE-FILE command. Many symbols may be renamed in the same CHANGE-FILE command. To reset the current specified symbols to rename, the CLEAR-TABLES command should be used.

# 2.9 CHANGE-FILE `<file>`

This command will rename all symbols specified by the RENAME-SYMBOL commands, in the file `<file>`. 

ND-60. 085. 01

---

## Page 8

## 2.10 CLEAR-TABLES

This command may be used to reset all RENAME-SYMBOL commands.

## 2.11 WRITE-EOF-AFTER-UNIT (<unit>) <destination file>

Insert the BRF control byte 23₈ (EOF) after the specified BRF unit in the destination file₈. Default value for the parameter (<unit>) is zero, i.e., the EOF byte will be written first on the file.

## 2.12 SET-CLC (<value>)

This command specifies that the value of the "current-location-counter" will be written on each line when using the LIST-BRF command. The parameter (<value>) specifies the first value of the "current-location-counter". This parameter must be specified as an octal number, and default value is zero.

## 2.13 RESET-CLC

This command is used to specify that the value of the "current-location-counter" shall not be written in the LIST-BRF command.

## 2.14 RESET

Reset the BRF editor.

## 2.15 HELP

List the available commands with their required parameters.

## 2.16 EXIT

Leave the BRF editor, give control to the operating system.

ND-60.085.01

---

## Page 9

# SEND US YOUR COMMENTS!!!

Are you frustrated because of unclear information in this manual? Do you have trouble finding things? Why don’t you join the Reader’s Club and send us a note? You will receive a membership card - and an answer to your comments.

Please let us know if you
- find errors
- cannot understand information
- cannot find information
- find needless information

Do you think we could improve the manual by rearranging the contents? You could also tell us if you like the manual!!

# HELP YOURSELF BY HELPING US!!

| Manual name: BRF EDITOR | Manual number: ND-60.085.01 |

What problems do you have? (use extra pages if needed)

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

Do you have suggestions for improving this manual?

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

________________________________________________________________________

| Your name: _____________________________ | Date: _______________________ |

| Company: ______________________________ | Position: ____________________ |

| Address: _______________________________ |

What are you using this manual for?

________________________________________________________________________

Send to: Norsk Data A.S.  
Documentation Department  
P.O. Box 4, Lindeberg Gård  
Oslo 10, Norway  

Norsk Data’s answer will be found on reverse side.

---

## Page 10

# Answer from Norsk Data

---

* * *

Answered by _____________________________ Date __________

---

Norsk Data A.S.  
Documentation Department  
P.O. Box 4, Lindeberg Gård  
Oslo 10, Norway

---

|     |     |  
|-----|-----|  
|  I  |  I  |  
|  I  |  I  |  
|  I  |  I  |

---

## Page 11

# Norsk Data A.S

- We make bits for the future

NORSK DATA A.S BOX 4 LINDEBERG GÅRD OSLO 10 NORWAY  
PHONE: 30 90 30  
TELEX: 18661

---

